import{c as L,r as t,H as Ee,j as e,J as ve,f as x,C as v,t as w,v as N,m as C,x as S,y as n,I,K as Ze,B as o,a as Ge,k as Qe,N as Xe,O as we,Q as Ne,L as z,R as ye,T as Se,q as es,U as le,s as ie,V as ss}from"./index-Cf-ALqSY.js";import{D as ne,a as ce,b as oe,c as de,d as me}from"./dialog-BOIgpWFS.js";import{T as as}from"./textarea-CQQE5plH.js";import{S as ts}from"./slider-BM5YSM3-.js";import{c as rs,P as Pe,a as ls}from"./index-D7xKO1tl.js";import{u as is}from"./react-icons.esm-Bd22pase.js";import{u as ns}from"./index-CIAnoO94.js";import{u as cs}from"./index-C2FXR0Sc.js";import{S as V,a as O,b as B,c as H,d as k}from"./select-BjbuLfIL.js";import{i as os,g as ds,T as Ce,s as ms}from"./instacartService-BVLG_QzM.js";import{C as xs}from"./check-bf7Js_Em.js";import{C as hs}from"./copy-CgnJrjL9.js";import{M as us,V as ps}from"./volume-2-2wDgbDQW.js";import{T as ke}from"./trash-2-rnJmcflB.js";import"./index-D3lK-NAo.js";import"./index-CW6EbC9e.js";import"./index-BdQq_4o_.js";import"./index-BwlJeuNj.js";import"./index-CFb7tyij.js";import"./index-Sr9UFM94.js";import"./index-Bzp9jVyF.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=L("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=L("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=L("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=L("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=L("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=L("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);var K="Switch",[vs]=rs(K),[ws,Ns]=vs(K),Me=t.forwardRef((d,u)=>{const{__scopeSwitch:l,name:g,checked:p,defaultChecked:c,required:b,disabled:r,value:m="on",onCheckedChange:D,form:f,...T}=d,[h,a]=t.useState(null),A=Ee(u,E=>a(E)),j=t.useRef(!1),F=h?f||!!h.closest("form"):!0,[P,y]=is({prop:p,defaultProp:c??!1,onChange:D,caller:K});return e.jsxs(ws,{scope:l,checked:P,disabled:r,children:[e.jsx(Pe.button,{type:"button",role:"switch","aria-checked":P,"aria-required":b,"data-state":Re(P),"data-disabled":r?"":void 0,disabled:r,value:m,...T,ref:A,onClick:ls(d.onClick,E=>{y(M=>!M),F&&(j.current=E.isPropagationStopped(),j.current||E.stopPropagation())})}),F&&e.jsx(Fe,{control:h,bubbles:!j.current,name:g,value:m,checked:P,required:b,disabled:r,form:f,style:{transform:"translateX(-100%)"}})]})});Me.displayName=K;var Ie="SwitchThumb",De=t.forwardRef((d,u)=>{const{__scopeSwitch:l,...g}=d,p=Ns(Ie,l);return e.jsx(Pe.span,{"data-state":Re(p.checked),"data-disabled":p.disabled?"":void 0,...g,ref:u})});De.displayName=Ie;var ys="SwitchBubbleInput",Fe=t.forwardRef(({__scopeSwitch:d,control:u,checked:l,bubbles:g=!0,...p},c)=>{const b=t.useRef(null),r=Ee(b,c),m=ns(l),D=cs(u);return t.useEffect(()=>{const f=b.current;if(!f)return;const T=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(T,"checked").set;if(m!==l&&a){const A=new Event("click",{bubbles:g});a.call(f,l),f.dispatchEvent(A)}},[m,l,g]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l,...p,tabIndex:-1,ref:r,style:{...p.style,...D,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Fe.displayName=ys;function Re(d){return d?"checked":"unchecked"}var Le=Me,Ss=De;const U=t.forwardRef(({className:d,...u},l)=>e.jsx(Le,{className:ve("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",d),...u,ref:l,children:e.jsx(Ss,{className:ve("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));U.displayName=Le.displayName;function Cs({userId:d}){const[u,l]=t.useState(!0),[g,p]=t.useState(!1),[c,b]=t.useState(!1),[r,m]=t.useState({userId:d,defaultService:"auto",deliveryAddress:{street:"",apt:"",city:"",state:"",zip:"",country:"US"},deliveryInstructions:"",preferredDeliveryWindow:"",autoRouteFreshItems:!0,autoRoutePantryItems:!0,enableCostOptimization:!0});t.useEffect(()=>{f(),D()},[d]);const D=async()=>{const a=await os();b(a)},f=async()=>{l(!0);try{const a=await ds(d);a&&m(a)}catch(a){console.error("Error loading delivery preferences:",a),x.error("Failed to load delivery preferences")}finally{l(!1)}},T=async()=>{p(!0);try{await ms(r),x.success("Delivery preferences saved successfully")}catch(a){console.error("Error saving delivery preferences:",a),x.error("Failed to save delivery preferences")}finally{p(!1)}},h=(a,A)=>{m(j=>({...j,deliveryAddress:{...j.deliveryAddress,[a]:A}}))};return u?e.jsxs(v,{children:[e.jsx(w,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"}),"Delivery Preferences"]})}),e.jsx(C,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})})]}):e.jsxs(v,{children:[e.jsxs(w,{children:[e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"}),"Delivery Preferences"]}),e.jsx(S,{children:c?"Manage your delivery address and routing preferences for Instacart and Amazon":"Set up your delivery preferences. Instacart integration is currently disabled."})]}),e.jsxs(C,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(fs,{className:"w-4 h-4"}),"Delivery Address"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"street",children:"Street Address"}),e.jsx(I,{id:"street",value:r.deliveryAddress.street||"",onChange:a=>h("street",a.target.value),placeholder:"123 Main St"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"apt",children:"Apartment / Unit (Optional)"}),e.jsx(I,{id:"apt",value:r.deliveryAddress.apt||"",onChange:a=>h("apt",a.target.value),placeholder:"Apt 4B"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"city",children:"City"}),e.jsx(I,{id:"city",value:r.deliveryAddress.city||"",onChange:a=>h("city",a.target.value),placeholder:"New York"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"state",children:"State"}),e.jsx(I,{id:"state",value:r.deliveryAddress.state||"",onChange:a=>h("state",a.target.value),placeholder:"NY",maxLength:2})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"zip",children:"ZIP Code"}),e.jsx(I,{id:"zip",value:r.deliveryAddress.zip||"",onChange:a=>h("zip",a.target.value),placeholder:"10001",maxLength:10})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"country",children:"Country"}),e.jsxs(V,{value:r.deliveryAddress.country||"US",onValueChange:a=>h("country",a),children:[e.jsx(O,{id:"country",children:e.jsx(B,{})}),e.jsxs(H,{children:[e.jsx(k,{value:"US",children:"United States"}),e.jsx(k,{value:"CA",children:"Canada"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"instructions",children:"Delivery Instructions (Optional)"}),e.jsx(I,{id:"instructions",value:r.deliveryInstructions||"",onChange:a=>m({...r,deliveryInstructions:a.target.value}),placeholder:"Leave at front door, ring doorbell"})]})]})]}),c&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(Ze,{className:"w-4 h-4"}),"Routing Preferences"]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"defaultService",children:"Default Service"}),e.jsxs(V,{value:r.defaultService,onValueChange:a=>m({...r,defaultService:a}),children:[e.jsx(O,{id:"defaultService",children:e.jsx(B,{})}),e.jsxs(H,{children:[e.jsx(k,{value:"auto",children:"Auto (Smart Routing)"}),e.jsx(k,{value:"instacart",children:"Instacart Only"}),e.jsx(k,{value:"amazon",children:"Amazon Only"}),e.jsx(k,{value:"manual",children:"Manual Selection"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Auto routing sends fresh items to Instacart and pantry items to Amazon"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Auto-route Fresh Items"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically send produce, meat, and dairy to Instacart"})]}),e.jsx(U,{checked:r.autoRouteFreshItems,onCheckedChange:a=>m({...r,autoRouteFreshItems:a})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Auto-route Pantry Items"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically send packaged goods to Amazon"})]}),e.jsx(U,{checked:r.autoRoutePantryItems,onCheckedChange:a=>m({...r,autoRoutePantryItems:a})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{children:"Enable Cost Optimization"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Suggest best pricing between services"})]}),e.jsx(U,{checked:r.enableCostOptimization,onCheckedChange:a=>m({...r,enableCostOptimization:a})})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"deliveryWindow",children:"Preferred Delivery Window (Optional)"}),e.jsx(I,{id:"deliveryWindow",value:r.preferredDeliveryWindow||"",onChange:a=>m({...r,preferredDeliveryWindow:a.target.value}),placeholder:"e.g., 2-4 PM"})]})]}),e.jsx(o,{onClick:T,disabled:g||!r.deliveryAddress.street,className:"w-full",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),"Save Delivery Preferences"]})}),!r.deliveryAddress.street&&e.jsx("p",{className:"text-xs text-amber-600 text-center",children:"Please enter your delivery address to enable delivery features"})]})]})}const ks=[{label:"--- Americas ---",value:"header-americas",isHeader:!0},{label:"Eastern Time (ET)",value:"America/New_York"},{label:"Central Time (CT)",value:"America/Chicago"},{label:"Mountain Time (MT)",value:"America/Denver"},{label:"Pacific Time (PT)",value:"America/Los_Angeles"},{label:"Alaska Time (AKT)",value:"America/Anchorage"},{label:"Hawaii Time (HT)",value:"Pacific/Honolulu"},{label:"Toronto",value:"America/Toronto"},{label:"Mexico City",value:"America/Mexico_City"},{label:"São Paulo",value:"America/Sao_Paulo"},{label:"Buenos Aires",value:"America/Argentina/Buenos_Aires"},{label:"Santiago",value:"America/Santiago"},{label:"--- Europe ---",value:"header-europe",isHeader:!0},{label:"London (GMT/BST)",value:"Europe/London"},{label:"Paris (CET/CEST)",value:"Europe/Paris"},{label:"Berlin (CET/CEST)",value:"Europe/Berlin"},{label:"Rome (CET/CEST)",value:"Europe/Rome"},{label:"Madrid (CET/CEST)",value:"Europe/Madrid"},{label:"Amsterdam (CET/CEST)",value:"Europe/Amsterdam"},{label:"Stockholm (CET/CEST)",value:"Europe/Stockholm"},{label:"Athens (EET/EEST)",value:"Europe/Athens"},{label:"Moscow (MSK)",value:"Europe/Moscow"},{label:"Istanbul (TRT)",value:"Europe/Istanbul"},{label:"--- Asia ---",value:"header-asia",isHeader:!0},{label:"Dubai (GST)",value:"Asia/Dubai"},{label:"Mumbai (IST)",value:"Asia/Kolkata"},{label:"Bangkok (ICT)",value:"Asia/Bangkok"},{label:"Singapore (SGT)",value:"Asia/Singapore"},{label:"Hong Kong (HKT)",value:"Asia/Hong_Kong"},{label:"Shanghai (CST)",value:"Asia/Shanghai"},{label:"Tokyo (JST)",value:"Asia/Tokyo"},{label:"Seoul (KST)",value:"Asia/Seoul"},{label:"Manila (PHT)",value:"Asia/Manila"},{label:"Jakarta (WIB)",value:"Asia/Jakarta"},{label:"--- Africa ---",value:"header-africa",isHeader:!0},{label:"Cairo (EET)",value:"Africa/Cairo"},{label:"Johannesburg (SAST)",value:"Africa/Johannesburg"},{label:"Lagos (WAT)",value:"Africa/Lagos"},{label:"Nairobi (EAT)",value:"Africa/Nairobi"},{label:"--- Oceania ---",value:"header-oceania",isHeader:!0},{label:"Sydney (AEST/AEDT)",value:"Australia/Sydney"},{label:"Melbourne (AEST/AEDT)",value:"Australia/Melbourne"},{label:"Brisbane (AEST)",value:"Australia/Brisbane"},{label:"Perth (AWST)",value:"Australia/Perth"},{label:"Auckland (NZST/NZDT)",value:"Pacific/Auckland"}];function Ks({onNavigate:d}){const{signOut:u,user:l}=Ge(),{language:g,setLanguage:p,t:c}=Qe(),[b,r]=t.useState("user-demo123@mealscrape.app"),[m,D]=t.useState(!1),[f,T]=t.useState(!1),[h,a]=t.useState(!1),[A,j]=t.useState(""),[F,P]=t.useState(!1),[y,E]=t.useState({speechRate:1,voiceIndex:0,autoRead:!0}),[M,ze]=t.useState([]),[xe,J]=t.useState(!1),[Z,he]=t.useState("America/New_York"),[_,ue]=t.useState(g),[Y,pe]=t.useState(!1),[Ve,W]=t.useState(!1),[$,G]=t.useState(""),[Q,X]=t.useState(""),[ee,ge]=t.useState(!1),[Oe,Be]=t.useState(!1),[be,fe]=t.useState(!1),[He,q]=t.useState(!1),[se,ae]=t.useState(""),[te,je]=t.useState(!1);t.useEffect(()=>{Xe().then(Be)},[]),t.useEffect(()=>{if("speechSynthesis"in window){const s=window.speechSynthesis.getVoices();ze(s)}},[]),t.useEffect(()=>{(async()=>{if(l){const{data:i}=await ie.from("profiles").select("timezone, language").eq("id",l.id).maybeSingle();i&&(i.timezone&&he(i.timezone),i.language&&ue(i.language))}})()},[l]);const Ue=async()=>{if(l){pe(!0);try{const{error:s}=await ie.from("profiles").update({timezone:Z,language:_}).eq("id",l.id);if(s)throw s;await p(_),x.success(c.settings.changesSaved)}catch(s){console.error("Error saving preferences:",s),x.error(c.settings.errorSaving)}finally{pe(!1)}}},_e=async()=>{try{await navigator.clipboard.writeText(b),T(!0),setTimeout(()=>T(!1),2e3)}catch{console.error("Failed to copy")}},Ye=()=>{if("speechSynthesis"in window){J(!0),window.speechSynthesis.cancel();const s=new SpeechSynthesisUtterance("This is how I will read your recipe steps. Next, preheat the oven to 350 degrees Fahrenheit.");s.rate=y.speechRate,M.length>0&&y.voiceIndex<M.length&&(s.voice=M[y.voiceIndex]),s.onend=()=>J(!1),s.onerror=()=>J(!1),window.speechSynthesis.speak(s)}},We=async()=>{if(window.confirm("This will download and store all Instagram images permanently. Continue?")){fe(!0),x.loading("Migrating images... This may take a while",{id:"migrate",duration:0});try{const s=await ss();if(s){const{successCount:i,expiredCount:R,expiredPosts:re,total:qe}=s;if(R>0){const Ke=(re==null?void 0:re.map(Je=>`"${Je.title}"`).join(", "))||"";x.warning(`Migration complete! Migrated: ${i}, Expired URLs: ${R}. These posts need to be re-added: ${Ke}`,{id:"migrate",duration:1e4})}else x.success(`Migration complete! Successfully migrated ${i} of ${qe} posts`,{id:"migrate"})}else x.error("Migration failed - no result returned",{id:"migrate"})}catch(s){x.error("Migration failed: "+s.message,{id:"migrate"})}finally{fe(!1)}}},$e=async()=>{if(se!=="DELETE"){x.error("Please type DELETE to confirm");return}je(!0),x.loading("Deleting your account and all data...",{id:"delete-account"});try{if(!l)throw new Error("No user logged in");const{data:{session:s}}=await ie.auth.getSession();if(!s)throw new Error("No active session");const i=await fetch("https://vohvdarghgqskzqjclux.supabase.co/functions/v1/delete-account",{method:"POST",headers:{Authorization:`Bearer ${s.access_token}`,"Content-Type":"application/json"}});if(!i.ok){const R=await i.json().catch(()=>({}));throw console.error("Delete account error response:",R),new Error(R.error||R.message||"Failed to delete account")}x.success("Account deleted successfully",{id:"delete-account"}),await u()}catch(s){console.error("Error deleting account:",s),x.error("Failed to delete account: "+s.message,{id:"delete-account"}),je(!1),q(!1),ae("")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[e.jsxs("div",{className:"w-full max-w-5xl mx-auto px-4 pt-2 pb-20 sm:px-6 md:px-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-6 md:mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-slate-900 mb-1 sm:mb-2",children:c.settings.title}),e.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:c.settings.preferences})]}),e.jsxs("div",{className:"space-y-4 sm:space-y-5 md:space-y-6",children:[e.jsx(v,{className:"border-slate-200 shadow-sm overflow-hidden",children:e.jsx(w,{className:"bg-gradient-to-br from-orange-50 to-red-50 border-b border-orange-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-orange-600 flex items-center justify-center shrink-0",children:e.jsx(we,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(N,{className:"text-lg sm:text-xl md:text-2xl text-slate-900 truncate",children:"Account"}),e.jsx(S,{className:"text-xs sm:text-sm text-slate-600 truncate",children:(l==null?void 0:l.email)||"user@example.com"})]}),e.jsxs(o,{onClick:u,variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-50 shrink-0 text-xs sm:text-sm",children:[e.jsx(bs,{className:"w-3 h-3 sm:w-4 sm:h-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Log Out"})]})]})})}),e.jsxs(v,{className:"border-slate-200 shadow-sm overflow-hidden",children:[e.jsx(w,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-b border-blue-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-600 flex items-center justify-center shrink-0",children:e.jsx(gs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx(N,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:c.settings.preferences}),e.jsx(S,{className:"text-xs sm:text-sm text-slate-600",children:c.settings.languageDescription})]})]})}),e.jsx(C,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"language-select",className:"text-xs sm:text-sm font-medium text-slate-700 mb-2 block",children:c.settings.language}),e.jsxs(V,{value:_,onValueChange:s=>ue(s),disabled:Y,children:[e.jsx(O,{id:"language-select",className:"w-full h-10 sm:h-11 text-sm sm:text-base",children:e.jsx(B,{placeholder:"Select your language"})}),e.jsx(H,{children:Object.entries(Ne).map(([s,i])=>e.jsx(k,{value:s,className:"text-sm sm:text-base",children:i},s))})]}),e.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 mt-2",children:["Selected: ",e.jsx("span",{className:"font-medium text-slate-700",children:Ne[_]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"timezone-select",className:"text-xs sm:text-sm font-medium text-slate-700 mb-2 block",children:c.settings.timezone}),e.jsxs(V,{value:Z,onValueChange:he,disabled:Y,children:[e.jsx(O,{id:"timezone-select",className:"w-full h-10 sm:h-11 text-sm sm:text-base",children:e.jsx(B,{placeholder:"Select your timezone"})}),e.jsx(H,{children:ks.map(s=>s.isHeader?e.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-slate-500 bg-slate-50",children:s.label},s.value):e.jsx(k,{value:s.value,className:"text-sm sm:text-base",children:s.label},s.value))})]}),e.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 mt-2",children:["Current: ",e.jsx("span",{className:"font-medium text-slate-700",children:Z})]})]}),e.jsx(o,{onClick:Ue,disabled:Y,className:"w-full bg-blue-600 hover:bg-blue-700 text-white h-10 sm:h-11",children:Y?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4 mr-2 animate-spin"}),c.settings.saving]}):c.settings.saveChanges})]})})]}),l&&e.jsx(Cs,{userId:l.id}),e.jsxs(v,{className:"border-slate-200 shadow-sm overflow-hidden",children:[e.jsx(w,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-b border-purple-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-purple-600 flex items-center justify-center shrink-0",children:e.jsx(ye,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx(N,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"Change Password"}),e.jsx(S,{className:"text-xs sm:text-sm text-slate-600",children:"Update your account password"})]})]})}),e.jsx(C,{className:"p-4 sm:p-6",children:e.jsxs(o,{onClick:()=>W(!0),className:"w-full bg-purple-600 hover:bg-purple-700 h-10 sm:h-11 text-sm sm:text-base",children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Change Password"]})})]}),e.jsxs(v,{className:"border-slate-200 shadow-sm overflow-hidden",children:[e.jsx(w,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-b border-emerald-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-emerald-600 flex items-center justify-center shrink-0",children:e.jsx(Te,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx(N,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"App Tutorial"}),e.jsx(S,{className:"text-xs sm:text-sm text-slate-600",children:"View the welcome tutorial again"})]})]})}),e.jsx(C,{className:"p-4 sm:p-6",children:e.jsxs(o,{onClick:()=>d("onboarding"),className:"w-full bg-emerald-600 hover:bg-emerald-700 h-10 sm:h-11 text-sm sm:text-base",children:[e.jsx(Te,{className:"w-4 h-4 mr-2"}),"View Tutorial"]})})]}),e.jsxs(v,{className:"border-slate-200 shadow-sm overflow-hidden",children:[e.jsx(w,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-b border-blue-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-600 flex items-center justify-center shrink-0",children:e.jsx(we,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx(N,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"Your Forwarding Email"}),e.jsx(S,{className:"text-xs sm:text-sm text-slate-600",children:"Coming soon... Email recipes to your personal inbox"})]})]})}),e.jsxs(C,{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 sm:p-4 border-2 border-slate-200",children:[e.jsx(n,{className:"text-xs font-medium text-slate-600 uppercase tracking-wide mb-2 block",children:"Your Unique Email Address"}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("code",{className:"flex-1 text-xs sm:text-sm md:text-base font-mono font-semibold text-slate-900 bg-white px-3 py-2 sm:px-4 sm:py-3 rounded-md border border-slate-200 overflow-x-auto",children:b}),e.jsx(o,{onClick:_e,variant:"outline",size:"icon",className:"h-10 w-10 sm:h-12 sm:w-12 shrink-0",children:f?e.jsx(xs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"}):e.jsx(hs,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),e.jsxs("div",{className:"mt-4 sm:mt-6 space-y-3",children:[e.jsx("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-100",children:e.jsxs("p",{className:"text-xs sm:text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"How it works:"})," Forward any recipe to this email, and it will automatically be saved to your collection."]})}),e.jsxs(o,{onClick:()=>a(!0),variant:"outline",className:"w-full border-blue-200 hover:bg-blue-50 h-10 sm:h-11 text-sm sm:text-base",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Test Email Import"]})]})]})]}),e.jsxs(v,{className:"border-slate-200 shadow-sm",children:[e.jsx(w,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-emerald-600 flex items-center justify-center shrink-0",children:e.jsx(us,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx(N,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"Voice Control"}),e.jsx(S,{className:"text-xs sm:text-sm text-slate-600",children:"Customize voice commands in Cook Mode"})]})]})}),e.jsx(C,{className:"p-4 sm:p-6",children:"speechSynthesis"in window?e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-gradient-to-br from-emerald-50 to-teal-50 rounded-lg border border-emerald-200",children:[e.jsxs("div",{className:"flex-1 min-w-0 mr-3",children:[e.jsx(n,{htmlFor:"auto-read",className:"text-sm sm:text-base font-semibold text-slate-900 cursor-pointer",children:"Auto-Read Steps"}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mt-1",children:"Auto-read each step aloud"})]}),e.jsx(U,{id:"auto-read",checked:y.autoRead,onCheckedChange:s=>E(i=>({...i,autoRead:s}))})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs(n,{className:"text-sm sm:text-base font-semibold text-slate-900",children:["Speech Rate: ",y.speechRate.toFixed(1),"x"]}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("span",{className:"text-xs sm:text-sm text-slate-600 w-10 sm:w-12",children:"Slow"}),e.jsx(ts,{value:[y.speechRate],onValueChange:s=>E(i=>({...i,speechRate:s[0]})),min:.5,max:2,step:.1,className:"flex-1"}),e.jsx("span",{className:"text-xs sm:text-sm text-slate-600 w-10 sm:w-12 text-right",children:"Fast"})]})]}),M.length>0&&e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsx(n,{className:"text-sm sm:text-base font-semibold text-slate-900",children:"Voice Selection"}),e.jsxs(V,{value:y.voiceIndex.toString(),onValueChange:s=>E(i=>({...i,voiceIndex:parseInt(s)})),children:[e.jsx(O,{className:"w-full h-10 sm:h-11 text-sm sm:text-base",children:e.jsx(B,{})}),e.jsx(H,{children:M.map((s,i)=>e.jsxs(k,{value:i.toString(),className:"text-sm sm:text-base",children:[s.name," (",s.lang,")"]},i))})]})]}),e.jsxs(o,{onClick:Ye,disabled:xe,variant:"outline",className:"w-full border-emerald-300 hover:bg-emerald-100 hover:border-emerald-400 h-10 sm:h-11 text-sm sm:text-base",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),xe?"Playing...":"Test Voice Settings"]}),e.jsx("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-xs sm:text-sm text-slate-700",children:[e.jsx("span",{className:"font-semibold",children:"Voice commands in Cook Mode:"}),e.jsx("br",{}),'"Next", "Previous", "Repeat", "Read ingredients", and more.']})})]}):e.jsx("div",{className:"p-3 sm:p-4 bg-amber-50 rounded-lg border border-amber-300",children:e.jsx("p",{className:"text-xs sm:text-sm text-amber-900",children:"Voice control not supported in your browser. Try Chrome, Edge, or Safari."})})})]}),Oe&&e.jsxs(v,{className:"border-purple-200 shadow-sm overflow-hidden",children:[e.jsx(w,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-b border-purple-100 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-purple-600 flex items-center justify-center shrink-0",children:e.jsx(Se,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx(N,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"Admin Tools"}),e.jsx(S,{className:"text-xs sm:text-sm text-slate-600",children:"Database maintenance and migration tools"})]})]})}),e.jsx(C,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-200",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Migrate Instagram Images"}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Downloads all Instagram images from posts and stores them permanently in Supabase storage to prevent expiration."}),e.jsx(o,{onClick:We,disabled:be,className:"w-full sm:w-auto bg-purple-600 hover:bg-purple-700",children:be?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4 mr-2 animate-spin"}),"Migrating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"Migrate Images"]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Compress Product Images"}),e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Reduce Amazon product image file sizes by ~75% while maintaining dimensions. Saves storage space and improves load times."}),e.jsxs(o,{onClick:()=>d("admin-product-compression"),className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700",children:[e.jsx(es,{className:"w-4 h-4 mr-2"}),"Compress Images"]})]})]})})]}),e.jsxs(v,{className:"border-red-300 shadow-sm overflow-hidden",children:[e.jsx(w,{className:"bg-gradient-to-br from-red-50 to-rose-50 border-b border-red-200 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-red-600 flex items-center justify-center shrink-0",children:e.jsx(le,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx(N,{className:"text-lg sm:text-xl md:text-2xl text-red-900",children:"Danger Zone"}),e.jsx(S,{className:"text-xs sm:text-sm text-red-700",children:"Permanent account deletion"})]})]})}),e.jsx(C,{className:"p-4 sm:p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-red-900 mb-2 flex items-center gap-2",children:[e.jsx(le,{className:"w-5 h-5"}),"Delete Your Account"]}),e.jsx("p",{className:"text-sm text-red-800 mb-3",children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),e.jsxs("ul",{className:"text-sm text-red-700 space-y-1 mb-4 list-disc list-inside",children:[e.jsx("li",{children:"All your saved recipes will be deleted"}),e.jsx("li",{children:"Your profile and posts will be removed"}),e.jsx("li",{children:"All uploaded images and videos will be deleted"}),e.jsx("li",{children:"Your meal plans and grocery lists will be lost"}),e.jsx("li",{children:"You will lose access to any premium features"})]}),e.jsxs(o,{onClick:()=>q(!0),variant:"destructive",className:"w-full sm:w-auto bg-red-600 hover:bg-red-700",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})})})]})]})]}),e.jsx(ne,{open:h,onOpenChange:a,children:e.jsxs(ce,{className:"w-[95vw] max-w-2xl max-h-[85vh] overflow-y-auto mx-auto",children:[e.jsxs(oe,{children:[e.jsxs(de,{className:"text-lg sm:text-xl md:text-2xl flex items-center gap-2",children:[e.jsx(Ae,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),"Test Email Import"]}),e.jsx(me,{className:"text-xs sm:text-sm",children:"Paste recipe text to simulate email import"})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4 mt-4",children:[e.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 sm:p-4 border border-slate-200",children:[e.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-2",children:e.jsx("span",{className:"font-semibold",children:"Example format:"})}),e.jsx("pre",{className:"text-[10px] sm:text-xs text-slate-700 bg-white p-2 sm:p-3 rounded border border-slate-200 overflow-x-auto",children:`Chocolate Chip Cookies

Ingredients:
2 cups flour
1 tsp baking soda
1 cup butter
2 eggs
2 cups chocolate chips

Instructions:
1. Preheat oven to 375°F
2. Mix dry ingredients
3. Cream butter and sugar
4. Fold in chips
5. Bake 10-12 minutes`})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"recipe-text",className:"text-sm sm:text-base font-semibold mb-2 block",children:"Paste Recipe Text"}),e.jsx(as,{id:"recipe-text",placeholder:"Paste your recipe here...",value:A,onChange:s=>j(s.target.value),className:"min-h-[200px] sm:min-h-[300px] font-mono text-xs sm:text-sm"})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsx(o,{onClick:()=>{P(!0),setTimeout(()=>{P(!1),a(!1),j("")},1e3)},disabled:F||!A.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 h-10 sm:h-11 text-sm sm:text-base",children:F?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):"Import Recipe"}),e.jsx(o,{onClick:()=>{a(!1),j("")},variant:"outline",disabled:F,className:"h-10 sm:h-11 text-sm sm:text-base",children:"Cancel"})]})]})]})}),e.jsx(ne,{open:Ve,onOpenChange:W,children:e.jsxs(ce,{className:"w-[95vw] max-w-md mx-auto",children:[e.jsxs(oe,{children:[e.jsx(de,{className:"text-lg sm:text-xl",children:"Change Password"}),e.jsx(me,{className:"text-xs sm:text-sm",children:"Enter your new password. Must be at least 6 characters."})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"new-password",className:"text-sm sm:text-base",children:"New Password"}),e.jsx("input",{id:"new-password",type:"password",value:$,onChange:s=>G(s.target.value),className:"w-full px-3 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter new password"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"confirm-password",className:"text-sm sm:text-base",children:"Confirm Password"}),e.jsx("input",{id:"confirm-password",type:"password",value:Q,onChange:s=>X(s.target.value),className:"w-full px-3 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Confirm new password"})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 pt-2",children:[e.jsx(o,{onClick:()=>{if($!==Q){alert("Passwords do not match");return}if($.length<6){alert("Password must be at least 6 characters");return}ge(!0),setTimeout(()=>{ge(!1),W(!1),G(""),X("")},1e3)},disabled:ee||!$||!Q,className:"flex-1 bg-purple-600 hover:bg-purple-700 h-10 sm:h-11 text-sm sm:text-base",children:ee?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update Password"}),e.jsx(o,{onClick:()=>{W(!1),G(""),X("")},variant:"outline",disabled:ee,className:"h-10 sm:h-11 text-sm sm:text-base",children:"Cancel"})]})]})]})}),e.jsx(ne,{open:He,onOpenChange:q,children:e.jsxs(ce,{className:"w-[95vw] max-w-md mx-auto",children:[e.jsxs(oe,{children:[e.jsxs(de,{className:"text-lg sm:text-xl text-red-900 flex items-center gap-2",children:[e.jsx(le,{className:"w-5 h-5"}),"Delete Account"]}),e.jsx(me,{className:"text-xs sm:text-sm text-red-700",children:"This action is permanent and cannot be undone."})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-red-900 mb-2",children:"You will lose everything:"}),e.jsxs("ul",{className:"text-sm text-red-800 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"All your saved recipes"}),e.jsx("li",{children:"Your profile and all posts"}),e.jsx("li",{children:"All uploaded photos and videos"}),e.jsx("li",{children:"Meal plans and grocery lists"}),e.jsx("li",{children:"Followers and following connections"}),e.jsx("li",{children:"All referral rewards"})]})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"delete-confirm",className:"text-sm sm:text-base font-semibold text-red-900",children:["Type ",e.jsx("span",{className:"font-mono bg-red-100 px-2 py-0.5 rounded",children:"DELETE"})," to confirm"]}),e.jsx("input",{id:"delete-confirm",type:"text",value:se,onChange:s=>ae(s.target.value),className:"w-full px-3 py-2 sm:py-2.5 text-sm sm:text-base border-2 border-red-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 mt-2",placeholder:"Type DELETE"})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 pt-2",children:[e.jsx(o,{onClick:()=>{q(!1),ae("")},variant:"outline",disabled:te,className:"flex-1 h-10 sm:h-11 text-sm sm:text-base",children:"Cancel"}),e.jsx(o,{onClick:$e,disabled:te||se!=="DELETE",variant:"destructive",className:"flex-1 bg-red-600 hover:bg-red-700 h-10 sm:h-11 text-sm sm:text-base",children:te?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Delete Forever"]})})]})]})]})})]})}export{Ks as default};
