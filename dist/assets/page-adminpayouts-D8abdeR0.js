import{r,j as e,a7 as ee,a8 as $e,a9 as Le,aa as se,ab as ae,ac as te,ad as le,ae as re,af as ne,ag as Ue,ah as ie,ai as oe,aj as de,K as ce,ak as ze,_ as ue,$ as me,al as xe,am as fe,an as he,ao as He,ap as Ve,aq as Ee,H as z,ar as Be,W as Q,as as Oe}from"./react-vendor-z9ssXL8w.js";import{f as i,n as pe,C as Ie,a as Ye,b as We,c as Ke,s as L,I as Xe,S as Ge,o as Je,p as Qe,q as Ze,r as R,B as T,h as V,D as es,i as ss,j as as,k as ts,t as ls,L as w,T as Z,u as rs}from"./page-addrecipe-Pb6dTsbS.js";import{f as D,u as $}from"./vendor-Clj4czuh.js";import{d as ns}from"./services-BpcRR5rK.js";const q=r.forwardRef(({className:s,orientation:a="horizontal",decorative:t=!0,...o},g)=>e.jsx(ee,{ref:g,decorative:t,orientation:a,className:i("shrink-0 bg-border",a==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...o}));q.displayName=ee.displayName;const is=$e,os=Le,ge=r.forwardRef(({className:s,...a},t)=>e.jsx(ne,{className:i("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t}));ge.displayName=ne.displayName;const je=r.forwardRef(({className:s,...a},t)=>e.jsxs(os,{children:[e.jsx(ge,{}),e.jsx(se,{ref:t,className:i("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a})]}));je.displayName=se.displayName;const be=({className:s,...a})=>e.jsx("div",{className:i("flex flex-col space-y-2 text-center sm:text-left",s),...a});be.displayName="AlertDialogHeader";const Ne=({className:s,...a})=>e.jsx("div",{className:i("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a});Ne.displayName="AlertDialogFooter";const ye=r.forwardRef(({className:s,...a},t)=>e.jsx(ae,{ref:t,className:i("text-lg font-semibold",s),...a}));ye.displayName=ae.displayName;const ve=r.forwardRef(({className:s,...a},t)=>e.jsx(te,{ref:t,className:i("text-sm text-muted-foreground",s),...a}));ve.displayName=te.displayName;const we=r.forwardRef(({className:s,...a},t)=>e.jsx(re,{ref:t,className:i(pe(),s),...a}));we.displayName=re.displayName;const Pe=r.forwardRef(({className:s,...a},t)=>e.jsx(le,{ref:t,className:i(pe({variant:"outline"}),"mt-2 sm:mt-0",s),...a}));Pe.displayName=le.displayName;const ds=Ue,_e=r.forwardRef(({className:s,...a},t)=>e.jsx(ie,{ref:t,className:i("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...a}));_e.displayName=ie.displayName;const A=r.forwardRef(({className:s,...a},t)=>e.jsx(oe,{ref:t,className:i("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s),...a}));A.displayName=oe.displayName;const M=r.forwardRef(({className:s,...a},t)=>e.jsx(de,{ref:t,className:i("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a}));M.displayName=de.displayName;function cs({payouts:s}){const a=s.filter(l=>l.payout_status==="pending"),t=s.filter(l=>l.payout_status==="processing"),o=s.filter(l=>l.payout_status==="paid"),g=s.filter(l=>l.payout_status==="failed"),N=a.reduce((l,d)=>l+d.reward_amount,0);o.reduce((l,d)=>l+d.reward_amount,0);const b=new Date().getMonth(),P=new Date().getFullYear(),x=o.filter(l=>{if(!l.paid_at)return!1;const d=new Date(l.paid_at);return d.getMonth()===b&&d.getFullYear()===P}),S=x.reduce((l,d)=>l+d.reward_amount,0),f=[{title:"Pending Payouts",value:a.length,amount:`$${N.toFixed(2)}`,icon:ce,color:"text-yellow-600",bgColor:"bg-yellow-100"},{title:"Processing",value:t.length,amount:`$${t.reduce((l,d)=>l+d.reward_amount,0).toFixed(2)}`,icon:ze,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Paid This Month",value:x.length,amount:`$${S.toFixed(2)}`,icon:ue,color:"text-green-600",bgColor:"bg-green-100"},{title:"Failed",value:g.length,amount:`$${g.reduce((l,d)=>l+d.reward_amount,0).toFixed(2)}`,icon:me,color:"text-red-600",bgColor:"bg-red-100"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:f.map(l=>e.jsxs(Ie,{children:[e.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(We,{className:"text-sm font-medium",children:l.title}),e.jsx("div",{className:`p-2 rounded-full ${l.bgColor}`,children:e.jsx(l.icon,{className:`h-4 w-4 ${l.color}`})})]}),e.jsxs(Ke,{children:[e.jsx("div",{className:"text-2xl font-bold",children:l.value}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l.amount})]})]},l.title))})}const E=r.forwardRef(({className:s,...a},t)=>e.jsx(xe,{ref:t,className:i("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a}));E.displayName=xe.displayName;const B=r.forwardRef(({className:s,...a},t)=>e.jsx(fe,{ref:t,className:i("aspect-square h-full w-full",s),...a}));B.displayName=fe.displayName;const O=r.forwardRef(({className:s,...a},t)=>e.jsx(he,{ref:t,className:i("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a}));O.displayName=he.displayName;const Ce=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:t,className:i("w-full caption-bottom text-sm",s),...a})}));Ce.displayName="Table";const Se=r.forwardRef(({className:s,...a},t)=>e.jsx("thead",{ref:t,className:i("[&_tr]:border-b",s),...a}));Se.displayName="TableHeader";const ke=r.forwardRef(({className:s,...a},t)=>e.jsx("tbody",{ref:t,className:i("[&_tr:last-child]:border-0",s),...a}));ke.displayName="TableBody";const us=r.forwardRef(({className:s,...a},t)=>e.jsx("tfoot",{ref:t,className:i("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a}));us.displayName="TableFooter";const H=r.forwardRef(({className:s,...a},t)=>e.jsx("tr",{ref:t,className:i("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a}));H.displayName="TableRow";const k=r.forwardRef(({className:s,...a},t)=>e.jsx("th",{ref:t,className:i("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a}));k.displayName="TableHead";const C=r.forwardRef(({className:s,...a},t)=>e.jsx("td",{ref:t,className:i("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...a}));C.displayName="TableCell";const ms=r.forwardRef(({className:s,...a},t)=>e.jsx("caption",{ref:t,className:i("mt-4 text-sm text-muted-foreground",s),...a}));ms.displayName="TableCaption";function F({payouts:s,onViewDetails:a,filterStatus:t="all"}){const[o,g]=r.useState(""),[N,b]=r.useState(t),[P,x]=r.useState([]),[S,f]=r.useState(!0);r.useEffect(()=>{l()},[s]),r.useEffect(()=>{b(t)},[t]);const l=async()=>{f(!0);const n=[...new Set(s.map(c=>c.user_id))],{data:h}=await L.from("profiles").select("id, username, email, photo_url").in("id",n),p=new Map((h==null?void 0:h.map(c=>[c.id,c]))||[]),j=s.map(c=>({...c,profile:p.get(c.user_id)||{id:c.user_id,username:"Unknown",email:""}}));x(j),f(!1)},d=P.filter(n=>{var j,c,y,u,v;const h=N==="all"||n.payout_status===N,p=!o||((c=(j=n.profile)==null?void 0:j.username)==null?void 0:c.toLowerCase().includes(o.toLowerCase()))||((u=(y=n.profile)==null?void 0:y.email)==null?void 0:u.toLowerCase().includes(o.toLowerCase()))||((v=n.payout_method)==null?void 0:v.toLowerCase().includes(o.toLowerCase()));return h&&p}),_=n=>{const h={pending:{variant:"secondary",label:"Pending"},processing:{variant:"default",label:"Processing"},paid:{variant:"default",label:"Paid"},failed:{variant:"destructive",label:"Failed"},cancelled:{variant:"outline",label:"Cancelled"}},p=h[n]||h.pending;return e.jsx(V,{variant:p.variant,className:n==="paid"?"bg-green-600 hover:bg-green-700":n==="processing"?"bg-blue-600 hover:bg-blue-700":"",children:p.label})};return S?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(He,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Xe,{placeholder:"Search by username, email, or payment method...",value:o,onChange:n=>g(n.target.value),className:"pl-10"})]}),e.jsxs(Ge,{value:N,onValueChange:b,children:[e.jsx(Je,{className:"w-full sm:w-[180px]",children:e.jsx(Qe,{placeholder:"Filter by status"})}),e.jsxs(Ze,{children:[e.jsx(R,{value:"all",children:"All Status"}),e.jsx(R,{value:"pending",children:"Pending"}),e.jsx(R,{value:"processing",children:"Processing"}),e.jsx(R,{value:"paid",children:"Paid"}),e.jsx(R,{value:"failed",children:"Failed"}),e.jsx(R,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ce,{children:[e.jsx(Se,{children:e.jsxs(H,{children:[e.jsx(k,{children:"User"}),e.jsx(k,{children:"Amount"}),e.jsx(k,{children:"Payment Method"}),e.jsx(k,{children:"Payment Details"}),e.jsx(k,{children:"Status"}),e.jsx(k,{children:"Requested"}),e.jsx(k,{className:"text-right",children:"Actions"})]})}),e.jsx(ke,{children:d.length===0?e.jsx(H,{children:e.jsx(C,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No payout requests found"})}):d.map(n=>{var h,p,j,c,y;return e.jsxs(H,{children:[e.jsx(C,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(E,{className:"h-8 w-8",children:[e.jsx(B,{src:(h=n.profile)==null?void 0:h.photo_url}),e.jsx(O,{children:((j=(p=n.profile)==null?void 0:p.username)==null?void 0:j.substring(0,2).toUpperCase())||"U"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:((c=n.profile)==null?void 0:c.username)||"Unknown"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:((y=n.profile)==null?void 0:y.email)||"No email"})]})]})}),e.jsxs(C,{className:"font-semibold",children:["$",n.reward_amount.toFixed(2)]}),e.jsx(C,{className:"capitalize",children:n.payout_method||"N/A"}),e.jsx(C,{className:"max-w-[200px] truncate",children:n.payout_email||"N/A"}),e.jsx(C,{children:_(n.payout_status)}),e.jsx(C,{children:D(new Date(n.requested_at),"MMM d, yyyy")}),e.jsx(C,{className:"text-right",children:e.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>a(n),children:[e.jsx(Ve,{className:"h-4 w-4 mr-1"}),"View"]})})]},n.id)})})]})}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",d.length," of ",P.length," payout requests"]})]})}function xs({payout:s,open:a,onClose:t,onSuccess:o}){var Y,W,K,X,G,J;const[g,N]=r.useState(""),[b,P]=r.useState(""),[x,S]=r.useState(!1),[f,l]=r.useState(null),[d,_]=r.useState([]),[n,h]=r.useState(!1),[p,j]=r.useState([]);r.useEffect(()=>{s&&a&&(N(s.admin_notes||""),P(s.failure_reason||""),c(),y())},[s,a]);const c=async()=>{if(!s)return;h(!0);const{data:m,error:U}=await L.from("referrals").select("*").eq("referrer_id",s.user_id).eq("status","completed").eq("reward_granted",!0).order("completed_at",{ascending:!1}).limit(10);!U&&m&&_(m),h(!1)},y=async()=>{if(!s)return;const{data:m}=await L.from("referral_rewards").select("*").eq("user_id",s.user_id).neq("id",s.id).order("requested_at",{ascending:!1}).limit(5);m&&j(m)},u=async m=>{if(!s)return;S(!0);const U=await ns.adminProcessPayout(s.id,m,g||void 0,m==="failed"&&b||void 0);S(!1),U.success?($.success(`Payout ${m} successfully`),o(),t()):$.error(`Failed to process payout: ${U.error}`)},v=()=>{l({action:"processing",title:"Mark as Processing",description:"This will mark the payout as being processed. Continue?"})},Te=()=>{l({action:"paid",title:"Mark as Paid",description:"This will mark the payout as completed and paid. Make sure payment has been sent. Continue?"})},Re=()=>{if(!b.trim()){$.error("Please provide a failure reason");return}l({action:"failed",title:"Mark as Failed",description:"This will mark the payout as failed. The user will be notified. Continue?"})},De=()=>{l({action:"cancelled",title:"Cancel Payout",description:"This will cancel the payout request. This action cannot be undone. Continue?"})},Ae=async()=>{f&&(await u(f.action),l(null))};if(!s)return null;const Me=s.payout_status==="pending",Fe=s.payout_status==="pending"||s.payout_status==="processing",I=s.payout_status==="pending"||s.payout_status==="processing",qe=s.payout_status==="pending";return e.jsxs(e.Fragment,{children:[e.jsx(es,{open:a,onOpenChange:t,children:e.jsxs(ss,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(as,{children:[e.jsx(ts,{children:"Payout Request Details"}),e.jsx(ls,{children:"Review and process this payout request"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(E,{className:"h-16 w-16",children:[e.jsx(B,{src:(Y=s.profile)==null?void 0:Y.photo_url}),e.jsx(O,{className:"text-lg",children:((K=(W=s.profile)==null?void 0:W.username)==null?void 0:K.substring(0,2).toUpperCase())||"U"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold",children:((X=s.profile)==null?void 0:X.username)||"Unknown User"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:((G=s.profile)==null?void 0:G.email)||"No email"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Member since ",(J=s.profile)!=null&&J.created_at?D(new Date(s.profile.created_at),"MMM d, yyyy"):"Unknown"]}),e.jsxs(T,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>window.open(`/profile/${s.user_id}`,"_blank"),children:["View Profile ",e.jsx(Ee,{className:"h-3 w-3 ml-1"})]})]}),e.jsx(V,{variant:s.payout_status==="paid"||s.payout_status==="processing"?"default":s.payout_status==="failed"?"destructive":"secondary",className:s.payout_status==="paid"?"bg-green-600":s.payout_status==="processing"?"bg-blue-600":"",children:s.payout_status})]}),e.jsx(q,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(w,{className:"text-muted-foreground",children:"Amount"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",s.reward_amount.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx(w,{className:"text-muted-foreground",children:"Referral Count"}),e.jsx("p",{className:"text-2xl font-bold",children:s.referral_count})]}),e.jsxs("div",{children:[e.jsx(w,{className:"text-muted-foreground",children:"Payment Method"}),e.jsx("p",{className:"font-medium capitalize",children:s.payout_method||"Not specified"})]}),e.jsxs("div",{children:[e.jsx(w,{className:"text-muted-foreground",children:"Payment Details"}),e.jsx("p",{className:"font-medium",children:s.payout_email||"Not provided"})]}),e.jsxs("div",{children:[e.jsx(w,{className:"text-muted-foreground",children:"Requested At"}),e.jsx("p",{className:"text-sm",children:D(new Date(s.requested_at),"PPpp")})]}),s.processed_at&&e.jsxs("div",{children:[e.jsx(w,{className:"text-muted-foreground",children:"Processed At"}),e.jsx("p",{className:"text-sm",children:D(new Date(s.processed_at),"PPpp")})]}),s.paid_at&&e.jsxs("div",{children:[e.jsx(w,{className:"text-muted-foreground",children:"Paid At"}),e.jsx("p",{className:"text-sm",children:D(new Date(s.paid_at),"PPpp")})]})]}),p.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(q,{}),e.jsxs("div",{children:[e.jsx(w,{className:"text-muted-foreground mb-2 block",children:"Previous Payouts"}),e.jsx("div",{className:"space-y-2",children:p.map(m=>e.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-muted rounded",children:[e.jsxs("span",{children:["$",m.reward_amount.toFixed(2)]}),e.jsx(V,{variant:"outline",children:m.payout_status}),e.jsx("span",{className:"text-muted-foreground",children:D(new Date(m.requested_at),"MMM d, yyyy")})]},m.id))})]})]}),e.jsx(q,{}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"admin-notes",children:"Admin Notes"}),e.jsx(Z,{id:"admin-notes",placeholder:"Add notes about this payout (optional)",value:g,onChange:m=>N(m.target.value),rows:3,className:"mt-2"})]}),(I||s.payout_status==="failed")&&e.jsxs("div",{children:[e.jsx(w,{htmlFor:"failure-reason",children:"Failure Reason"}),e.jsx(Z,{id:"failure-reason",placeholder:"Required if marking as failed",value:b,onChange:m=>P(m.target.value),rows:2,className:"mt-2"})]}),e.jsx(q,{}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[Me&&e.jsxs(T,{onClick:v,disabled:x,variant:"outline",children:[x?e.jsx(z,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ce,{className:"h-4 w-4 mr-2"}),"Mark as Processing"]}),Fe&&e.jsxs(T,{onClick:Te,disabled:x,className:"bg-green-600 hover:bg-green-700",children:[x?e.jsx(z,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Mark as Paid"]}),I&&e.jsxs(T,{onClick:Re,disabled:x,variant:"destructive",children:[x?e.jsx(z,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(me,{className:"h-4 w-4 mr-2"}),"Mark as Failed"]}),qe&&e.jsxs(T,{onClick:De,disabled:x,variant:"outline",children:[x?e.jsx(z,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Cancel Payout"]})]})]})]})}),e.jsx(is,{open:!!f,onOpenChange:()=>l(null),children:e.jsxs(je,{children:[e.jsxs(be,{children:[e.jsx(ye,{children:f==null?void 0:f.title}),e.jsx(ve,{children:f==null?void 0:f.description})]}),e.jsxs(Ne,{children:[e.jsx(Pe,{children:"Cancel"}),e.jsx(we,{onClick:Ae,children:"Continue"})]})]})})]})}function fs(){const{isAdmin:s}=rs(),[a,t]=r.useState([]),[o,g]=r.useState(!0),[N,b]=r.useState(null),[P,x]=r.useState(!1),[S,f]=r.useState("pending");r.useEffect(()=>{s&&(l(),d())},[s]);const l=async()=>{g(!0);const{data:u,error:v}=await L.from("referral_rewards").select("*").order("requested_at",{ascending:!1});v?(console.error("Error loading payouts:",v),$.error("Failed to load payouts")):t(u||[]),g(!1)},d=()=>{const u=L.channel("admin-payouts").on("postgres_changes",{event:"*",schema:"public",table:"referral_rewards"},v=>{console.log("Payout changed:",v),v.eventType==="INSERT"&&$.info("New payout request received"),l()}).subscribe();return()=>{u.unsubscribe()}},_=u=>{b(u),x(!0)},n=()=>{x(!1),b(null)},h=()=>{l()};if(!s)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Q,{className:"h-12 w-12 mx-auto text-red-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-muted-foreground",children:"You need admin privileges to view this page."})]})});const p=a.filter(u=>u.payout_status==="pending"),j=a.filter(u=>u.payout_status==="processing"),c=a.filter(u=>u.payout_status==="paid"),y=a.filter(u=>u.payout_status==="failed");return e.jsxs("div",{className:"container mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(Q,{className:"h-8 w-8"}),"Admin Payout Dashboard"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage and process referral payout requests"})]}),e.jsxs(T,{onClick:l,disabled:o,variant:"outline",size:"sm",children:[e.jsx(Oe,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]})]}),e.jsx(cs,{payouts:a}),e.jsxs(ds,{value:S,onValueChange:f,className:"space-y-4",children:[e.jsxs(_e,{children:[e.jsxs(A,{value:"pending",children:["Pending (",p.length,")"]}),e.jsxs(A,{value:"processing",children:["Processing (",j.length,")"]}),e.jsxs(A,{value:"paid",children:["Paid (",c.length,")"]}),e.jsxs(A,{value:"failed",children:["Failed (",y.length,")"]}),e.jsxs(A,{value:"all",children:["All (",a.length,")"]})]}),e.jsx(M,{value:"pending",children:o?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e.jsx(F,{payouts:p,onViewDetails:_,filterStatus:"pending"})}),e.jsx(M,{value:"processing",children:o?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e.jsx(F,{payouts:j,onViewDetails:_,filterStatus:"processing"})}),e.jsx(M,{value:"paid",children:o?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e.jsx(F,{payouts:c,onViewDetails:_,filterStatus:"paid"})}),e.jsx(M,{value:"failed",children:o?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e.jsx(F,{payouts:y,onViewDetails:_,filterStatus:"failed"})}),e.jsx(M,{value:"all",children:o?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e.jsx(F,{payouts:a,onViewDetails:_,filterStatus:"all"})})]}),e.jsx(xs,{payout:N,open:P,onClose:n,onSuccess:h})]})}const bs=Object.freeze(Object.defineProperty({__proto__:null,default:fs},Symbol.toStringTag,{value:"Module"}));export{E as A,q as S,ds as T,_e as a,A as b,M as c,B as d,O as e,is as f,je as g,be as h,ye as i,ve as j,Ne as k,Pe as l,we as m,bs as n};
