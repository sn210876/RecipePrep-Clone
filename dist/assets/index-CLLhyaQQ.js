var i_=Object.defineProperty;var l_=(e,t,r)=>t in e?i_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vu=(e,t,r)=>l_(e,typeof t!="symbol"?t+"":t,r);function Lx(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function Ux(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Fx={exports:{}},Nc={},zx={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi=Symbol.for("react.element"),u_=Symbol.for("react.portal"),d_=Symbol.for("react.fragment"),h_=Symbol.for("react.strict_mode"),f_=Symbol.for("react.profiler"),m_=Symbol.for("react.provider"),p_=Symbol.for("react.context"),g_=Symbol.for("react.forward_ref"),x_=Symbol.for("react.suspense"),v_=Symbol.for("react.memo"),y_=Symbol.for("react.lazy"),np=Symbol.iterator;function w_(e){return e===null||typeof e!="object"?null:(e=np&&e[np]||e["@@iterator"],typeof e=="function"?e:null)}var Bx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vx=Object.assign,Wx={};function Bo(e,t,r){this.props=e,this.context=t,this.refs=Wx,this.updater=r||Bx}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qx(){}qx.prototype=Bo.prototype;function Jh(e,t,r){this.props=e,this.context=t,this.refs=Wx,this.updater=r||Bx}var Xh=Jh.prototype=new qx;Xh.constructor=Jh;Vx(Xh,Bo.prototype);Xh.isPureReactComponent=!0;var sp=Array.isArray,Hx=Object.prototype.hasOwnProperty,Qh={current:null},Kx={key:!0,ref:!0,__self:!0,__source:!0};function Gx(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Hx.call(t,n)&&!Kx.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:xi,type:e,key:a,ref:i,props:s,_owner:Qh.current}}function b_(e,t){return{$$typeof:xi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zh(e){return typeof e=="object"&&e!==null&&e.$$typeof===xi}function j_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var op=/\/+/g;function yu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?j_(""+e.key):t.toString(36)}function ul(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case xi:case u_:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+yu(i,0):n,sp(s)?(r="",e!=null&&(r=e.replace(op,"$&/")+"/"),ul(s,t,r,"",function(u){return u})):s!=null&&(Zh(s)&&(s=b_(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(op,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",sp(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+yu(a,l);i+=ul(a,t,r,c,s)}else if(c=w_(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+yu(a,l++),i+=ul(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ri(e,t,r){if(e==null)return e;var n=[],s=0;return ul(e,n,"","",function(a){return t.call(r,a,s++)}),n}function N_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vt={current:null},dl={transition:null},__={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:dl,ReactCurrentOwner:Qh};function Yx(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Ri,forEach:function(e,t,r){Ri(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ri(e,function(){t++}),t},toArray:function(e){return Ri(e,function(t){return t})||[]},only:function(e){if(!Zh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=Bo;De.Fragment=d_;De.Profiler=f_;De.PureComponent=Jh;De.StrictMode=h_;De.Suspense=x_;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=__;De.act=Yx;De.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Vx({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Qh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Hx.call(t,c)&&!Kx.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:xi,type:e.type,key:s,ref:a,props:n,_owner:i}};De.createContext=function(e){return e={$$typeof:p_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m_,_context:e},e.Consumer=e};De.createElement=Gx;De.createFactory=function(e){var t=Gx.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:g_,render:e}};De.isValidElement=Zh;De.lazy=function(e){return{$$typeof:y_,_payload:{_status:-1,_result:e},_init:N_}};De.memo=function(e,t){return{$$typeof:v_,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=dl.transition;dl.transition={};try{e()}finally{dl.transition=t}};De.unstable_act=Yx;De.useCallback=function(e,t){return Vt.current.useCallback(e,t)};De.useContext=function(e){return Vt.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return Vt.current.useDeferredValue(e)};De.useEffect=function(e,t){return Vt.current.useEffect(e,t)};De.useId=function(){return Vt.current.useId()};De.useImperativeHandle=function(e,t,r){return Vt.current.useImperativeHandle(e,t,r)};De.useInsertionEffect=function(e,t){return Vt.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return Vt.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return Vt.current.useMemo(e,t)};De.useReducer=function(e,t,r){return Vt.current.useReducer(e,t,r)};De.useRef=function(e){return Vt.current.useRef(e)};De.useState=function(e){return Vt.current.useState(e)};De.useSyncExternalStore=function(e,t,r){return Vt.current.useSyncExternalStore(e,t,r)};De.useTransition=function(){return Vt.current.useTransition()};De.version="18.3.1";zx.exports=De;var d=zx.exports;const te=Ux(d),ef=Lx({__proto__:null,default:te},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_=d,k_=Symbol.for("react.element"),C_=Symbol.for("react.fragment"),E_=Object.prototype.hasOwnProperty,R_=S_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P_={key:!0,ref:!0,__self:!0,__source:!0};function Jx(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)E_.call(t,n)&&!P_.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:k_,type:e,key:a,ref:i,props:s,_owner:R_.current}}Nc.Fragment=C_;Nc.jsx=Jx;Nc.jsxs=Jx;Fx.exports=Nc;var o=Fx.exports,Xx={exports:{}},hr={},Qx={exports:{}},Zx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,S){var O=R.length;R.push(S);e:for(;0<O;){var q=O-1>>>1,K=R[q];if(0<s(K,S))R[q]=S,R[O]=K,O=q;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var S=R[0],O=R.pop();if(O!==S){R[0]=O;e:for(var q=0,K=R.length,V=K>>>1;q<V;){var Z=2*(q+1)-1,re=R[Z],ue=Z+1,Q=R[ue];if(0>s(re,O))ue<K&&0>s(Q,re)?(R[q]=Q,R[ue]=O,q=ue):(R[q]=re,R[Z]=O,q=Z);else if(ue<K&&0>s(Q,O))R[q]=Q,R[ue]=O,q=ue;else break e}}return S}function s(R,S){var O=R.sortIndex-S.sortIndex;return O!==0?O:R.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,f=null,p=3,m=!1,w=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var S=r(u);S!==null;){if(S.callback===null)n(u);else if(S.startTime<=R)n(u),S.sortIndex=S.expirationTime,t(c,S);else break;S=r(u)}}function j(R){if(g=!1,y(R),!w)if(r(c)!==null)w=!0,F(N);else{var S=r(u);S!==null&&P(j,S.startTime-R)}}function N(R,S){w=!1,g&&(g=!1,v(A),A=-1),m=!0;var O=p;try{for(y(S),f=r(c);f!==null&&(!(f.expirationTime>S)||R&&!M());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var K=q(f.expirationTime<=S);S=e.unstable_now(),typeof K=="function"?f.callback=K:f===r(c)&&n(c),y(S)}else n(c);f=r(c)}if(f!==null)var V=!0;else{var Z=r(u);Z!==null&&P(j,Z.startTime-S),V=!1}return V}finally{f=null,p=O,m=!1}}var _=!1,k=null,A=-1,C=5,E=-1;function M(){return!(e.unstable_now()-E<C)}function D(){if(k!==null){var R=e.unstable_now();E=R;var S=!0;try{S=k(!0,R)}finally{S?W():(_=!1,k=null)}}else _=!1}var W;if(typeof x=="function")W=function(){x(D)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,X=J.port2;J.port1.onmessage=D,W=function(){X.postMessage(null)}}else W=function(){b(D,0)};function F(R){k=R,_||(_=!0,W())}function P(R,S){A=b(function(){R(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,F(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var S=3;break;default:S=p}var O=p;p=S;try{return R()}finally{p=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,S){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var O=p;p=R;try{return S()}finally{p=O}},e.unstable_scheduleCallback=function(R,S,O){var q=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?q+O:q):O=q,R){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=O+K,R={id:h++,callback:S,priorityLevel:R,startTime:O,expirationTime:K,sortIndex:-1},O>q?(R.sortIndex=O,t(u,R),r(c)===null&&R===r(u)&&(g?(v(A),A=-1):g=!0,P(j,O-q))):(R.sortIndex=K,t(c,R),w||m||(w=!0,F(N))),R},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(R){var S=p;return function(){var O=p;p=S;try{return R.apply(this,arguments)}finally{p=O}}}})(Zx);Qx.exports=Zx;var T_=Qx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_=d,dr=T_;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e0=new Set,Ma={};function Us(e,t){Po(e,t),Po(e+"Capture",t)}function Po(e,t){for(Ma[e]=t,e=0;e<t.length;e++)e0.add(t[e])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gd=Object.prototype.hasOwnProperty,O_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ap={},ip={};function I_(e){return gd.call(ip,e)?!0:gd.call(ap,e)?!1:O_.test(e)?ip[e]=!0:(ap[e]=!0,!1)}function M_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D_(e,t,r,n){if(t===null||typeof t>"u"||M_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wt(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pt[e]=new Wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pt[t]=new Wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pt[e]=new Wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pt[e]=new Wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pt[e]=new Wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pt[e]=new Wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pt[e]=new Wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pt[e]=new Wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pt[e]=new Wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var tf=/[\-:]([a-z])/g;function rf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tf,rf);Pt[t]=new Wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tf,rf);Pt[t]=new Wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tf,rf);Pt[t]=new Wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pt[e]=new Wt(e,1,!1,e.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pt[e]=new Wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function nf(e,t,r,n){var s=Pt.hasOwnProperty(t)?Pt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D_(t,r,s,n)&&(r=null),n||s===null?I_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var En=A_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pi=Symbol.for("react.element"),so=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),sf=Symbol.for("react.strict_mode"),xd=Symbol.for("react.profiler"),t0=Symbol.for("react.provider"),r0=Symbol.for("react.context"),of=Symbol.for("react.forward_ref"),vd=Symbol.for("react.suspense"),yd=Symbol.for("react.suspense_list"),af=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),n0=Symbol.for("react.offscreen"),lp=Symbol.iterator;function ea(e){return e===null||typeof e!="object"?null:(e=lp&&e[lp]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,wu;function ha(e){if(wu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);wu=t&&t[1]||""}return`
`+wu+e}var bu=!1;function ju(e,t){if(!e||bu)return"";bu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{bu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ha(e):""}function $_(e){switch(e.tag){case 5:return ha(e.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 2:case 15:return e=ju(e.type,!1),e;case 11:return e=ju(e.type.render,!1),e;case 1:return e=ju(e.type,!0),e;default:return""}}function wd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oo:return"Fragment";case so:return"Portal";case xd:return"Profiler";case sf:return"StrictMode";case vd:return"Suspense";case yd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case r0:return(e.displayName||"Context")+".Consumer";case t0:return(e._context.displayName||"Context")+".Provider";case of:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case af:return t=e.displayName||null,t!==null?t:wd(e.type)||"Memo";case $n:t=e._payload,e=e._init;try{return wd(e(t))}catch{}}return null}function L_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wd(t);case 8:return t===sf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function s0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function U_(e){var t=s0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ti(e){e._valueTracker||(e._valueTracker=U_(e))}function o0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=s0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bd(e,t){var r=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function cp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function a0(e,t){t=t.checked,t!=null&&nf(e,"checked",t,!1)}function jd(e,t){a0(e,t);var r=Zn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nd(e,t.type,r):t.hasOwnProperty("defaultValue")&&Nd(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function up(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Nd(e,t,r){(t!=="number"||Cl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var fa=Array.isArray;function xo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _d(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(fa(r)){if(1<r.length)throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zn(r)}}function i0(e,t){var r=Zn(t.value),n=Zn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function hp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function l0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?l0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ai,c0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ai=Ai||document.createElement("div"),Ai.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ai.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Da(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F_=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(e){F_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ba[t]=ba[e]})});function u0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ba.hasOwnProperty(e)&&ba[e]?(""+t).trim():t+"px"}function d0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=u0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var z_=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kd(e,t){if(t){if(z_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function Cd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ed=null;function lf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rd=null,vo=null,yo=null;function fp(e){if(e=wi(e)){if(typeof Rd!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Ec(t),Rd(e.stateNode,e.type,t))}}function h0(e){vo?yo?yo.push(e):yo=[e]:vo=e}function f0(){if(vo){var e=vo,t=yo;if(yo=vo=null,fp(e),t)for(e=0;e<t.length;e++)fp(t[e])}}function m0(e,t){return e(t)}function p0(){}var Nu=!1;function g0(e,t,r){if(Nu)return e(t,r);Nu=!0;try{return m0(e,t,r)}finally{Nu=!1,(vo!==null||yo!==null)&&(p0(),f0())}}function $a(e,t){var r=e.stateNode;if(r===null)return null;var n=Ec(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var Pd=!1;if(bn)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Pd=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Pd=!1}function B_(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var ja=!1,El=null,Rl=!1,Td=null,V_={onError:function(e){ja=!0,El=e}};function W_(e,t,r,n,s,a,i,l,c){ja=!1,El=null,B_.apply(V_,arguments)}function q_(e,t,r,n,s,a,i,l,c){if(W_.apply(this,arguments),ja){if(ja){var u=El;ja=!1,El=null}else throw Error(ne(198));Rl||(Rl=!0,Td=u)}}function Fs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function x0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mp(e){if(Fs(e)!==e)throw Error(ne(188))}function H_(e){var t=e.alternate;if(!t){if(t=Fs(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return mp(s),e;if(a===n)return mp(s),t;a=a.sibling}throw Error(ne(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function v0(e){return e=H_(e),e!==null?y0(e):null}function y0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=y0(e);if(t!==null)return t;e=e.sibling}return null}var w0=dr.unstable_scheduleCallback,pp=dr.unstable_cancelCallback,K_=dr.unstable_shouldYield,G_=dr.unstable_requestPaint,ct=dr.unstable_now,Y_=dr.unstable_getCurrentPriorityLevel,cf=dr.unstable_ImmediatePriority,b0=dr.unstable_UserBlockingPriority,Pl=dr.unstable_NormalPriority,J_=dr.unstable_LowPriority,j0=dr.unstable_IdlePriority,_c=null,rn=null;function X_(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(_c,e,void 0,(e.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:eS,Q_=Math.log,Z_=Math.LN2;function eS(e){return e>>>=0,e===0?32:31-(Q_(e)/Z_|0)|0}var Oi=64,Ii=4194304;function ma(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=ma(l):(a&=i,a!==0&&(n=ma(a)))}else i=r&~s,i!==0?n=ma(i):a!==0&&(n=ma(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Fr(t),s=1<<r,n|=e[r],t&=~s;return n}function tS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rS(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Fr(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=tS(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Ad(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function N0(){var e=Oi;return Oi<<=1,!(Oi&4194240)&&(Oi=64),e}function _u(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fr(t),e[t]=r}function nS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Fr(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function uf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Fr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var We=0;function _0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var S0,df,k0,C0,E0,Od=!1,Mi=[],Wn=null,qn=null,Hn=null,La=new Map,Ua=new Map,Un=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gp(e,t){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":La.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ua.delete(t.pointerId)}}function ra(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=wi(t),t!==null&&df(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function oS(e,t,r,n,s){switch(t){case"focusin":return Wn=ra(Wn,e,t,r,n,s),!0;case"dragenter":return qn=ra(qn,e,t,r,n,s),!0;case"mouseover":return Hn=ra(Hn,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return La.set(a,ra(La.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Ua.set(a,ra(Ua.get(a)||null,e,t,r,n,s)),!0}return!1}function R0(e){var t=bs(e.target);if(t!==null){var r=Fs(t);if(r!==null){if(t=r.tag,t===13){if(t=x0(r),t!==null){e.blockedOn=t,E0(e.priority,function(){k0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Id(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ed=n,r.target.dispatchEvent(n),Ed=null}else return t=wi(r),t!==null&&df(t),e.blockedOn=r,!1;t.shift()}return!0}function xp(e,t,r){hl(e)&&r.delete(t)}function aS(){Od=!1,Wn!==null&&hl(Wn)&&(Wn=null),qn!==null&&hl(qn)&&(qn=null),Hn!==null&&hl(Hn)&&(Hn=null),La.forEach(xp),Ua.forEach(xp)}function na(e,t){e.blockedOn===t&&(e.blockedOn=null,Od||(Od=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,aS)))}function Fa(e){function t(s){return na(s,e)}if(0<Mi.length){na(Mi[0],e);for(var r=1;r<Mi.length;r++){var n=Mi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Wn!==null&&na(Wn,e),qn!==null&&na(qn,e),Hn!==null&&na(Hn,e),La.forEach(t),Ua.forEach(t),r=0;r<Un.length;r++)n=Un[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Un.length&&(r=Un[0],r.blockedOn===null);)R0(r),r.blockedOn===null&&Un.shift()}var wo=En.ReactCurrentBatchConfig,Al=!0;function iS(e,t,r,n){var s=We,a=wo.transition;wo.transition=null;try{We=1,hf(e,t,r,n)}finally{We=s,wo.transition=a}}function lS(e,t,r,n){var s=We,a=wo.transition;wo.transition=null;try{We=4,hf(e,t,r,n)}finally{We=s,wo.transition=a}}function hf(e,t,r,n){if(Al){var s=Id(e,t,r,n);if(s===null)Iu(e,t,n,Ol,r),gp(e,n);else if(oS(s,e,t,r,n))n.stopPropagation();else if(gp(e,n),t&4&&-1<sS.indexOf(e)){for(;s!==null;){var a=wi(s);if(a!==null&&S0(a),a=Id(e,t,r,n),a===null&&Iu(e,t,n,Ol,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Iu(e,t,n,null,r)}}var Ol=null;function Id(e,t,r,n){if(Ol=null,e=lf(n),e=bs(e),e!==null)if(t=Fs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=x0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ol=e,null}function P0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y_()){case cf:return 1;case b0:return 4;case Pl:case J_:return 16;case j0:return 536870912;default:return 16}default:return 16}}var Bn=null,ff=null,fl=null;function T0(){if(fl)return fl;var e,t=ff,r=t.length,n,s="value"in Bn?Bn.value:Bn.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return fl=s.slice(e,1<n?1-n:void 0)}function ml(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function vp(){return!1}function fr(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Di:vp,this.isPropagationStopped=vp,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),t}var Vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mf=fr(Vo),yi=ot({},Vo,{view:0,detail:0}),cS=fr(yi),Su,ku,sa,Sc=ot({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sa&&(sa&&e.type==="mousemove"?(Su=e.screenX-sa.screenX,ku=e.screenY-sa.screenY):ku=Su=0,sa=e),Su)},movementY:function(e){return"movementY"in e?e.movementY:ku}}),yp=fr(Sc),uS=ot({},Sc,{dataTransfer:0}),dS=fr(uS),hS=ot({},yi,{relatedTarget:0}),Cu=fr(hS),fS=ot({},Vo,{animationName:0,elapsedTime:0,pseudoElement:0}),mS=fr(fS),pS=ot({},Vo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gS=fr(pS),xS=ot({},Vo,{data:0}),wp=fr(xS),vS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wS[e])?!!t[e]:!1}function pf(){return bS}var jS=ot({},yi,{key:function(e){if(e.key){var t=vS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pf,charCode:function(e){return e.type==="keypress"?ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NS=fr(jS),_S=ot({},Sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bp=fr(_S),SS=ot({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pf}),kS=fr(SS),CS=ot({},Vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ES=fr(CS),RS=ot({},Sc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PS=fr(RS),TS=[9,13,27,32],gf=bn&&"CompositionEvent"in window,Na=null;bn&&"documentMode"in document&&(Na=document.documentMode);var AS=bn&&"TextEvent"in window&&!Na,A0=bn&&(!gf||Na&&8<Na&&11>=Na),jp=" ",Np=!1;function O0(e,t){switch(e){case"keyup":return TS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ao=!1;function OS(e,t){switch(e){case"compositionend":return I0(t);case"keypress":return t.which!==32?null:(Np=!0,jp);case"textInput":return e=t.data,e===jp&&Np?null:e;default:return null}}function IS(e,t){if(ao)return e==="compositionend"||!gf&&O0(e,t)?(e=T0(),fl=ff=Bn=null,ao=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return A0&&t.locale!=="ko"?null:t.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _p(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MS[e.type]:t==="textarea"}function M0(e,t,r,n){h0(n),t=Il(t,"onChange"),0<t.length&&(r=new mf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var _a=null,za=null;function DS(e){H0(e,0)}function kc(e){var t=co(e);if(o0(t))return e}function $S(e,t){if(e==="change")return t}var D0=!1;if(bn){var Eu;if(bn){var Ru="oninput"in document;if(!Ru){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),Ru=typeof Sp.oninput=="function"}Eu=Ru}else Eu=!1;D0=Eu&&(!document.documentMode||9<document.documentMode)}function kp(){_a&&(_a.detachEvent("onpropertychange",$0),za=_a=null)}function $0(e){if(e.propertyName==="value"&&kc(za)){var t=[];M0(t,za,e,lf(e)),g0(DS,t)}}function LS(e,t,r){e==="focusin"?(kp(),_a=t,za=r,_a.attachEvent("onpropertychange",$0)):e==="focusout"&&kp()}function US(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kc(za)}function FS(e,t){if(e==="click")return kc(t)}function zS(e,t){if(e==="input"||e==="change")return kc(t)}function BS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qr=typeof Object.is=="function"?Object.is:BS;function Ba(e,t){if(qr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!gd.call(t,s)||!qr(e[s],t[s]))return!1}return!0}function Cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ep(e,t){var r=Cp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cp(r)}}function L0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?L0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function U0(){for(var e=window,t=Cl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Cl(e.document)}return t}function xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VS(e){var t=U0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&L0(r.ownerDocument.documentElement,r)){if(n!==null&&xf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Ep(r,a);var i=Ep(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WS=bn&&"documentMode"in document&&11>=document.documentMode,io=null,Md=null,Sa=null,Dd=!1;function Rp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dd||io==null||io!==Cl(n)||(n=io,"selectionStart"in n&&xf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sa&&Ba(Sa,n)||(Sa=n,n=Il(Md,"onSelect"),0<n.length&&(t=new mf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=io)))}function $i(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var lo={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionend:$i("Transition","TransitionEnd")},Pu={},F0={};bn&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Cc(e){if(Pu[e])return Pu[e];if(!lo[e])return e;var t=lo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in F0)return Pu[e]=t[r];return e}var z0=Cc("animationend"),B0=Cc("animationiteration"),V0=Cc("animationstart"),W0=Cc("transitionend"),q0=new Map,Pp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(e,t){q0.set(e,t),Us(t,[e])}for(var Tu=0;Tu<Pp.length;Tu++){var Au=Pp[Tu],qS=Au.toLowerCase(),HS=Au[0].toUpperCase()+Au.slice(1);as(qS,"on"+HS)}as(z0,"onAnimationEnd");as(B0,"onAnimationIteration");as(V0,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(W0,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Us("onBeforeInput",["compositionend","keypress","textInput","paste"]);Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function Tp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,q_(n,t,void 0,e),e.currentTarget=null}function H0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Tp(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Tp(s,l,u),a=c}}}if(Rl)throw e=Td,Rl=!1,Td=null,e}function Ye(e,t){var r=t[zd];r===void 0&&(r=t[zd]=new Set);var n=e+"__bubble";r.has(n)||(K0(t,e,2,!1),r.add(n))}function Ou(e,t,r){var n=0;t&&(n|=4),K0(r,e,n,t)}var Li="_reactListening"+Math.random().toString(36).slice(2);function Va(e){if(!e[Li]){e[Li]=!0,e0.forEach(function(r){r!=="selectionchange"&&(KS.has(r)||Ou(r,!1,e),Ou(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Li]||(t[Li]=!0,Ou("selectionchange",!1,t))}}function K0(e,t,r,n){switch(P0(t)){case 1:var s=iS;break;case 4:s=lS;break;default:s=hf}r=s.bind(null,t,r,e),s=void 0,!Pd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Iu(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=bs(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}g0(function(){var u=a,h=lf(r),f=[];e:{var p=q0.get(e);if(p!==void 0){var m=mf,w=e;switch(e){case"keypress":if(ml(r)===0)break e;case"keydown":case"keyup":m=NS;break;case"focusin":w="focus",m=Cu;break;case"focusout":w="blur",m=Cu;break;case"beforeblur":case"afterblur":m=Cu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kS;break;case z0:case B0:case V0:m=mS;break;case W0:m=ES;break;case"scroll":m=cS;break;case"wheel":m=PS;break;case"copy":case"cut":case"paste":m=gS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bp}var g=(t&4)!==0,b=!g&&e==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var x=u,y;x!==null;){y=x;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,v!==null&&(j=$a(x,v),j!=null&&g.push(Wa(x,j,y)))),b)break;x=x.return}0<g.length&&(p=new m(p,w,null,r,h),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Ed&&(w=r.relatedTarget||r.fromElement)&&(bs(w)||w[jn]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=r.relatedTarget||r.toElement,m=u,w=w?bs(w):null,w!==null&&(b=Fs(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(g=yp,j="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=bp,j="onPointerLeave",v="onPointerEnter",x="pointer"),b=m==null?p:co(m),y=w==null?p:co(w),p=new g(j,x+"leave",m,r,h),p.target=b,p.relatedTarget=y,j=null,bs(h)===u&&(g=new g(v,x+"enter",w,r,h),g.target=y,g.relatedTarget=b,j=g),b=j,m&&w)t:{for(g=m,v=w,x=0,y=g;y;y=Hs(y))x++;for(y=0,j=v;j;j=Hs(j))y++;for(;0<x-y;)g=Hs(g),x--;for(;0<y-x;)v=Hs(v),y--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=Hs(g),v=Hs(v)}g=null}else g=null;m!==null&&Ap(f,p,m,g,!1),w!==null&&b!==null&&Ap(f,b,w,g,!0)}}e:{if(p=u?co(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=$S;else if(_p(p))if(D0)N=zS;else{N=US;var _=LS}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=FS);if(N&&(N=N(e,u))){M0(f,N,r,h);break e}_&&_(e,p,u),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&Nd(p,"number",p.value)}switch(_=u?co(u):window,e){case"focusin":(_p(_)||_.contentEditable==="true")&&(io=_,Md=u,Sa=null);break;case"focusout":Sa=Md=io=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,Rp(f,r,h);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":Rp(f,r,h)}var k;if(gf)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ao?O0(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(A0&&r.locale!=="ko"&&(ao||A!=="onCompositionStart"?A==="onCompositionEnd"&&ao&&(k=T0()):(Bn=h,ff="value"in Bn?Bn.value:Bn.textContent,ao=!0)),_=Il(u,A),0<_.length&&(A=new wp(A,e,null,r,h),f.push({event:A,listeners:_}),k?A.data=k:(k=I0(r),k!==null&&(A.data=k)))),(k=AS?OS(e,r):IS(e,r))&&(u=Il(u,"onBeforeInput"),0<u.length&&(h=new wp("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=k))}H0(f,t)})}function Wa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Il(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=$a(e,r),a!=null&&n.unshift(Wa(e,a,s)),a=$a(e,t),a!=null&&n.push(Wa(e,a,s))),e=e.return}return n}function Hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ap(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=$a(r,a),c!=null&&i.unshift(Wa(r,c,l))):s||(c=$a(r,a),c!=null&&i.push(Wa(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var GS=/\r\n?/g,YS=/\u0000|\uFFFD/g;function Op(e){return(typeof e=="string"?e:""+e).replace(GS,`
`).replace(YS,"")}function Ui(e,t,r){if(t=Op(t),Op(e)!==t&&r)throw Error(ne(425))}function Ml(){}var $d=null,Ld=null;function Ud(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fd=typeof setTimeout=="function"?setTimeout:void 0,JS=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,XS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(e){return Ip.resolve(null).then(e).catch(QS)}:Fd;function QS(e){setTimeout(function(){throw e})}function Mu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Fa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Fa(t)}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Wo,qa="__reactProps$"+Wo,jn="__reactContainer$"+Wo,zd="__reactEvents$"+Wo,ZS="__reactListeners$"+Wo,e2="__reactHandles$"+Wo;function bs(e){var t=e[Zr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jn]||r[Zr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Mp(e);e!==null;){if(r=e[Zr])return r;e=Mp(e)}return t}e=r,r=e.parentNode}return null}function wi(e){return e=e[Zr]||e[jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Ec(e){return e[qa]||null}var Bd=[],uo=-1;function is(e){return{current:e}}function Qe(e){0>uo||(e.current=Bd[uo],Bd[uo]=null,uo--)}function Ke(e,t){uo++,Bd[uo]=e.current,e.current=t}var es={},$t=is(es),Jt=is(!1),Rs=es;function To(e,t){var r=e.type.contextTypes;if(!r)return es;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xt(e){return e=e.childContextTypes,e!=null}function Dl(){Qe(Jt),Qe($t)}function Dp(e,t,r){if($t.current!==es)throw Error(ne(168));Ke($t,t),Ke(Jt,r)}function G0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ne(108,L_(e)||"Unknown",s));return ot({},r,n)}function $l(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,Rs=$t.current,Ke($t,e),Ke(Jt,Jt.current),!0}function $p(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=G0(e,t,Rs),n.__reactInternalMemoizedMergedChildContext=e,Qe(Jt),Qe($t),Ke($t,e)):Qe(Jt),Ke(Jt,r)}var xn=null,Rc=!1,Du=!1;function Y0(e){xn===null?xn=[e]:xn.push(e)}function t2(e){Rc=!0,Y0(e)}function ls(){if(!Du&&xn!==null){Du=!0;var e=0,t=We;try{var r=xn;for(We=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}xn=null,Rc=!1}catch(s){throw xn!==null&&(xn=xn.slice(e+1)),w0(cf,ls),s}finally{We=t,Du=!1}}return null}var ho=[],fo=0,Ll=null,Ul=0,vr=[],yr=0,Ps=null,vn=1,yn="";function ps(e,t){ho[fo++]=Ul,ho[fo++]=Ll,Ll=e,Ul=t}function J0(e,t,r){vr[yr++]=vn,vr[yr++]=yn,vr[yr++]=Ps,Ps=e;var n=vn;e=yn;var s=32-Fr(n)-1;n&=~(1<<s),r+=1;var a=32-Fr(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,vn=1<<32-Fr(t)+s|r<<s|n,yn=a+e}else vn=1<<a|r<<s|n,yn=e}function vf(e){e.return!==null&&(ps(e,1),J0(e,1,0))}function yf(e){for(;e===Ll;)Ll=ho[--fo],ho[fo]=null,Ul=ho[--fo],ho[fo]=null;for(;e===Ps;)Ps=vr[--yr],vr[yr]=null,yn=vr[--yr],vr[yr]=null,vn=vr[--yr],vr[yr]=null}var cr=null,lr=null,Ze=!1,Ur=null;function X0(e,t){var r=br(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cr=e,lr=Kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cr=e,lr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ps!==null?{id:vn,overflow:yn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=br(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,cr=e,lr=null,!0):!1;default:return!1}}function Vd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wd(e){if(Ze){var t=lr;if(t){var r=t;if(!Lp(e,t)){if(Vd(e))throw Error(ne(418));t=Kn(r.nextSibling);var n=cr;t&&Lp(e,t)?X0(n,r):(e.flags=e.flags&-4097|2,Ze=!1,cr=e)}}else{if(Vd(e))throw Error(ne(418));e.flags=e.flags&-4097|2,Ze=!1,cr=e}}}function Up(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cr=e}function Fi(e){if(e!==cr)return!1;if(!Ze)return Up(e),Ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ud(e.type,e.memoizedProps)),t&&(t=lr)){if(Vd(e))throw Q0(),Error(ne(418));for(;t;)X0(e,t),t=Kn(t.nextSibling)}if(Up(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){lr=Kn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}lr=null}}else lr=cr?Kn(e.stateNode.nextSibling):null;return!0}function Q0(){for(var e=lr;e;)e=Kn(e.nextSibling)}function Ao(){lr=cr=null,Ze=!1}function wf(e){Ur===null?Ur=[e]:Ur.push(e)}var r2=En.ReactCurrentBatchConfig;function oa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function zi(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fp(e){var t=e._init;return t(e._payload)}function Z0(e){function t(v,x){if(e){var y=v.deletions;y===null?(v.deletions=[x],v.flags|=16):y.push(x)}}function r(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function s(v,x){return v=Xn(v,x),v.index=0,v.sibling=null,v}function a(v,x,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<x?(v.flags|=2,x):y):(v.flags|=2,x)):(v.flags|=1048576,x)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,x,y,j){return x===null||x.tag!==6?(x=Vu(y,v.mode,j),x.return=v,x):(x=s(x,y),x.return=v,x)}function c(v,x,y,j){var N=y.type;return N===oo?h(v,x,y.props.children,j,y.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$n&&Fp(N)===x.type)?(j=s(x,y.props),j.ref=oa(v,x,y),j.return=v,j):(j=bl(y.type,y.key,y.props,null,v.mode,j),j.ref=oa(v,x,y),j.return=v,j)}function u(v,x,y,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Wu(y,v.mode,j),x.return=v,x):(x=s(x,y.children||[]),x.return=v,x)}function h(v,x,y,j,N){return x===null||x.tag!==7?(x=ks(y,v.mode,j,N),x.return=v,x):(x=s(x,y),x.return=v,x)}function f(v,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Vu(""+x,v.mode,y),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Pi:return y=bl(x.type,x.key,x.props,null,v.mode,y),y.ref=oa(v,null,x),y.return=v,y;case so:return x=Wu(x,v.mode,y),x.return=v,x;case $n:var j=x._init;return f(v,j(x._payload),y)}if(fa(x)||ea(x))return x=ks(x,v.mode,y,null),x.return=v,x;zi(v,x)}return null}function p(v,x,y,j){var N=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:l(v,x,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pi:return y.key===N?c(v,x,y,j):null;case so:return y.key===N?u(v,x,y,j):null;case $n:return N=y._init,p(v,x,N(y._payload),j)}if(fa(y)||ea(y))return N!==null?null:h(v,x,y,j,null);zi(v,y)}return null}function m(v,x,y,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(y)||null,l(x,v,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Pi:return v=v.get(j.key===null?y:j.key)||null,c(x,v,j,N);case so:return v=v.get(j.key===null?y:j.key)||null,u(x,v,j,N);case $n:var _=j._init;return m(v,x,y,_(j._payload),N)}if(fa(j)||ea(j))return v=v.get(y)||null,h(x,v,j,N,null);zi(x,j)}return null}function w(v,x,y,j){for(var N=null,_=null,k=x,A=x=0,C=null;k!==null&&A<y.length;A++){k.index>A?(C=k,k=null):C=k.sibling;var E=p(v,k,y[A],j);if(E===null){k===null&&(k=C);break}e&&k&&E.alternate===null&&t(v,k),x=a(E,x,A),_===null?N=E:_.sibling=E,_=E,k=C}if(A===y.length)return r(v,k),Ze&&ps(v,A),N;if(k===null){for(;A<y.length;A++)k=f(v,y[A],j),k!==null&&(x=a(k,x,A),_===null?N=k:_.sibling=k,_=k);return Ze&&ps(v,A),N}for(k=n(v,k);A<y.length;A++)C=m(k,v,A,y[A],j),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?A:C.key),x=a(C,x,A),_===null?N=C:_.sibling=C,_=C);return e&&k.forEach(function(M){return t(v,M)}),Ze&&ps(v,A),N}function g(v,x,y,j){var N=ea(y);if(typeof N!="function")throw Error(ne(150));if(y=N.call(y),y==null)throw Error(ne(151));for(var _=N=null,k=x,A=x=0,C=null,E=y.next();k!==null&&!E.done;A++,E=y.next()){k.index>A?(C=k,k=null):C=k.sibling;var M=p(v,k,E.value,j);if(M===null){k===null&&(k=C);break}e&&k&&M.alternate===null&&t(v,k),x=a(M,x,A),_===null?N=M:_.sibling=M,_=M,k=C}if(E.done)return r(v,k),Ze&&ps(v,A),N;if(k===null){for(;!E.done;A++,E=y.next())E=f(v,E.value,j),E!==null&&(x=a(E,x,A),_===null?N=E:_.sibling=E,_=E);return Ze&&ps(v,A),N}for(k=n(v,k);!E.done;A++,E=y.next())E=m(k,v,A,E.value,j),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?A:E.key),x=a(E,x,A),_===null?N=E:_.sibling=E,_=E);return e&&k.forEach(function(D){return t(v,D)}),Ze&&ps(v,A),N}function b(v,x,y,j){if(typeof y=="object"&&y!==null&&y.type===oo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Pi:e:{for(var N=y.key,_=x;_!==null;){if(_.key===N){if(N=y.type,N===oo){if(_.tag===7){r(v,_.sibling),x=s(_,y.props.children),x.return=v,v=x;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$n&&Fp(N)===_.type){r(v,_.sibling),x=s(_,y.props),x.ref=oa(v,_,y),x.return=v,v=x;break e}r(v,_);break}else t(v,_);_=_.sibling}y.type===oo?(x=ks(y.props.children,v.mode,j,y.key),x.return=v,v=x):(j=bl(y.type,y.key,y.props,null,v.mode,j),j.ref=oa(v,x,y),j.return=v,v=j)}return i(v);case so:e:{for(_=y.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(v,x.sibling),x=s(x,y.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else t(v,x);x=x.sibling}x=Wu(y,v.mode,j),x.return=v,v=x}return i(v);case $n:return _=y._init,b(v,x,_(y._payload),j)}if(fa(y))return w(v,x,y,j);if(ea(y))return g(v,x,y,j);zi(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(v,x.sibling),x=s(x,y),x.return=v,v=x):(r(v,x),x=Vu(y,v.mode,j),x.return=v,v=x),i(v)):r(v,x)}return b}var Oo=Z0(!0),ev=Z0(!1),Fl=is(null),zl=null,mo=null,bf=null;function jf(){bf=mo=zl=null}function Nf(e){var t=Fl.current;Qe(Fl),e._currentValue=t}function qd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function bo(e,t){zl=e,bf=mo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function Sr(e){var t=e._currentValue;if(bf!==e)if(e={context:e,memoizedValue:t,next:null},mo===null){if(zl===null)throw Error(ne(308));mo=e,zl.dependencies={lanes:0,firstContext:e}}else mo=mo.next=e;return t}var js=null;function _f(e){js===null?js=[e]:js.push(e)}function tv(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,_f(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nn(e,n)}function Nn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ln=!1;function Sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Le&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nn(e,r)}return s=n.interleaved,s===null?(t.next=t,_f(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nn(e,r)}function pl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uf(e,r)}}function zp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bl(e,t,r,n){var s=e.updateQueue;Ln=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,h=u=c=null,l=a;do{var p=l.lane,m=l.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,g=l;switch(p=t,m=r,g.tag){case 1:if(w=g.payload,typeof w=="function"){f=w.call(m,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,p=typeof w=="function"?w.call(m,f,p):w,p==null)break e;f=ot({},f,p);break e;case 2:Ln=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=m,c=f):h=h.next=m,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);As|=i,e.lanes=i,e.memoizedState=f}}function Bp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ne(191,s));s.call(n)}}}var bi={},nn=is(bi),Ha=is(bi),Ka=is(bi);function Ns(e){if(e===bi)throw Error(ne(174));return e}function kf(e,t){switch(Ke(Ka,t),Ke(Ha,e),Ke(nn,bi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sd(t,e)}Qe(nn),Ke(nn,t)}function Io(){Qe(nn),Qe(Ha),Qe(Ka)}function nv(e){Ns(Ka.current);var t=Ns(nn.current),r=Sd(t,e.type);t!==r&&(Ke(Ha,e),Ke(nn,r))}function Cf(e){Ha.current===e&&(Qe(nn),Qe(Ha))}var rt=is(0);function Vl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $u=[];function Ef(){for(var e=0;e<$u.length;e++)$u[e]._workInProgressVersionPrimary=null;$u.length=0}var gl=En.ReactCurrentDispatcher,Lu=En.ReactCurrentBatchConfig,Ts=0,st=null,gt=null,jt=null,Wl=!1,ka=!1,Ga=0,n2=0;function At(){throw Error(ne(321))}function Rf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qr(e[r],t[r]))return!1;return!0}function Pf(e,t,r,n,s,a){if(Ts=a,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gl.current=e===null||e.memoizedState===null?i2:l2,e=r(n,s),ka){a=0;do{if(ka=!1,Ga=0,25<=a)throw Error(ne(301));a+=1,jt=gt=null,t.updateQueue=null,gl.current=c2,e=r(n,s)}while(ka)}if(gl.current=ql,t=gt!==null&&gt.next!==null,Ts=0,jt=gt=st=null,Wl=!1,t)throw Error(ne(300));return e}function Tf(){var e=Ga!==0;return Ga=0,e}function Qr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?st.memoizedState=jt=e:jt=jt.next=e,jt}function kr(){if(gt===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=jt===null?st.memoizedState:jt.next;if(t!==null)jt=t,gt=e;else{if(e===null)throw Error(ne(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},jt===null?st.memoizedState=jt=e:jt=jt.next=e}return jt}function Ya(e,t){return typeof t=="function"?t(e):t}function Uu(e){var t=kr(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=gt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var h=u.lane;if((Ts&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,st.lanes|=h,As|=h}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,qr(n,t.memoizedState)||(Gt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,st.lanes|=a,As|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fu(e){var t=kr(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);qr(a,t.memoizedState)||(Gt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function sv(){}function ov(e,t){var r=st,n=kr(),s=t(),a=!qr(n.memoizedState,s);if(a&&(n.memoizedState=s,Gt=!0),n=n.queue,Af(lv.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,Ja(9,iv.bind(null,r,n,s,t),void 0,null),Nt===null)throw Error(ne(349));Ts&30||av(r,t,s)}return s}function av(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function iv(e,t,r,n){t.value=r,t.getSnapshot=n,cv(t)&&uv(e)}function lv(e,t,r){return r(function(){cv(t)&&uv(e)})}function cv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qr(e,r)}catch{return!0}}function uv(e){var t=Nn(e,1);t!==null&&zr(t,e,1,-1)}function Vp(e){var t=Qr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ya,lastRenderedState:e},t.queue=e,e=e.dispatch=a2.bind(null,st,e),[t.memoizedState,e]}function Ja(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function dv(){return kr().memoizedState}function xl(e,t,r,n){var s=Qr();st.flags|=e,s.memoizedState=Ja(1|t,r,void 0,n===void 0?null:n)}function Pc(e,t,r,n){var s=kr();n=n===void 0?null:n;var a=void 0;if(gt!==null){var i=gt.memoizedState;if(a=i.destroy,n!==null&&Rf(n,i.deps)){s.memoizedState=Ja(t,r,a,n);return}}st.flags|=e,s.memoizedState=Ja(1|t,r,a,n)}function Wp(e,t){return xl(8390656,8,e,t)}function Af(e,t){return Pc(2048,8,e,t)}function hv(e,t){return Pc(4,2,e,t)}function fv(e,t){return Pc(4,4,e,t)}function mv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pv(e,t,r){return r=r!=null?r.concat([e]):null,Pc(4,4,mv.bind(null,t,e),r)}function Of(){}function gv(e,t){var r=kr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xv(e,t){var r=kr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function vv(e,t,r){return Ts&21?(qr(r,t)||(r=N0(),st.lanes|=r,As|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=r)}function s2(e,t){var r=We;We=r!==0&&4>r?r:4,e(!0);var n=Lu.transition;Lu.transition={};try{e(!1),t()}finally{We=r,Lu.transition=n}}function yv(){return kr().memoizedState}function o2(e,t,r){var n=Jn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wv(e))bv(t,r);else if(r=tv(e,t,r,n),r!==null){var s=zt();zr(r,e,n,s),jv(r,t,n)}}function a2(e,t,r){var n=Jn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wv(e))bv(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,qr(l,i)){var c=t.interleaved;c===null?(s.next=s,_f(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=tv(e,t,s,n),r!==null&&(s=zt(),zr(r,e,n,s),jv(r,t,n))}}function wv(e){var t=e.alternate;return e===st||t!==null&&t===st}function bv(e,t){ka=Wl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uf(e,r)}}var ql={readContext:Sr,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},i2={readContext:Sr,useCallback:function(e,t){return Qr().memoizedState=[e,t===void 0?null:t],e},useContext:Sr,useEffect:Wp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xl(4194308,4,mv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xl(4194308,4,e,t)},useInsertionEffect:function(e,t){return xl(4,2,e,t)},useMemo:function(e,t){var r=Qr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=o2.bind(null,st,e),[n.memoizedState,e]},useRef:function(e){var t=Qr();return e={current:e},t.memoizedState=e},useState:Vp,useDebugValue:Of,useDeferredValue:function(e){return Qr().memoizedState=e},useTransition:function(){var e=Vp(!1),t=e[0];return e=s2.bind(null,e[1]),Qr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=st,s=Qr();if(Ze){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=t(),Nt===null)throw Error(ne(349));Ts&30||av(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Wp(lv.bind(null,n,a,e),[e]),n.flags|=2048,Ja(9,iv.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Qr(),t=Nt.identifierPrefix;if(Ze){var r=yn,n=vn;r=(n&~(1<<32-Fr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ga++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=n2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},l2={readContext:Sr,useCallback:gv,useContext:Sr,useEffect:Af,useImperativeHandle:pv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:xv,useReducer:Uu,useRef:dv,useState:function(){return Uu(Ya)},useDebugValue:Of,useDeferredValue:function(e){var t=kr();return vv(t,gt.memoizedState,e)},useTransition:function(){var e=Uu(Ya)[0],t=kr().memoizedState;return[e,t]},useMutableSource:sv,useSyncExternalStore:ov,useId:yv,unstable_isNewReconciler:!1},c2={readContext:Sr,useCallback:gv,useContext:Sr,useEffect:Af,useImperativeHandle:pv,useInsertionEffect:hv,useLayoutEffect:fv,useMemo:xv,useReducer:Fu,useRef:dv,useState:function(){return Fu(Ya)},useDebugValue:Of,useDeferredValue:function(e){var t=kr();return gt===null?t.memoizedState=e:vv(t,gt.memoizedState,e)},useTransition:function(){var e=Fu(Ya)[0],t=kr().memoizedState;return[e,t]},useMutableSource:sv,useSyncExternalStore:ov,useId:yv,unstable_isNewReconciler:!1};function Mr(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Hd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ot({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tc={isMounted:function(e){return(e=e._reactInternals)?Fs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=zt(),s=Jn(e),a=wn(n,s);a.payload=t,r!=null&&(a.callback=r),t=Gn(e,a,s),t!==null&&(zr(t,e,s,n),pl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=zt(),s=Jn(e),a=wn(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Gn(e,a,s),t!==null&&(zr(t,e,s,n),pl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zt(),n=Jn(e),s=wn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Gn(e,s,n),t!==null&&(zr(t,e,n,r),pl(t,e,n))}};function qp(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Ba(r,n)||!Ba(s,a):!0}function Nv(e,t,r){var n=!1,s=es,a=t.contextType;return typeof a=="object"&&a!==null?a=Sr(a):(s=Xt(t)?Rs:$t.current,n=t.contextTypes,a=(n=n!=null)?To(e,s):es),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Hp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Tc.enqueueReplaceState(t,t.state,null)}function Kd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Sf(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Sr(a):(a=Xt(t)?Rs:$t.current,s.context=To(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Hd(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Tc.enqueueReplaceState(s,s.state,null),Bl(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Mo(e,t){try{var r="",n=t;do r+=$_(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function zu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Gd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var u2=typeof WeakMap=="function"?WeakMap:Map;function _v(e,t,r){r=wn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Kl||(Kl=!0,sh=n),Gd(e,t)},r}function Sv(e,t,r){r=wn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Gd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Gd(e,t),typeof n!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Kp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new u2;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=_2.bind(null,e,t,r),t.then(e,e))}function Gp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yp(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wn(-1,1),t.tag=2,Gn(r,t,1))),r.lanes|=1),e)}var d2=En.ReactCurrentOwner,Gt=!1;function Ut(e,t,r,n){t.child=e===null?ev(t,null,r,n):Oo(t,e.child,r,n)}function Jp(e,t,r,n,s){r=r.render;var a=t.ref;return bo(t,s),n=Pf(e,t,r,n,a,s),r=Tf(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_n(e,t,s)):(Ze&&r&&vf(t),t.flags|=1,Ut(e,t,n,s),t.child)}function Xp(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!zf(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,kv(e,t,a,n,s)):(e=bl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ba,r(i,n)&&e.ref===t.ref)return _n(e,t,s)}return t.flags|=1,e=Xn(a,n),e.ref=t.ref,e.return=t,t.child=e}function kv(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Ba(a,n)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,_n(e,t,s)}return Yd(e,t,r,n,s)}function Cv(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(go,nr),nr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(go,nr),nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ke(go,nr),nr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ke(go,nr),nr|=n;return Ut(e,t,s,r),t.child}function Ev(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Yd(e,t,r,n,s){var a=Xt(r)?Rs:$t.current;return a=To(t,a),bo(t,s),r=Pf(e,t,r,n,a,s),n=Tf(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_n(e,t,s)):(Ze&&n&&vf(t),t.flags|=1,Ut(e,t,r,s),t.child)}function Qp(e,t,r,n,s){if(Xt(r)){var a=!0;$l(t)}else a=!1;if(bo(t,s),t.stateNode===null)vl(e,t),Nv(t,r,n),Kd(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Sr(u):(u=Xt(r)?Rs:$t.current,u=To(t,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Hp(t,i,n,u),Ln=!1;var p=t.memoizedState;i.state=p,Bl(t,n,i,s),c=t.memoizedState,l!==n||p!==c||Jt.current||Ln?(typeof h=="function"&&(Hd(t,r,h,n),c=t.memoizedState),(l=Ln||qp(t,r,l,n,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,rv(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Mr(t.type,l),i.props=u,f=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Sr(c):(c=Xt(r)?Rs:$t.current,c=To(t,c));var m=r.getDerivedStateFromProps;(h=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Hp(t,i,n,c),Ln=!1,p=t.memoizedState,i.state=p,Bl(t,n,i,s);var w=t.memoizedState;l!==f||p!==w||Jt.current||Ln?(typeof m=="function"&&(Hd(t,r,m,n),w=t.memoizedState),(u=Ln||qp(t,r,u,n,p,w,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),i.props=n,i.state=w,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Jd(e,t,r,n,a,s)}function Jd(e,t,r,n,s,a){Ev(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&$p(t,r,!1),_n(e,t,a);n=t.stateNode,d2.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Oo(t,e.child,null,a),t.child=Oo(t,null,l,a)):Ut(e,t,l,a),t.memoizedState=n.state,s&&$p(t,r,!0),t.child}function Rv(e){var t=e.stateNode;t.pendingContext?Dp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dp(e,t.context,!1),kf(e,t.containerInfo)}function Zp(e,t,r,n,s){return Ao(),wf(s),t.flags|=256,Ut(e,t,r,n),t.child}var Xd={dehydrated:null,treeContext:null,retryLane:0};function Qd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pv(e,t,r){var n=t.pendingProps,s=rt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ke(rt,s&1),e===null)return Wd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Ic(i,n,0,null),e=ks(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Qd(r),t.memoizedState=Xd,e):If(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return h2(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Xn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Xn(l,a):(a=ks(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Qd(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Xd,n}return a=e.child,e=a.sibling,n=Xn(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function If(e,t){return t=Ic({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bi(e,t,r,n){return n!==null&&wf(n),Oo(t,e.child,null,r),e=If(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function h2(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=zu(Error(ne(422))),Bi(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Ic({mode:"visible",children:n.children},s,0,null),a=ks(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Oo(t,e.child,null,i),t.child.memoizedState=Qd(i),t.memoizedState=Xd,a);if(!(t.mode&1))return Bi(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ne(419)),n=zu(a,n,void 0),Bi(e,t,i,n)}if(l=(i&e.childLanes)!==0,Gt||l){if(n=Nt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Nn(e,s),zr(n,e,s,-1))}return Ff(),n=zu(Error(ne(421))),Bi(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=S2.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,lr=Kn(s.nextSibling),cr=t,Ze=!0,Ur=null,e!==null&&(vr[yr++]=vn,vr[yr++]=yn,vr[yr++]=Ps,vn=e.id,yn=e.overflow,Ps=t),t=If(t,n.children),t.flags|=4096,t)}function eg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),qd(e.return,t,r)}function Bu(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Tv(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Ut(e,t,n.children,r),n=rt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eg(e,r,t);else if(e.tag===19)eg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ke(rt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Vl(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Bu(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vl(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Bu(t,!0,r,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _n(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),As|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=Xn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function f2(e,t,r){switch(t.tag){case 3:Rv(t),Ao();break;case 5:nv(t);break;case 1:Xt(t.type)&&$l(t);break;case 4:kf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ke(Fl,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ke(rt,rt.current&1),t.flags|=128,null):r&t.child.childLanes?Pv(e,t,r):(Ke(rt,rt.current&1),e=_n(e,t,r),e!==null?e.sibling:null);Ke(rt,rt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Tv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(rt,rt.current),n)break;return null;case 22:case 23:return t.lanes=0,Cv(e,t,r)}return _n(e,t,r)}var Av,Zd,Ov,Iv;Av=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Zd=function(){};Ov=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ns(nn.current);var a=null;switch(r){case"input":s=bd(e,s),n=bd(e,n),a=[];break;case"select":s=ot({},s,{value:void 0}),n=ot({},n,{value:void 0}),a=[];break;case"textarea":s=_d(e,s),n=_d(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ml)}kd(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ma.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ma.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ye("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Iv=function(e,t,r,n){r!==n&&(t.flags|=4)};function aa(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function m2(e,t,r){var n=t.pendingProps;switch(yf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return Xt(t.type)&&Dl(),Ot(t),null;case 3:return n=t.stateNode,Io(),Qe(Jt),Qe($t),Ef(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ur!==null&&(ih(Ur),Ur=null))),Zd(e,t),Ot(t),null;case 5:Cf(t);var s=Ns(Ka.current);if(r=t.type,e!==null&&t.stateNode!=null)Ov(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return Ot(t),null}if(e=Ns(nn.current),Fi(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Zr]=t,n[qa]=a,e=(t.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(s=0;s<pa.length;s++)Ye(pa[s],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":cp(n,a),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ye("invalid",n);break;case"textarea":dp(n,a),Ye("invalid",n)}kd(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ui(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ui(n.textContent,l,e),s=["children",""+l]):Ma.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ye("scroll",n)}switch(r){case"input":Ti(n),up(n,a,!0);break;case"textarea":Ti(n),hp(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ml)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=l0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Zr]=t,e[qa]=n,Av(e,t,!1,!1),t.stateNode=e;e:{switch(i=Cd(r,n),r){case"dialog":Ye("cancel",e),Ye("close",e),s=n;break;case"iframe":case"object":case"embed":Ye("load",e),s=n;break;case"video":case"audio":for(s=0;s<pa.length;s++)Ye(pa[s],e);s=n;break;case"source":Ye("error",e),s=n;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),s=n;break;case"details":Ye("toggle",e),s=n;break;case"input":cp(e,n),s=bd(e,n),Ye("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ot({},n,{value:void 0}),Ye("invalid",e);break;case"textarea":dp(e,n),s=_d(e,n),Ye("invalid",e);break;default:s=n}kd(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?d0(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&c0(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Da(e,c):typeof c=="number"&&Da(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ma.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ye("scroll",e):c!=null&&nf(e,a,c,i))}switch(r){case"input":Ti(e),up(e,n,!1);break;case"textarea":Ti(e),hp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zn(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?xo(e,!!n.multiple,a,!1):n.defaultValue!=null&&xo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ml)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ot(t),null;case 6:if(e&&t.stateNode!=null)Iv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));if(r=Ns(Ka.current),Ns(nn.current),Fi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zr]=t,(a=n.nodeValue!==r)&&(e=cr,e!==null))switch(e.tag){case 3:Ui(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ui(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zr]=t,t.stateNode=n}return Ot(t),null;case 13:if(Qe(rt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&lr!==null&&t.mode&1&&!(t.flags&128))Q0(),Ao(),t.flags|=98560,a=!1;else if(a=Fi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ne(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ne(317));a[Zr]=t}else Ao(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ot(t),a=!1}else Ur!==null&&(ih(Ur),Ur=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?xt===0&&(xt=3):Ff())),t.updateQueue!==null&&(t.flags|=4),Ot(t),null);case 4:return Io(),Zd(e,t),e===null&&Va(t.stateNode.containerInfo),Ot(t),null;case 10:return Nf(t.type._context),Ot(t),null;case 17:return Xt(t.type)&&Dl(),Ot(t),null;case 19:if(Qe(rt),a=t.memoizedState,a===null)return Ot(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)aa(a,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Vl(e),i!==null){for(t.flags|=128,aa(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ke(rt,rt.current&1|2),t.child}e=e.sibling}a.tail!==null&&ct()>Do&&(t.flags|=128,n=!0,aa(a,!1),t.lanes=4194304)}else{if(!n)if(e=Vl(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),aa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Ze)return Ot(t),null}else 2*ct()-a.renderingStartTime>Do&&r!==1073741824&&(t.flags|=128,n=!0,aa(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ct(),t.sibling=null,r=rt.current,Ke(rt,n?r&1|2:r&1),t):(Ot(t),null);case 22:case 23:return Uf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nr&1073741824&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function p2(e,t){switch(yf(t),t.tag){case 1:return Xt(t.type)&&Dl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Io(),Qe(Jt),Qe($t),Ef(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cf(t),null;case 13:if(Qe(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));Ao()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(rt),null;case 4:return Io(),null;case 10:return Nf(t.type._context),null;case 22:case 23:return Uf(),null;case 24:return null;default:return null}}var Vi=!1,Mt=!1,g2=typeof WeakSet=="function"?WeakSet:Set,fe=null;function po(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){it(e,t,n)}else r.current=null}function eh(e,t,r){try{r()}catch(n){it(e,t,n)}}var tg=!1;function x2(e,t){if($d=Al,e=U0(),xf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,h=0,f=e,p=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===r&&++u===s&&(l=i),p===a&&++h===n&&(c=i),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ld={focusedElem:e,selectionRange:r},Al=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,b=w.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Mr(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(j){it(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return w=tg,tg=!1,w}function Ca(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&eh(t,r,a)}s=s.next}while(s!==n)}}function Ac(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function th(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Mv(e){var t=e.alternate;t!==null&&(e.alternate=null,Mv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zr],delete t[qa],delete t[zd],delete t[ZS],delete t[e2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dv(e){return e.tag===5||e.tag===3||e.tag===4}function rg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ml));else if(n!==4&&(e=e.child,e!==null))for(rh(e,t,r),e=e.sibling;e!==null;)rh(e,t,r),e=e.sibling}function nh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(nh(e,t,r),e=e.sibling;e!==null;)nh(e,t,r),e=e.sibling}var kt=null,$r=!1;function Tn(e,t,r){for(r=r.child;r!==null;)$v(e,t,r),r=r.sibling}function $v(e,t,r){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(_c,r)}catch{}switch(r.tag){case 5:Mt||po(r,t);case 6:var n=kt,s=$r;kt=null,Tn(e,t,r),kt=n,$r=s,kt!==null&&($r?(e=kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&($r?(e=kt,r=r.stateNode,e.nodeType===8?Mu(e.parentNode,r):e.nodeType===1&&Mu(e,r),Fa(e)):Mu(kt,r.stateNode));break;case 4:n=kt,s=$r,kt=r.stateNode.containerInfo,$r=!0,Tn(e,t,r),kt=n,$r=s;break;case 0:case 11:case 14:case 15:if(!Mt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&eh(r,t,i),s=s.next}while(s!==n)}Tn(e,t,r);break;case 1:if(!Mt&&(po(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){it(r,t,l)}Tn(e,t,r);break;case 21:Tn(e,t,r);break;case 22:r.mode&1?(Mt=(n=Mt)||r.memoizedState!==null,Tn(e,t,r),Mt=n):Tn(e,t,r);break;default:Tn(e,t,r)}}function ng(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new g2),t.forEach(function(n){var s=k2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Rr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:kt=l.stateNode,$r=!1;break e;case 3:kt=l.stateNode.containerInfo,$r=!0;break e;case 4:kt=l.stateNode.containerInfo,$r=!0;break e}l=l.return}if(kt===null)throw Error(ne(160));$v(a,i,s),kt=null,$r=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){it(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lv(t,e),t=t.sibling}function Lv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rr(t,e),Xr(e),n&4){try{Ca(3,e,e.return),Ac(3,e)}catch(g){it(e,e.return,g)}try{Ca(5,e,e.return)}catch(g){it(e,e.return,g)}}break;case 1:Rr(t,e),Xr(e),n&512&&r!==null&&po(r,r.return);break;case 5:if(Rr(t,e),Xr(e),n&512&&r!==null&&po(r,r.return),e.flags&32){var s=e.stateNode;try{Da(s,"")}catch(g){it(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&a0(s,a),Cd(l,i);var u=Cd(l,a);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h==="style"?d0(s,f):h==="dangerouslySetInnerHTML"?c0(s,f):h==="children"?Da(s,f):nf(s,h,f,u)}switch(l){case"input":jd(s,a);break;case"textarea":i0(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?xo(s,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?xo(s,!!a.multiple,a.defaultValue,!0):xo(s,!!a.multiple,a.multiple?[]:"",!1))}s[qa]=a}catch(g){it(e,e.return,g)}}break;case 6:if(Rr(t,e),Xr(e),n&4){if(e.stateNode===null)throw Error(ne(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){it(e,e.return,g)}}break;case 3:if(Rr(t,e),Xr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fa(t.containerInfo)}catch(g){it(e,e.return,g)}break;case 4:Rr(t,e),Xr(e);break;case 13:Rr(t,e),Xr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||($f=ct())),n&4&&ng(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Mt=(u=Mt)||h,Rr(t,e),Mt=u):Rr(t,e),Xr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(fe=e,h=e.child;h!==null;){for(f=fe=h;fe!==null;){switch(p=fe,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ca(4,p,p.return);break;case 1:po(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){it(n,r,g)}}break;case 5:po(p,p.return);break;case 22:if(p.memoizedState!==null){og(f);continue}}m!==null?(m.return=p,fe=m):og(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=u0("display",i))}catch(g){it(e,e.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){it(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rr(t,e),Xr(e),n&4&&ng(e);break;case 21:break;default:Rr(t,e),Xr(e)}}function Xr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Dv(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Da(s,""),n.flags&=-33);var a=rg(e);nh(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=rg(e);rh(e,l,i);break;default:throw Error(ne(161))}}catch(c){it(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function v2(e,t,r){fe=e,Uv(e)}function Uv(e,t,r){for(var n=(e.mode&1)!==0;fe!==null;){var s=fe,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Vi;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Mt;l=Vi;var u=Mt;if(Vi=i,(Mt=c)&&!u)for(fe=s;fe!==null;)i=fe,c=i.child,i.tag===22&&i.memoizedState!==null?ag(s):c!==null?(c.return=i,fe=c):ag(s);for(;a!==null;)fe=a,Uv(a),a=a.sibling;fe=s,Vi=l,Mt=u}sg(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,fe=a):sg(e)}}function sg(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mt||Ac(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Mr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Bp(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Bp(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Fa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Mt||t.flags&512&&th(t)}catch(p){it(t,t.return,p)}}if(t===e){fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,fe=r;break}fe=t.return}}function og(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,fe=r;break}fe=t.return}}function ag(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ac(4,t)}catch(c){it(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){it(t,s,c)}}var a=t.return;try{th(t)}catch(c){it(t,a,c)}break;case 5:var i=t.return;try{th(t)}catch(c){it(t,i,c)}}}catch(c){it(t,t.return,c)}if(t===e){fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,fe=l;break}fe=t.return}}var y2=Math.ceil,Hl=En.ReactCurrentDispatcher,Mf=En.ReactCurrentOwner,jr=En.ReactCurrentBatchConfig,Le=0,Nt=null,ft=null,Rt=0,nr=0,go=is(0),xt=0,Xa=null,As=0,Oc=0,Df=0,Ea=null,Kt=null,$f=0,Do=1/0,pn=null,Kl=!1,sh=null,Yn=null,Wi=!1,Vn=null,Gl=0,Ra=0,oh=null,yl=-1,wl=0;function zt(){return Le&6?ct():yl!==-1?yl:yl=ct()}function Jn(e){return e.mode&1?Le&2&&Rt!==0?Rt&-Rt:r2.transition!==null?(wl===0&&(wl=N0()),wl):(e=We,e!==0||(e=window.event,e=e===void 0?16:P0(e.type)),e):1}function zr(e,t,r,n){if(50<Ra)throw Ra=0,oh=null,Error(ne(185));vi(e,r,n),(!(Le&2)||e!==Nt)&&(e===Nt&&(!(Le&2)&&(Oc|=r),xt===4&&Fn(e,Rt)),Qt(e,n),r===1&&Le===0&&!(t.mode&1)&&(Do=ct()+500,Rc&&ls()))}function Qt(e,t){var r=e.callbackNode;rS(e,t);var n=Tl(e,e===Nt?Rt:0);if(n===0)r!==null&&pp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&pp(r),t===1)e.tag===0?t2(ig.bind(null,e)):Y0(ig.bind(null,e)),XS(function(){!(Le&6)&&ls()}),r=null;else{switch(_0(n)){case 1:r=cf;break;case 4:r=b0;break;case 16:r=Pl;break;case 536870912:r=j0;break;default:r=Pl}r=Kv(r,Fv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Fv(e,t){if(yl=-1,wl=0,Le&6)throw Error(ne(327));var r=e.callbackNode;if(jo()&&e.callbackNode!==r)return null;var n=Tl(e,e===Nt?Rt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Yl(e,n);else{t=n;var s=Le;Le|=2;var a=Bv();(Nt!==e||Rt!==t)&&(pn=null,Do=ct()+500,Ss(e,t));do try{j2();break}catch(l){zv(e,l)}while(!0);jf(),Hl.current=a,Le=s,ft!==null?t=0:(Nt=null,Rt=0,t=xt)}if(t!==0){if(t===2&&(s=Ad(e),s!==0&&(n=s,t=ah(e,s))),t===1)throw r=Xa,Ss(e,0),Fn(e,n),Qt(e,ct()),r;if(t===6)Fn(e,n);else{if(s=e.current.alternate,!(n&30)&&!w2(s)&&(t=Yl(e,n),t===2&&(a=Ad(e),a!==0&&(n=a,t=ah(e,a))),t===1))throw r=Xa,Ss(e,0),Fn(e,n),Qt(e,ct()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ne(345));case 2:gs(e,Kt,pn);break;case 3:if(Fn(e,n),(n&130023424)===n&&(t=$f+500-ct(),10<t)){if(Tl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){zt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Fd(gs.bind(null,e,Kt,pn),t);break}gs(e,Kt,pn);break;case 4:if(Fn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Fr(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*y2(n/1960))-n,10<n){e.timeoutHandle=Fd(gs.bind(null,e,Kt,pn),n);break}gs(e,Kt,pn);break;case 5:gs(e,Kt,pn);break;default:throw Error(ne(329))}}}return Qt(e,ct()),e.callbackNode===r?Fv.bind(null,e):null}function ah(e,t){var r=Ea;return e.current.memoizedState.isDehydrated&&(Ss(e,t).flags|=256),e=Yl(e,t),e!==2&&(t=Kt,Kt=r,t!==null&&ih(t)),e}function ih(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function w2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!qr(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t){for(t&=~Df,t&=~Oc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Fr(t),n=1<<r;e[r]=-1,t&=~n}}function ig(e){if(Le&6)throw Error(ne(327));jo();var t=Tl(e,0);if(!(t&1))return Qt(e,ct()),null;var r=Yl(e,t);if(e.tag!==0&&r===2){var n=Ad(e);n!==0&&(t=n,r=ah(e,n))}if(r===1)throw r=Xa,Ss(e,0),Fn(e,t),Qt(e,ct()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gs(e,Kt,pn),Qt(e,ct()),null}function Lf(e,t){var r=Le;Le|=1;try{return e(t)}finally{Le=r,Le===0&&(Do=ct()+500,Rc&&ls())}}function Os(e){Vn!==null&&Vn.tag===0&&!(Le&6)&&jo();var t=Le;Le|=1;var r=jr.transition,n=We;try{if(jr.transition=null,We=1,e)return e()}finally{We=n,jr.transition=r,Le=t,!(Le&6)&&ls()}}function Uf(){nr=go.current,Qe(go)}function Ss(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,JS(r)),ft!==null)for(r=ft.return;r!==null;){var n=r;switch(yf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Dl();break;case 3:Io(),Qe(Jt),Qe($t),Ef();break;case 5:Cf(n);break;case 4:Io();break;case 13:Qe(rt);break;case 19:Qe(rt);break;case 10:Nf(n.type._context);break;case 22:case 23:Uf()}r=r.return}if(Nt=e,ft=e=Xn(e.current,null),Rt=nr=t,xt=0,Xa=null,Df=Oc=As=0,Kt=Ea=null,js!==null){for(t=0;t<js.length;t++)if(r=js[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}js=null}return e}function zv(e,t){do{var r=ft;try{if(jf(),gl.current=ql,Wl){for(var n=st.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Wl=!1}if(Ts=0,jt=gt=st=null,ka=!1,Ga=0,Mf.current=null,r===null||r.return===null){xt=1,Xa=t,ft=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=Rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Gp(i);if(m!==null){m.flags&=-257,Yp(m,i,l,a,t),m.mode&1&&Kp(a,u,t),t=m,c=u;var w=t.updateQueue;if(w===null){var g=new Set;g.add(c),t.updateQueue=g}else w.add(c);break e}else{if(!(t&1)){Kp(a,u,t),Ff();break e}c=Error(ne(426))}}else if(Ze&&l.mode&1){var b=Gp(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Yp(b,i,l,a,t),wf(Mo(c,l));break e}}a=c=Mo(c,l),xt!==4&&(xt=2),Ea===null?Ea=[a]:Ea.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=_v(a,c,t);zp(a,v);break e;case 1:l=c;var x=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yn===null||!Yn.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Sv(a,l,t);zp(a,j);break e}}a=a.return}while(a!==null)}Wv(r)}catch(N){t=N,ft===r&&r!==null&&(ft=r=r.return);continue}break}while(!0)}function Bv(){var e=Hl.current;return Hl.current=ql,e===null?ql:e}function Ff(){(xt===0||xt===3||xt===2)&&(xt=4),Nt===null||!(As&268435455)&&!(Oc&268435455)||Fn(Nt,Rt)}function Yl(e,t){var r=Le;Le|=2;var n=Bv();(Nt!==e||Rt!==t)&&(pn=null,Ss(e,t));do try{b2();break}catch(s){zv(e,s)}while(!0);if(jf(),Le=r,Hl.current=n,ft!==null)throw Error(ne(261));return Nt=null,Rt=0,xt}function b2(){for(;ft!==null;)Vv(ft)}function j2(){for(;ft!==null&&!K_();)Vv(ft)}function Vv(e){var t=Hv(e.alternate,e,nr);e.memoizedProps=e.pendingProps,t===null?Wv(e):ft=t,Mf.current=null}function Wv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=p2(r,t),r!==null){r.flags&=32767,ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,ft=null;return}}else if(r=m2(r,t,nr),r!==null){ft=r;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);xt===0&&(xt=5)}function gs(e,t,r){var n=We,s=jr.transition;try{jr.transition=null,We=1,N2(e,t,r,n)}finally{jr.transition=s,We=n}return null}function N2(e,t,r,n){do jo();while(Vn!==null);if(Le&6)throw Error(ne(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(nS(e,a),e===Nt&&(ft=Nt=null,Rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wi||(Wi=!0,Kv(Pl,function(){return jo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=jr.transition,jr.transition=null;var i=We;We=1;var l=Le;Le|=4,Mf.current=null,x2(e,r),Lv(r,e),VS(Ld),Al=!!$d,Ld=$d=null,e.current=r,v2(r),G_(),Le=l,We=i,jr.transition=a}else e.current=r;if(Wi&&(Wi=!1,Vn=e,Gl=s),a=e.pendingLanes,a===0&&(Yn=null),X_(r.stateNode),Qt(e,ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Kl)throw Kl=!1,e=sh,sh=null,e;return Gl&1&&e.tag!==0&&jo(),a=e.pendingLanes,a&1?e===oh?Ra++:(Ra=0,oh=e):Ra=0,ls(),null}function jo(){if(Vn!==null){var e=_0(Gl),t=jr.transition,r=We;try{if(jr.transition=null,We=16>e?16:e,Vn===null)var n=!1;else{if(e=Vn,Vn=null,Gl=0,Le&6)throw Error(ne(331));var s=Le;for(Le|=4,fe=e.current;fe!==null;){var a=fe,i=a.child;if(fe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(fe=u;fe!==null;){var h=fe;switch(h.tag){case 0:case 11:case 15:Ca(8,h,a)}var f=h.child;if(f!==null)f.return=h,fe=f;else for(;fe!==null;){h=fe;var p=h.sibling,m=h.return;if(Mv(h),h===u){fe=null;break}if(p!==null){p.return=m,fe=p;break}fe=m}}}var w=a.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}fe=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,fe=i;else e:for(;fe!==null;){if(a=fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ca(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,fe=v;break e}fe=a.return}}var x=e.current;for(fe=x;fe!==null;){i=fe;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,fe=y;else e:for(i=x;fe!==null;){if(l=fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ac(9,l)}}catch(N){it(l,l.return,N)}if(l===i){fe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,fe=j;break e}fe=l.return}}if(Le=s,ls(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(_c,e)}catch{}n=!0}return n}finally{We=r,jr.transition=t}}return!1}function lg(e,t,r){t=Mo(r,t),t=_v(e,t,1),e=Gn(e,t,1),t=zt(),e!==null&&(vi(e,1,t),Qt(e,t))}function it(e,t,r){if(e.tag===3)lg(e,e,r);else for(;t!==null;){if(t.tag===3){lg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yn===null||!Yn.has(n))){e=Mo(r,e),e=Sv(t,e,1),t=Gn(t,e,1),e=zt(),t!==null&&(vi(t,1,e),Qt(t,e));break}}t=t.return}}function _2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&r,Nt===e&&(Rt&r)===r&&(xt===4||xt===3&&(Rt&130023424)===Rt&&500>ct()-$f?Ss(e,0):Df|=r),Qt(e,t)}function qv(e,t){t===0&&(e.mode&1?(t=Ii,Ii<<=1,!(Ii&130023424)&&(Ii=4194304)):t=1);var r=zt();e=Nn(e,t),e!==null&&(vi(e,t,r),Qt(e,r))}function S2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qv(e,r)}function k2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(t),qv(e,r)}var Hv;Hv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)Gt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gt=!1,f2(e,t,r);Gt=!!(e.flags&131072)}else Gt=!1,Ze&&t.flags&1048576&&J0(t,Ul,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;vl(e,t),e=t.pendingProps;var s=To(t,$t.current);bo(t,r),s=Pf(null,t,n,e,s,r);var a=Tf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xt(n)?(a=!0,$l(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sf(t),s.updater=Tc,t.stateNode=s,s._reactInternals=t,Kd(t,n,e,r),t=Jd(null,t,n,!0,a,r)):(t.tag=0,Ze&&a&&vf(t),Ut(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(vl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=E2(n),e=Mr(n,e),s){case 0:t=Yd(null,t,n,e,r);break e;case 1:t=Qp(null,t,n,e,r);break e;case 11:t=Jp(null,t,n,e,r);break e;case 14:t=Xp(null,t,n,Mr(n.type,e),r);break e}throw Error(ne(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Yd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Qp(e,t,n,s,r);case 3:e:{if(Rv(t),e===null)throw Error(ne(387));n=t.pendingProps,a=t.memoizedState,s=a.element,rv(e,t),Bl(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Mo(Error(ne(423)),t),t=Zp(e,t,n,r,s);break e}else if(n!==s){s=Mo(Error(ne(424)),t),t=Zp(e,t,n,r,s);break e}else for(lr=Kn(t.stateNode.containerInfo.firstChild),cr=t,Ze=!0,Ur=null,r=ev(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ao(),n===s){t=_n(e,t,r);break e}Ut(e,t,n,r)}t=t.child}return t;case 5:return nv(t),e===null&&Wd(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Ud(n,s)?i=null:a!==null&&Ud(n,a)&&(t.flags|=32),Ev(e,t),Ut(e,t,i,r),t.child;case 6:return e===null&&Wd(t),null;case 13:return Pv(e,t,r);case 4:return kf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Oo(t,null,n,r):Ut(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Jp(e,t,n,s,r);case 7:return Ut(e,t,t.pendingProps,r),t.child;case 8:return Ut(e,t,t.pendingProps.children,r),t.child;case 12:return Ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Ke(Fl,n._currentValue),n._currentValue=i,a!==null)if(qr(a.value,i)){if(a.children===s.children&&!Jt.current){t=_n(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=wn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),qd(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ne(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),qd(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ut(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,bo(t,r),s=Sr(s),n=n(s),t.flags|=1,Ut(e,t,n,r),t.child;case 14:return n=t.type,s=Mr(n,t.pendingProps),s=Mr(n.type,s),Xp(e,t,n,s,r);case 15:return kv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),vl(e,t),t.tag=1,Xt(n)?(e=!0,$l(t)):e=!1,bo(t,r),Nv(t,n,s),Kd(t,n,s,r),Jd(null,t,n,!0,e,r);case 19:return Tv(e,t,r);case 22:return Cv(e,t,r)}throw Error(ne(156,t.tag))};function Kv(e,t){return w0(e,t)}function C2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(e,t,r,n){return new C2(e,t,r,n)}function zf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function E2(e){if(typeof e=="function")return zf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===of)return 11;if(e===af)return 14}return 2}function Xn(e,t){var r=e.alternate;return r===null?(r=br(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function bl(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")zf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case oo:return ks(r.children,s,a,t);case sf:i=8,s|=8;break;case xd:return e=br(12,r,t,s|2),e.elementType=xd,e.lanes=a,e;case vd:return e=br(13,r,t,s),e.elementType=vd,e.lanes=a,e;case yd:return e=br(19,r,t,s),e.elementType=yd,e.lanes=a,e;case n0:return Ic(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case t0:i=10;break e;case r0:i=9;break e;case of:i=11;break e;case af:i=14;break e;case $n:i=16,n=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=br(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function ks(e,t,r,n){return e=br(7,e,n,t),e.lanes=r,e}function Ic(e,t,r,n){return e=br(22,e,n,t),e.elementType=n0,e.lanes=r,e.stateNode={isHidden:!1},e}function Vu(e,t,r){return e=br(6,e,null,t),e.lanes=r,e}function Wu(e,t,r){return t=br(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function R2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_u(0),this.expirationTimes=_u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_u(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bf(e,t,r,n,s,a,i,l,c){return e=new R2(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=br(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sf(a),e}function P2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Gv(e){if(!e)return es;e=e._reactInternals;e:{if(Fs(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(Xt(r))return G0(e,r,t)}return t}function Yv(e,t,r,n,s,a,i,l,c){return e=Bf(r,n,!0,e,s,a,i,l,c),e.context=Gv(null),r=e.current,n=zt(),s=Jn(r),a=wn(n,s),a.callback=t??null,Gn(r,a,s),e.current.lanes=s,vi(e,s,n),Qt(e,n),e}function Mc(e,t,r,n){var s=t.current,a=zt(),i=Jn(s);return r=Gv(r),t.context===null?t.context=r:t.pendingContext=r,t=wn(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gn(s,t,i),e!==null&&(zr(e,s,i,a),pl(e,s,i)),i}function Jl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Vf(e,t){cg(e,t),(e=e.alternate)&&cg(e,t)}function T2(){return null}var Jv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wf(e){this._internalRoot=e}Dc.prototype.render=Wf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));Mc(e,t,null,null)};Dc.prototype.unmount=Wf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Os(function(){Mc(null,e,null,null)}),t[jn]=null}};function Dc(e){this._internalRoot=e}Dc.prototype.unstable_scheduleHydration=function(e){if(e){var t=C0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Un.length&&t!==0&&t<Un[r].priority;r++);Un.splice(r,0,e),r===0&&R0(e)}};function qf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ug(){}function A2(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Jl(i);a.call(u)}}var i=Yv(t,n,e,0,null,!1,!1,"",ug);return e._reactRootContainer=i,e[jn]=i.current,Va(e.nodeType===8?e.parentNode:e),Os(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Jl(c);l.call(u)}}var c=Bf(e,0,!1,null,null,!1,!1,"",ug);return e._reactRootContainer=c,e[jn]=c.current,Va(e.nodeType===8?e.parentNode:e),Os(function(){Mc(t,c,r,n)}),c}function Lc(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=Jl(i);l.call(c)}}Mc(t,i,e,s)}else i=A2(r,t,e,s,n);return Jl(i)}S0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ma(t.pendingLanes);r!==0&&(uf(t,r|1),Qt(t,ct()),!(Le&6)&&(Do=ct()+500,ls()))}break;case 13:Os(function(){var n=Nn(e,1);if(n!==null){var s=zt();zr(n,e,1,s)}}),Vf(e,1)}};df=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var r=zt();zr(t,e,134217728,r)}Vf(e,134217728)}};k0=function(e){if(e.tag===13){var t=Jn(e),r=Nn(e,t);if(r!==null){var n=zt();zr(r,e,t,n)}Vf(e,t)}};C0=function(){return We};E0=function(e,t){var r=We;try{return We=e,t()}finally{We=r}};Rd=function(e,t,r){switch(t){case"input":if(jd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ec(n);if(!s)throw Error(ne(90));o0(n),jd(n,s)}}}break;case"textarea":i0(e,r);break;case"select":t=r.value,t!=null&&xo(e,!!r.multiple,t,!1)}};m0=Lf;p0=Os;var O2={usingClientEntryPoint:!1,Events:[wi,co,Ec,h0,f0,Lf]},ia={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I2={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=v0(e),e===null?null:e.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||T2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qi.isDisabled&&qi.supportsFiber)try{_c=qi.inject(I2),rn=qi}catch{}}hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O2;hr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qf(t))throw Error(ne(200));return P2(e,t,null,r)};hr.createRoot=function(e,t){if(!qf(e))throw Error(ne(299));var r=!1,n="",s=Jv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bf(e,1,!1,null,null,r,!1,n,s),e[jn]=t.current,Va(e.nodeType===8?e.parentNode:e),new Wf(t)};hr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=v0(t),e=e===null?null:e.stateNode,e};hr.flushSync=function(e){return Os(e)};hr.hydrate=function(e,t,r){if(!$c(t))throw Error(ne(200));return Lc(null,e,t,!0,r)};hr.hydrateRoot=function(e,t,r){if(!qf(e))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=Jv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Yv(t,null,e,1,r??null,s,!1,a,i),e[jn]=t.current,Va(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Dc(t)};hr.render=function(e,t,r){if(!$c(t))throw Error(ne(200));return Lc(null,e,t,!1,r)};hr.unmountComponentAtNode=function(e){if(!$c(e))throw Error(ne(40));return e._reactRootContainer?(Os(function(){Lc(null,null,e,!1,function(){e._reactRootContainer=null,e[jn]=null})}),!0):!1};hr.unstable_batchedUpdates=Lf;hr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$c(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return Lc(e,t,r,!1,n)};hr.version="18.3.1-next-f1338f8080-20240426";function Xv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xv)}catch(e){console.error(e)}}Xv(),Xx.exports=hr;var qo=Xx.exports;const Qv=Ux(qo);var Zv,dg=qo;Zv=dg.createRoot,dg.hydrateRoot;function Pa(e){if(e.length===0)return{cuisinePreferences:{},dietaryPreferences:[],difficultyPreferences:{},avgCookTime:0,totalRecipesSaved:0};const t={},r=new Set,n={};let s=0;return e.forEach(a=>{t[a.cuisineType]=(t[a.cuisineType]||0)+1,n[a.difficulty]=(n[a.difficulty]||0)+1,a.dietaryTags.forEach(i=>r.add(i)),s+=a.prepTime+a.cookTime}),{cuisinePreferences:t,dietaryPreferences:Array.from(r),difficultyPreferences:n,avgCookTime:s/e.length,totalRecipesSaved:e.length}}function M2(e,t,r,n){if(n.has(e.id))return-1e3;let s=0;const a=t.cuisinePreferences[e.cuisineType]||0;s+=a*10,r.favoriteCuisines.includes(e.cuisineType)&&(s+=15);let l=0;e.dietaryTags.forEach(m=>{t.dietaryPreferences.includes(m)&&l++,r.dietaryPreferences.includes(m)&&l++}),s+=l*8;const c=t.difficultyPreferences[e.difficulty]||0;s+=c*5;const h={Beginner:"Easy",Intermediate:"Medium",Advanced:"Hard"}[r.cookingSkillLevel];if(e.difficulty===h?s+=10:(r.cookingSkillLevel==="Intermediate"&&e.difficulty==="Easy"||r.cookingSkillLevel==="Advanced"&&e.difficulty==="Medium")&&(s+=5),t.avgCookTime>0){const m=e.prepTime+e.cookTime,w=Math.abs(m-t.avgCookTime),g=Math.max(0,10-w/10);s+=g}e.ingredients.some(m=>r.dislikedIngredients.some(w=>m.name.toLowerCase().includes(w.toLowerCase())))&&(s-=50),e.popularity&&(s+=e.popularity*.5);const p=Math.random()*5;return s+=p,s}function D2(e,t,r,n=6){const s=Pa(t),a=new Set(t.map(l=>l.id));return t.length===0?e.filter(l=>!a.has(l.id)).sort((l,c)=>(c.popularity||0)-(l.popularity||0)).slice(0,n):e.map(l=>({recipe:l,score:M2(l,s,r,a)})).filter(l=>l.score>=0).sort((l,c)=>c.score-l.score).slice(0,n).map(l=>l.recipe)}function $2(e){if(e.length===0)return"Popular recipes to get you started";const t=Pa(e),r=Object.entries(t.cuisinePreferences).sort((s,a)=>a[1]-s[1])[0],n=[];return r&&n.push(r[0]),t.dietaryPreferences.length>0&&n.push(t.dietaryPreferences[0]),n.length>0?`Based on your love for ${n.join(" and ")} recipes`:"Personalized recommendations based on your saved recipes"}async function hg(){}async function fg(){}const L2={savedRecipes:[],mealPlan:[],groceryList:[],userPreferences:{dietaryPreferences:[],favoriteCuisines:[],cookingSkillLevel:"Beginner",householdSize:2,dislikedIngredients:[],visualLearningStyle:"auto"},userProfile:{cuisinePreferences:{},dietaryPreferences:[],difficultyPreferences:{},avgCookTime:0,totalRecipesSaved:0},discoveryRecipes:[],hasSeenOnboarding:!0},ey=d.createContext(void 0);function U2(e,t){switch(t.type){case"SAVE_RECIPE":{const r=[...e.savedRecipes,{...t.payload,isSaved:!0}],n=Pa(r);return hg(),fg(),{...e,savedRecipes:r,userProfile:n}}case"REMOVE_RECIPE":{const r=e.savedRecipes.filter(s=>s.id!==t.payload),n=Pa(r);return hg(),fg(),{...e,savedRecipes:r,userProfile:n}}case"ADD_MEAL_PLAN":return{...e,mealPlan:[...e.mealPlan,t.payload]};case"REMOVE_MEAL_PLAN":return{...e,mealPlan:e.mealPlan.filter(r=>r.id!==t.payload)};case"CLEAR_MEAL_PLAN":return{...e,mealPlan:[],groceryList:[]};case"UPDATE_MEAL_PLAN":return{...e,mealPlan:e.mealPlan.map(r=>r.id===t.payload.id?t.payload:r)};case"ADD_GROCERY_ITEM":return{...e,groceryList:[...e.groceryList,t.payload]};case"REMOVE_GROCERY_ITEM":return{...e,groceryList:e.groceryList.filter(r=>r.id!==t.payload)};case"TOGGLE_GROCERY_ITEM":return{...e,groceryList:e.groceryList.map(r=>r.id===t.payload?{...r,checked:!r.checked}:r)};case"UPDATE_GROCERY_LIST":return{...e,groceryList:t.payload};case"UPDATE_PREFERENCES":{const r={...e.userPreferences,...t.payload};return{...e,userPreferences:r}}case"COMPLETE_ONBOARDING":return{...e,hasSeenOnboarding:!0};case"LOAD_STATE":{const r=t.payload,n=Pa(r.savedRecipes||[]);return{...r,userProfile:n}}default:return e}}function F2({children:e}){const[t,r]=d.useReducer(U2,L2);return d.useEffect(()=>{const n=localStorage.getItem("recipeAppState");if(n)try{const s=JSON.parse(n);r({type:"LOAD_STATE",payload:{...s,discoveryRecipes:[]}})}catch(s){console.error("Failed to load state from localStorage",s)}},[]),d.useEffect(()=>{const n={...t,discoveryRecipes:[]};localStorage.setItem("recipeAppState",JSON.stringify(n))},[t]),o.jsx(ey.Provider,{value:{state:t,dispatch:r},children:e})}function zs(){const e=d.useContext(ey);if(e===void 0)throw new Error("useRecipes must be used within a RecipeProvider");return e}var lh=function(e,t){return lh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},lh(e,t)};function ty(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");lh(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var wr=function(){return wr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},wr.apply(this,arguments)};function cs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function ry(e,t,r,n){var s=arguments.length,a=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}function ny(e,t){return function(r,n){t(r,n,e)}}function sy(e,t,r,n,s,a){function i(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,p=!1,m=r.length-1;m>=0;m--){var w={};for(var g in n)w[g]=g==="access"?{}:n[g];for(var g in n.access)w.access[g]=n.access[g];w.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(v||null))};var b=(0,r[m])(l==="accessor"?{get:h.get,set:h.set}:h[c],w);if(l==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=i(b.get))&&(h.get=f),(f=i(b.set))&&(h.set=f),(f=i(b.init))&&s.unshift(f)}else(f=i(b))&&(l==="field"?s.unshift(f):h[c]=f)}u&&Object.defineProperty(u,n.name,h),p=!0}function oy(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function ay(e){return typeof e=="symbol"?e:"".concat(e)}function iy(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function ly(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function xe(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(f){i(f)}}function c(h){try{u(n.throw(h))}catch(f){i(f)}}function u(h){h.done?a(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function cy(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Uc=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function uy(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Uc(t,e,r)}function Xl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hf(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,a=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return a}function dy(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Hf(arguments[t]));return e}function hy(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var a=arguments[t],i=0,l=a.length;i<l;i++,s++)n[s]=a[i];return n}function Kf(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function $o(e){return this instanceof $o?(this.v=e,this):new $o(e)}function fy(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(m){return function(w){return Promise.resolve(w).then(m,f)}}function l(m,w){n[m]&&(s[m]=function(g){return new Promise(function(b,v){a.push([m,g,b,v])>1||c(m,g)})},w&&(s[m]=w(s[m])))}function c(m,w){try{u(n[m](w))}catch(g){p(a[0][3],g)}}function u(m){m.value instanceof $o?Promise.resolve(m.value.v).then(h,f):p(a[0][2],m)}function h(m){c("next",m)}function f(m){c("throw",m)}function p(m,w){m(w),a.shift(),a.length&&c(a[0][0],a[0][1])}}function my(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,a){t[s]=e[s]?function(i){return(r=!r)?{value:$o(e[s](i)),done:!1}:a?a(i):i}:a}}function py(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Xl=="function"?Xl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(i){return new Promise(function(l,c){i=e[a](i),s(l,c,i.done,i.value)})}}function s(a,i,l,c){Promise.resolve(c).then(function(u){a({value:u,done:l})},i)}}function gy(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var z2=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},ch=function(e){return ch=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},ch(e)};function xy(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=ch(e),n=0;n<r.length;n++)r[n]!=="default"&&Uc(t,e,r[n]);return z2(t,e),t}function vy(e){return e&&e.__esModule?e:{default:e}}function yy(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function wy(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function by(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function jy(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var B2=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Ny(e){function t(a){e.error=e.hasError?new B2(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function _y(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,a,i){return n?t?".jsx":".js":s&&(!a||!i)?r:s+a+"."+i.toLowerCase()+"js"}):e}const V2={__extends:ty,__assign:wr,__rest:cs,__decorate:ry,__param:ny,__esDecorate:sy,__runInitializers:oy,__propKey:ay,__setFunctionName:iy,__metadata:ly,__awaiter:xe,__generator:cy,__createBinding:Uc,__exportStar:uy,__values:Xl,__read:Hf,__spread:dy,__spreadArrays:hy,__spreadArray:Kf,__await:$o,__asyncGenerator:fy,__asyncDelegator:my,__asyncValues:py,__makeTemplateObject:gy,__importStar:xy,__importDefault:vy,__classPrivateFieldGet:yy,__classPrivateFieldSet:wy,__classPrivateFieldIn:by,__addDisposableResource:jy,__disposeResources:Ny,__rewriteRelativeImportExtension:_y},W2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:jy,get __assign(){return wr},__asyncDelegator:my,__asyncGenerator:fy,__asyncValues:py,__await:$o,__awaiter:xe,__classPrivateFieldGet:yy,__classPrivateFieldIn:by,__classPrivateFieldSet:wy,__createBinding:Uc,__decorate:ry,__disposeResources:Ny,__esDecorate:sy,__exportStar:uy,__extends:ty,__generator:cy,__importDefault:vy,__importStar:xy,__makeTemplateObject:gy,__metadata:ly,__param:ny,__propKey:ay,__read:Hf,__rest:cs,__rewriteRelativeImportExtension:_y,__runInitializers:oy,__setFunctionName:iy,__spread:dy,__spreadArray:Kf,__spreadArrays:hy,__values:Xl,default:V2},Symbol.toStringTag,{value:"Module"})),q2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Gf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class mg extends Gf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class pg extends Gf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gg extends Gf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var uh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uh||(uh={}));class H2{constructor(t,{headers:r={},customFetch:n,region:s=uh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=q2(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return xe(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:a,method:i,body:l,signal:c}=n;let u={},{region:h}=n;h||(h=this.region);const f=new URL(`${this.url}/${r}`);h&&h!=="any"&&(u["x-region"]=h,f.searchParams.set("forceFunctionRegion",h));let p;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(u["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(u["Content-Type"]="application/json",p=JSON.stringify(l)):p=l;const m=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:p,signal:c}).catch(v=>{throw v.name==="AbortError"?v:new mg(v)}),w=m.headers.get("x-relay-error");if(w&&w==="true")throw new pg(m);if(!m.ok)throw new gg(m);let g=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return g==="application/json"?b=yield m.json():g==="application/octet-stream"||g==="application/pdf"?b=yield m.blob():g==="text/event-stream"?b=m:g==="multipart/form-data"?b=yield m.formData():b=yield m.text(),{data:b,error:null,response:m}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new mg(a)}:{data:null,error:a,response:a instanceof gg||a instanceof pg?a.context:void 0}}})}}var Ft={};const Ho=c_(W2);var Hi={},Ki={},Gi={},Yi={},Ji={},Xi={},xg;function Sy(){if(xg)return Xi;xg=1,Object.defineProperty(Xi,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Xi.default=e,Xi}var vg;function ky(){if(vg)return Ji;vg=1,Object.defineProperty(Ji,"__esModule",{value:!0});const t=Ho.__importDefault(Sy());class r{constructor(s){var a,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let l=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,f,p;let m=null,w=null,g=null,b=c.status,v=c.statusText;if(c.ok){if(this.method!=="HEAD"){const N=await c.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?w=N:w=JSON.parse(N))}const y=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),j=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&j&&j.length>1&&(g=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(m={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,g=null,b=406,v="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const y=await c.text();try{m=JSON.parse(y),Array.isArray(m)&&c.status===404&&(w=[],m=null,b=200,v="OK")}catch{c.status===404&&y===""?(b=204,v="No Content"):m={message:y}}if(m&&this.isMaybeSingle&&(!((p=m==null?void 0:m.details)===null||p===void 0)&&p.includes("0 rows"))&&(m=null,b=200,v="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:w,count:g,status:b,statusText:v}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,a)}returns(){return this}overrideTypes(){return this}}return Ji.default=r,Ji}var yg;function Cy(){if(yg)return Yi;yg=1,Object.defineProperty(Yi,"__esModule",{value:!0});const t=Ho.__importDefault(ky());class r extends t.default{select(s){let a=!1;const i=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${s}.${a?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:i=a}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var h;const f=[s?"analyze":null,a?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Yi.default=r,Yi}var wg;function Yf(){if(wg)return Gi;wg=1,Object.defineProperty(Gi,"__esModule",{value:!0});const t=Ho.__importDefault(Cy()),r=new RegExp("[,()]");class n extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const l=Array.from(new Set(i)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${u}fts${h}.${i}`),this}match(a){return Object.entries(a).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(a,i,l){return this.url.searchParams.append(a,`not.${i}.${l}`),this}or(a,{foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,i,l){return this.url.searchParams.append(a,`${i}.${l}`),this}}return Gi.default=n,Gi}var bg;function Ey(){if(bg)return Ki;bg=1,Object.defineProperty(Ki,"__esModule",{value:!0});const t=Ho.__importDefault(Yf());class r{constructor(s,{headers:a={},schema:i,fetch:l}){this.url=s,this.headers=new Headers(a),this.schema=i,this.fetch=l}select(s,a){const{head:i=!1,count:l}=a??{},c=i?"HEAD":"GET";let u=!1;const h=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:i=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:a}={}){var i;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var a;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Ki.default=r,Ki}var jg;function K2(){if(jg)return Hi;jg=1,Object.defineProperty(Hi,"__esModule",{value:!0});const e=Ho,t=e.__importDefault(Ey()),r=e.__importDefault(Yf());class n{constructor(a,{headers:i={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(a){const i=new URL(`${this.url}/${a}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,i={},{head:l=!1,get:c=!1,count:u}={}){var h;let f;const p=new URL(`${this.url}/rpc/${a}`);let m;l||c?(f=l?"HEAD":"GET",Object.entries(i).filter(([g,b])=>b!==void 0).map(([g,b])=>[g,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([g,b])=>{p.searchParams.append(g,b)})):(f="POST",m=i);const w=new Headers(this.headers);return u&&w.set("Prefer",`count=${u}`),new r.default({method:f,url:p,headers:w,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Hi.default=n,Hi}Object.defineProperty(Ft,"__esModule",{value:!0});var Ry=Ft.PostgrestError=Uy=Ft.PostgrestBuilder=$y=Ft.PostgrestTransformBuilder=My=Ft.PostgrestFilterBuilder=Oy=Ft.PostgrestQueryBuilder=Ty=Ft.PostgrestClient=void 0;const Ko=Ho,Py=Ko.__importDefault(K2());var Ty=Ft.PostgrestClient=Py.default;const Ay=Ko.__importDefault(Ey());var Oy=Ft.PostgrestQueryBuilder=Ay.default;const Iy=Ko.__importDefault(Yf());var My=Ft.PostgrestFilterBuilder=Iy.default;const Dy=Ko.__importDefault(Cy());var $y=Ft.PostgrestTransformBuilder=Dy.default;const Ly=Ko.__importDefault(ky());var Uy=Ft.PostgrestBuilder=Ly.default;const Fy=Ko.__importDefault(Sy());Ry=Ft.PostgrestError=Fy.default;var zy=Ft.default={PostgrestClient:Py.default,PostgrestQueryBuilder:Ay.default,PostgrestFilterBuilder:Iy.default,PostgrestTransformBuilder:Dy.default,PostgrestBuilder:Ly.default,PostgrestError:Fy.default};const G2=Lx({__proto__:null,get PostgrestBuilder(){return Uy},get PostgrestClient(){return Ty},get PostgrestError(){return Ry},get PostgrestFilterBuilder(){return My},get PostgrestQueryBuilder(){return Oy},get PostgrestTransformBuilder(){return $y},default:zy},[Ft]),{PostgrestClient:Y2,PostgrestQueryBuilder:C6,PostgrestFilterBuilder:E6,PostgrestTransformBuilder:R6,PostgrestBuilder:P6,PostgrestError:T6}=zy||G2;class J2{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const X2="2.80.0",Q2=`realtime-js/${X2}`,Z2="1.0.0",dh=1e4,ek=1e3,tk=100;var Ta;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ta||(Ta={}));var pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pt||(pt={}));var Lr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Lr||(Lr={}));var hh;(function(e){e.websocket="websocket"})(hh||(hh={}));var ys;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ys||(ys={}));class rk{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}let By=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var qe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qe||(qe={}));const Ng=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,i)=>(a[i]=nk(i,e,t,s),a),{}):{}},nk=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?Vy(a,i):fh(i)},Vy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ik(t,r)}switch(e){case qe.bool:return sk(t);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return ok(t);case qe.json:case qe.jsonb:return ak(t);case qe.timestamp:return lk(t);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return fh(t);default:return fh(t)}},fh=e=>e,sk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ok=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ak=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ik=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>Vy(t,l))}return e},lk=e=>typeof e=="string"?e.replace(" ","T"):e,Wy=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class qu{constructor(t,r,n={},s=dh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _g;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_g||(_g={}));class Aa{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Aa.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=Aa.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Aa.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,h)=>{i[u]||(c[u]=h)}),this.map(i,(u,h)=>{const f=a[u];if(f){const p=h.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),w=h.filter(b=>m.indexOf(b.presence_ref)<0),g=f.filter(b=>p.indexOf(b.presence_ref)<0);w.length>0&&(l[u]=w),g.length>0&&(c[u]=g)}else l[u]=h}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const f=t[l].map(m=>m.presence_ref),p=h.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...p)}n(l,h,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Sg||(Sg={}));var Oa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Oa||(Oa={}));var gn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gn||(gn={}));class Jf{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qu(this,Lr.join,this.params,this.timeout),this.rejoinTimer=new By(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lr.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Aa(this),this.broadcastEndpointURL=Wy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Oa.PRESENCE]&&this.bindings[Oa.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(gn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(gn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var w;if(this.socket.setAuth(),m===void 0){t==null||t(gn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(w=g==null?void 0:g.length)!==null&&w!==void 0?w:0,v=[];for(let x=0;x<b;x++){const y=g[x],{filter:{event:j,schema:N,table:_,filter:k}}=y,A=m&&m[x];if(A&&A.event===j&&A.schema===N&&A.table===_&&A.filter===k)v.push(Object.assign(Object.assign({},y),{id:A.id}));else{this.unsubscribe(),this.state=pt.errored,t==null||t(gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(gn.SUBSCRIBED);return}}).receive("error",m=>{this.state=pt.errored,t==null||t(gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===pt.joined&&t===Oa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new qu(this,Lr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new qu(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>tk){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=Lr;if(n&&[l,c,u,h].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,g,b;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(g=m.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(m=>m.callback(p,n)):(a=this.bindings[i])===null||a===void 0||a.filter(m=>{var w,g,b,v,x,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const j=m.id,N=(w=m.filter)===null||w===void 0?void 0:w.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(x=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:g,table:b,commit_timestamp:v,type:x,errors:y}=w;p=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:v,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(w))}m.callback(p,n)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Jf.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Lr.close,{},t)}_onError(t){this._on(Lr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ng(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ng(t.columns,t.old_record)),r}}const Hu=()=>{},Qi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ck=[1e3,2e3,5e3,1e4],uk=1e4,dk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hk{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dh,this.transport=null,this.heartbeatIntervalMs=Qi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hu,this.ref=0,this.reconnectTimer=null,this.logger=Hu,this.conn=null,this.sendBuffer=[],this.serializer=new rk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${hh.websocket}`,this.httpEndpoint=Wy(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=J2.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Z2}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ta.connecting:return ys.Connecting;case Ta.open:return ys.Open;case Ta.closing:return ys.Closing;default:return ys.Closed}}isConnected(){return this.connectionState()===ys.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Jf(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ek,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Qi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:i}=r,l=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Lr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([dk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Q2};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Lr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new By(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,i,l,c,u,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:dh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Qi.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Hu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>ck[f-1]||uk,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,p)=>p(JSON.stringify(f)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Xf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function tt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class fk extends Xf{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mh extends Xf{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Qf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),mk=()=>Response,ph=e=>{if(Array.isArray(e))return e.map(r=>ph(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=ph(n)}),t},pk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ku=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},gk=(e,t,r)=>xe(void 0,void 0,void 0,function*(){const n=yield mk();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,i=(s==null?void 0:s.statusCode)||a+"";t(new fk(Ku(s),a,i))}).catch(s=>{t(new mh(Ku(s),s))}):t(new mh(Ku(e),e))}),xk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(pk(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function ji(e,t,r,n,s,a){return xe(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,xk(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>gk(c,l,n))})})}function Qa(e,t,r,n){return xe(this,void 0,void 0,function*(){return ji(e,"GET",t,r,n)})}function Dr(e,t,r,n,s){return xe(this,void 0,void 0,function*(){return ji(e,"POST",t,n,s,r)})}function gh(e,t,r,n,s){return xe(this,void 0,void 0,function*(){return ji(e,"PUT",t,n,s,r)})}function vk(e,t,r,n){return xe(this,void 0,void 0,function*(){return ji(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Zf(e,t,r,n,s){return xe(this,void 0,void 0,function*(){return ji(e,"DELETE",t,n,s,r)})}class yk{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return xe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tt(t))return{data:null,error:t};throw t}})}}var qy;class wk{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[qy]="BlobDownloadBuilder",this.promise=null}asStream(){return new yk(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return xe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tt(t))return{data:null,error:t};throw t}})}}qy=Symbol.toStringTag;const bk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jk{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Qf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return xe(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},kg),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",i.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!i.duplex&&(i.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),f=yield(t=="PUT"?gh:Dr)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return xe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:kg.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const f=yield gh(this.fetch,l.toString(),c,{headers:h});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(tt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Dr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new Xf("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}update(t,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return xe(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield Dr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Dr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return xe(this,void 0,void 0,function*(){try{const s=yield Dr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>Qa(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new wk(c,this.shouldThrowOnError)}info(t){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Qa(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ph(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}exists(t){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield vk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n)&&n instanceof mh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}list(t,r,n){return xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},bk),r),{prefix:t||""});return{data:yield Dr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}listV2(t,r){return xe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Dr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Hy="2.80.0",Ky={"X-Client-Info":`storage-js/${Hy}`};class Nk{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ky),r),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return xe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Qa(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}getBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}createBucket(t){return xe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Dr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return xe(this,void 0,void 0,function*(){try{return{data:yield gh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class _k{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ky),r),this.fetch=Qf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}listBuckets(t){return xe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Qa(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}}const em={"X-Client-Info":`storage-js/${Hy}`,"Content-Type":"application/json"};class Gy extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function or(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Gu extends Gy{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sk extends Gy{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Cg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Cg||(Cg={}));const tm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Eg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ck=(e,t,r)=>xe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new Gu(Eg(i),s,l))}).catch(()=>{const i=s+"",l=a.statusText||`HTTP ${s} error`;t(new Gu(l,s,i))});else{const i=s+"",l=a.statusText||`HTTP ${s} error`;t(new Gu(l,s,i))}}else t(new Sk(Eg(e),e))}),Ek=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(kk(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Rk(e,t,r,n,s,a){return xe(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,Ek(t,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>Ck(c,l,n))})})}function ar(e,t,r,n,s){return xe(this,void 0,void 0,function*(){return Rk(e,"POST",t,n,s,r)})}class Pk{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},em),r),this.fetch=tm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield ar(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}getIndex(t,r){return xe(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}listIndexes(t){return xe(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return xe(this,void 0,void 0,function*(){try{return{data:(yield ar(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}}class Tk{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},em),r),this.fetch=tm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ar(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}getVectors(t){return xe(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}listVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ar(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}queryVectors(t){return xe(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}deleteVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ar(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}}class Ak{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},em),r),this.fetch=tm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield ar(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}getBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}listBuckets(){return xe(this,arguments,void 0,function*(t={}){try{return{data:yield ar(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield ar(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}}class Ok extends Ak{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Ik(this.url,this.headers,t,this.fetch)}}class Ik extends Pk{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return xe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return xe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return xe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return xe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Mk(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Mk extends Tk{constructor(t,r,n,s,a){super(t,r,a),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return xe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return xe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return xe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return xe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return xe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Dk extends Nk{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new jk(this.url,this.headers,t,this.fetch)}get vectors(){return new Ok(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _k(this.url+"/iceberg",this.headers,this.fetch)}}const $k="2.80.0";let ga="";typeof Deno<"u"?ga="deno":typeof document<"u"?ga="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ga="react-native":ga="node";const Lk={"X-Client-Info":`supabase-js-${ga}/${$k}`},Uk={headers:Lk},Fk={schema:"public"},zk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bk={},Vk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Wk=()=>Headers,qk=(e,t,r)=>{const n=Vk(r),s=Wk();return async(a,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))}};function Hk(e){return e.endsWith("/")?e:e+"/"}function Kk(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:h,global:f}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},h),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function Gk(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Hk(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Yy="2.80.0",ro=30*1e3,xh=3,Yu=xh*ro,Yk="http://localhost:9999",Jk="supabase.auth.token",Xk={"X-Client-Info":`gotrue-js/${Yy}`},vh="X-Supabase-Api-Version",Jy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zk=10*60*1e3;class Za extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class eC extends Za{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function tC(e){return be(e)&&e.name==="AuthApiError"}class ws extends Za{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class us extends Za{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Tr extends us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rC(e){return be(e)&&e.name==="AuthSessionMissingError"}class Ks extends us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zi extends us{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class el extends us{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nC(e){return be(e)&&e.name==="AuthImplicitGrantRedirectError"}class Rg extends us{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yh extends us{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ju(e){return be(e)&&e.name==="AuthRetryableFetchError"}class Pg extends us{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class wh extends us{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tg=` 	
\r=`.split(""),sC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Tg.length;t+=1)e[Tg[t].charCodeAt(0)]=-2;for(let t=0;t<Ql.length;t+=1)e[Ql[t].charCodeAt(0)]=t;return e})();function Ag(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ql[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ql[n]),t.queuedBits-=6}}function Xy(e,t,r){const n=sC[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Og(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{iC(i,n,r)};for(let i=0;i<e.length;i+=1)Xy(e.charCodeAt(i),s,a);return t.join("")}function oC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function aC(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}oC(n,t)}}function iC(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function No(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Xy(e.charCodeAt(s),r,n);return new Uint8Array(t)}function lC(e){const t=[];return aC(e,r=>t.push(r)),new Uint8Array(t)}function _s(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Ag(s,r,n)),Ag(null,r,n),t.join("")}function cC(e){return Math.round(Date.now()/1e3)+e}function uC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",fs={tested:!1,writable:!1},Qy=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fs.tested)return fs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fs.tested=!0,fs.writable=!0}catch{fs.tested=!0,fs.writable=!1}return fs.writable};function dC(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Zy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",no=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ms=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},An=async(e,t)=>{await e.removeItem(t)};class Fc{constructor(){this.promise=new Fc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Fc.promiseConstructor=Promise;function Xu(e){const t=e.split(".");if(t.length!==3)throw new wh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Qk.test(t[n]))throw new wh("JWT not in base64url format");return{header:JSON.parse(Og(t[0])),payload:JSON.parse(Og(t[1])),signature:No(t[2]),raw:{header:t[0],payload:t[1]}}}async function fC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mC(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function pC(e){return("0"+e.toString(16)).substr(-2)}function gC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,pC).join("")}async function xC(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function vC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await xC(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gs(e,t,r=!1){const n=gC();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await no(e,`${t}-code-verifier`,s);const a=await vC(n);return[a,n===a?"plain":"s256"]}const yC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wC(e){const t=e.headers.get(vh);if(!t||!t.match(yC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const NC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ys(e){if(!NC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _C(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Ig(e){return JSON.parse(JSON.stringify(e))}const xs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SC=[502,503,504];async function Mg(e){var t;if(!hC(e))throw new yh(xs(e),0);if(SC.includes(e.status))throw new yh(xs(e),e.status);let r;try{r=await e.json()}catch(a){throw new ws(xs(a),a)}let n;const s=wC(e);if(s&&s.getTime()>=Jy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Pg(xs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Tr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new Pg(xs(r),e.status,r.weak_password.reasons);throw new eC(xs(r),e.status||500,n)}const kC=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ee(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[vh]||(a[vh]=Jy["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await CC(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function CC(e,t,r,n,s,a){const i=kC(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new yh(xs(c),0)}if(l.ok||await Mg(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Mg(c)}}function Ar(e){var t;let r=null;PC(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=cC(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Dg(e){const t=Ar(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function EC(e){return{data:e,error:null}}function RC(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=cs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function $g(e){return e}function PC(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zu=["global","local","others"];class TC{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Zy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Zu[0]){if(Zu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zu.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zn})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=cs(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:RC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zn})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:$g});if(h.error)throw h.error;const f=await h.json(),p=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ys(t);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zn})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ys(t);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zn})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ys(t);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zn})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ys(t.userId);try{const{data:r,error:n}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ys(t.userId),Ys(t.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:$g});if(h.error)throw h.error;const f=await h.json(),p=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(be(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}}function Lg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Js={debug:!!(globalThis&&Qy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ew extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class AC extends ew{}async function OC(e,t,r){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new AC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Js.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function IC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function MC(e){return parseInt(e,16)}function DC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function $C(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:h,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=tw(e.address),w=h?`${h}://${n}`:n,g=e.statement?`${e.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${m}

${g}`;let v=`URI: ${f}
Version: ${p}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);x+=`
- ${y}`}v+=x}return`${b}
${v}`}class dt extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Zl extends dt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function LC({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(rw(i)){if(a.rp.id!==i)return new dt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function UC({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new dt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(rw(n)){if(r.rpId!==n)return new dt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class FC{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const zC=new FC;function BC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=cs(e,["challenge","user","excludeCredentials"]),a=No(t).buffer,i=Object.assign(Object.assign({},r),{id:No(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:No(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function VC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=cs(e,["challenge","allowCredentials"]),s=No(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];a.allowCredentials[i]=Object.assign(Object.assign({},l),{id:No(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function WC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:_s(new Uint8Array(e.response.attestationObject)),clientDataJSON:_s(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function qC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:_s(new Uint8Array(s.authenticatorData)),clientDataJSON:_s(new Uint8Array(s.clientDataJSON)),signature:_s(new Uint8Array(s.signature)),userHandle:s.userHandle?_s(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rw(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ug(){var e,t;return!!(It()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zl("Browser returned unexpected credential type",t)}:{data:null,error:new Zl("Empty credential response",t)}}catch(t){return{data:null,error:LC({error:t,options:e})}}}async function KC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zl("Browser returned unexpected credential type",t)}:{data:null,error:new Zl("Empty credential response",t)}}catch(t){return{data:null,error:UC({error:t,options:e})}}}const GC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},YC={userVerification:"preferred",hints:["security-key"]};function ec(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const i=s[a];if(i!==void 0)if(Array.isArray(i))n[a]=i;else if(r(i))n[a]=i;else if(t(i)){const l=n[a];t(l)?n[a]=ec(l,i):n[a]=ec(i)}else n[a]=i}return n}function JC(e,t){return ec(GC,e,t||{})}function XC(e,t){return ec(YC,e,t||{})}class QC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=s??zC.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=JC(i.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:f}=await HC({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const u=XC(i.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:f}=await KC(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(i){return be(i)?{data:null,error:i}:{data:null,error:new ws("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},a){if(!r)return{data:null,error:new Za("rpId is required for WebAuthn authentication")};try{if(!Ug())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return be(i)?{data:null,error:i}:{data:null,error:new ws("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},a){if(!r)return{data:null,error:new Za("rpId is required for WebAuthn registration")};try{if(!Ug())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return be(i)?{data:null,error:i}:{data:null,error:new ws("Unexpected error in register",i)}}}}IC();const ZC={url:Yk,storageKey:Jk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Fg(e,t,r){return await r()}const Xs={};class ei{get jwks(){var t,r;return(r=(t=Xs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Xs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},ZC),t);if(this.storageKey=a.storageKey,this.instanceID=(r=ei.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ei.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&It()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new TC({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Zy(a.fetch),this.lock=a.lock||Fg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:It()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=OC:this.lock=Fg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new QC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Qy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Lg(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Yy}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(It()&&(r=dC(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),It()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),nC(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return be(r)?this._returnResult({error:r}):this._returnResult({error:new ws("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ar}),{data:i,error:l}=a;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:h,password:f,options:p}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await Gs(this.storage,this.storageKey)),a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:h,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:w},xform:Ar})}else if("phone"in t){const{phone:h,password:f,options:p}=t;a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ar})}else throw new Zi("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dg})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dg})}else throw new Zi("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new Ks;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,i,l,c,u,h,f,p;let m,w;if("message"in t)m=t.message,w=t.signature;else{const{chain:g,wallet:b,statement:v,options:x}=t;let y;if(It())if(typeof b=="object")y=b;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")y=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=b}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),N=await y.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=tw(N[0]);let k=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const C=await y.request({method:"eth_chainId"});k=MC(C)}const A={domain:j.host,address:_,statement:v,uri:j.href,version:"1",chainId:k,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=x==null?void 0:x.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=$C(A),w=await y.request({method:"personal_sign",params:[DC(m),_]})}try{const{data:g,error:b}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:w},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ar});if(b)throw b;if(!g||!g.session||!g.user){const v=new Ks;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(be(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,a,i,l,c,u,h,f,p,m;let w,g;if("message"in t)w=t.message,g=t.signature;else{const{chain:b,wallet:v,statement:x,options:y}=t;let j;if(It())if(typeof v=="object")j=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const N=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let k;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")k=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)k=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)w=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(h=y==null?void 0:y.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=_}}try{const{data:b,error:v}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:_s(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ar});if(v)throw v;if(!b||!b.session||!b.user){const x=new Ks;return this._returnResult({data:{user:null,session:null},error:x})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(be(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await ms(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ar});if(await An(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!a||!a.session||!a.user){const l=new Ks;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ar}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const h=new Ks;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Gs(this.storage,this.storageKey));const{error:f}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new Zi("You must provide either an email or phone number.")}catch(l){if(be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Ar});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;this.flowType==="pkce"&&([a,i]=await Gs(this.storage,this.storageKey));const l=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:EC});return this._returnResult(l)}catch(a){if(be(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Tr;const{error:s}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new Zi("You must provide either an email or phone number and a type")}catch(r){if(be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Yu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ms(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Qu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=_C(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zn}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tr}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:zn})})}catch(r){if(be(r))return rC(r)&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Tr;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Gs(this.storage,this.storageKey));const{data:u,error:h}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:zn});if(h)throw h;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(be(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tr;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=Xu(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Tr;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!It())throw new el("No browser detected.");if(t.error||t.error_description||t.error_code)throw new el(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new el("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Rg("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new el("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let p=h+f;c&&(p=parseInt(c));const m=p-h;m*1e3<=ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const w=p-f;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,h);const{data:g,error:b}=await this._getUser(a);if(b)throw b;const v={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:p,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(be(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ms(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({error:a});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(tC(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=uC(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Gs(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(be(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,h;const{data:f,error:p}=a;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return It()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(be(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:i,provider:l,token:c,access_token:u,nonce:h}=t,f=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Ar}),{data:p,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Ks}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:m}))}catch(s){if(be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await mC(async s=>(s>0&&await fC(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ar})),(s,a)=>{const i=200*Math.pow(2,s);return a&&Ju(a)&&Date.now()+i-n<ro})}catch(n){if(this._debug(r,"error",n),be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),It()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ms(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ms(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await no(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Qu()}else if(s&&!s.user&&!s.user){const i=await ms(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await An(this.storage,this.storageKey+"-user"),await no(this.storage,this.storageKey,s)):s.user=Qu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yu;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Yu}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Ju(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Tr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Fc;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new Tr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),be(a)){const i={data:null,error:a};return Ju(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await no(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Ig(s);await no(this.storage,this.storageKey,a)}else{const s=Ig(r);await no(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await An(this.storage,this.storageKey),await An(this.storage,this.storageKey+"-code-verifier"),await An(this.storage,this.storageKey+"-user"),this.userStorage&&await An(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ro);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ro);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ro}ms, refresh threshold is ${xh} ticks`),s<=xh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ew)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await Gs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?WC(t.webauthn.credential_response):qC(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const i=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:BC(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:VC(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Xu(n.access_token);let i=null;a.aal&&(i=a.aal);let l=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Tr})})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Tr});const i=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&It()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Tr});const i=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&It()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Zk>s)return n;const{data:a,error:i}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:w}=await this.getSession();if(w||!m.session)return this._returnResult({data:null,error:w});n=m.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=Xu(n);r!=null&&r.allowExpired||bC(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:s,signature:i},error:null}}const h=jC(s.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,i,lC(`${l}.${c}`)))throw new wh("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}}ei.nextInstanceID={};const eE=ei;class tE extends eE{constructor(t){super(t)}}class rE{constructor(t,r,n){var s,a,i;this.supabaseUrl=t,this.supabaseKey=r;const l=Gk(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Fk,realtime:Bk,auth:Object.assign(Object.assign({},zk),{storageKey:c}),global:Uk},h=Kk(n??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=qk(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Y2(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Dk(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new H2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:i,flowType:l,lock:c,debug:u,throwOnError:h},f,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tE({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:l,lock:c,debug:u,throwOnError:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new hk(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rm=(e,t,r)=>new rE(e,t,r);function nE(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}nE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sE="https://vohvdarghgqskzqjclux.supabase.co",oE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvaHZkYXJnaGdxc2t6cWpjbHV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4ODgwMDcsImV4cCI6MjA3ODQ2NDAwN30.6povbtgWFLTvq6lxVrqii_-PrOiLZrUo1n-BMlpK4gc",L=rm(sE,oE),tc=async()=>{const{data:{user:e}}=await L.auth.getUser();if(!e)return!1;const{data:t}=await L.from("admin_users").select("user_id").eq("user_id",e.id).single();return!!t},ed=Object.freeze(Object.defineProperty({__proto__:null,isAdmin:tc,supabase:L},Symbol.toStringTag,{value:"Module"})),nw=d.createContext(void 0);function aE({children:e}){const[t,r]=d.useState(null),[n,s]=d.useState(null),[a,i]=d.useState(!0),[l,c]=d.useState(!1),[u,h]=d.useState(!1),f=t?!!t.email_confirmed_at:!1;d.useEffect(()=>{(async()=>{const g=window.location.hash;if(g&&g.includes("access_token")){const v=new URLSearchParams(g.substring(1)),x=v.get("access_token"),y=v.get("type");if(x&&y==="signup")try{const{data:j,error:N}=await L.auth.getUser(x);!N&&j.user&&(c(!0),r(j.user),window.history.replaceState({},document.title,window.location.pathname))}catch(j){console.error("Token verification error:",j)}}const{data:{session:b}}=await L.auth.getSession();if(s(b),r((b==null?void 0:b.user)??null),b!=null&&b.user){const v=await tc();h(v)}i(!1)})();const{data:{subscription:w}}=L.auth.onAuthStateChange((g,b)=>{(async()=>{var x;(g==="SIGNED_IN"||g==="USER_UPDATED"||g==="TOKEN_REFRESHED")&&((x=b==null?void 0:b.user)!=null&&x.email_confirmed_at)&&(!(t!=null&&t.email_confirmed_at)||g==="SIGNED_IN")&&c(!0),s(b),r((b==null?void 0:b.user)??null),b!=null&&b.user?tc().then(h):h(!1)})()});return()=>w.unsubscribe()},[t==null?void 0:t.email_confirmed_at]);const p=async()=>{await L.auth.signOut(),r(null),s(null)};return o.jsx(nw.Provider,{value:{user:t,session:n,loading:a,isEmailVerified:f,showVerifying:l,isAdmin:u,signOut:p},children:e})}function zc(){const e=d.useContext(nw);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sw=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>d.createElement("svg",{ref:c,...lE,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:sw("lucide",s),...l},[...i.map(([u,h])=>d.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const r=d.forwardRef(({className:n,...s},a)=>d.createElement(cE,{ref:a,iconNode:t,className:sw(`lucide-${iE(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=le("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=le("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=le("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=le("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=le("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=le("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=le("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=le("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=le("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=le("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=le("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=le("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=le("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=le("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=le("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=le("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=le("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=le("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=le("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=le("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=le("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=le("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=le("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=le("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=le("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=le("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=le("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=le("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=le("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=le("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=le("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=le("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=le("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=le("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=le("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=le("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Vg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rn(...e){return t=>{let r=!1;const n=e.map(s=>{const a=Vg(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Vg(e[s],null)}}}}function Re(...e){return d.useCallback(Rn(...e),e)}var zE=Symbol.for("react.lazy"),ic=ef[" use ".trim().toString()];function BE(e){return typeof e=="object"&&e!==null&&"then"in e}function pw(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===zE&&"_payload"in e&&BE(e._payload)}function um(e){const t=WE(e),r=d.forwardRef((n,s)=>{let{children:a,...i}=n;pw(a)&&typeof ic=="function"&&(a=ic(a._payload));const l=d.Children.toArray(a),c=l.find(HE);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var VE=um("Slot");function WE(e){const t=d.forwardRef((r,n)=>{let{children:s,...a}=r;if(pw(s)&&typeof ic=="function"&&(s=ic(s._payload)),d.isValidElement(s)){const i=GE(s),l=KE(a,s.props);return s.type!==d.Fragment&&(l.ref=n?Rn(n,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qE=Symbol("radix.slottable");function HE(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qE}function KE(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function GE(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function gw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=gw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function xw(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=gw(e))&&(n&&(n+=" "),n+=t);return n}const Wg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qg=xw,Bc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return qg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const h=r==null?void 0:r[u],f=a==null?void 0:a[u];if(h===null)return null;const p=Wg(h)||Wg(f);return s[u][p]}),l=r&&Object.entries(r).reduce((u,h)=>{let[f,p]=h;return p===void 0||(u[f]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:f,className:p,...m}=h;return Object.entries(m).every(w=>{let[g,b]=w;return Array.isArray(b)?b.includes({...a,...l}[g]):{...a,...l}[g]===b})?[...u,f,p]:u},[]);return qg(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},dm="-",YE=e=>{const t=XE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(dm);return l[0]===""&&l.length!==1&&l.shift(),vw(l,t)||JE(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},vw=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?vw(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(dm);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},Hg=/^\[(.+)\]$/,JE=e=>{if(Hg.test(e)){const t=Hg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},XE=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return ZE(Object.entries(e.classGroups),r).forEach(([a,i])=>{Eh(i,n,a,t)}),n},Eh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Kg(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(QE(s)){Eh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{Eh(i,Kg(t,a),r,n)})})},Kg=(e,t)=>{let r=e;return t.split(dm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},QE=e=>e.isThemeGetter,ZE=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,s]}):e,eR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},yw="!",tR=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,h=0,f;for(let b=0;b<l.length;b++){let v=l[b];if(u===0){if(v===s&&(n||l.slice(b,b+a)===t)){c.push(l.slice(h,b)),h=b+a;continue}if(v==="/"){f=b;continue}}v==="["?u++:v==="]"&&u--}const p=c.length===0?l:l.substring(h),m=p.startsWith(yw),w=m?p.substring(1):p,g=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},rR=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},nR=e=>({cache:eR(e.cacheSize),parseClassName:tR(e),...YE(e)}),sR=/\s+/,oR=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(sR);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=r(u);let w=!!m,g=n(w?p.substring(0,m):p);if(!g){if(!w){l=u+(l.length>0?" "+l:l);continue}if(g=n(p),!g){l=u+(l.length>0?" "+l:l);continue}w=!1}const b=rR(h).join(":"),v=f?b+yw:b,x=v+g;if(a.includes(x))continue;a.push(x);const y=s(g,w);for(let j=0;j<y.length;++j){const N=y[j];a.push(v+N)}l=u+(l.length>0?" "+l:l)}return l};function aR(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=ww(t))&&(n&&(n+=" "),n+=r);return n}const ww=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=ww(e[n]))&&(r&&(r+=" "),r+=t);return r};function iR(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((h,f)=>f(h),e());return r=nR(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const h=oR(c,r);return s(c,h),h}return function(){return a(aR.apply(null,arguments))}}const Ge=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},bw=/^\[(?:([a-z-]+):)?(.+)\]$/i,lR=/^\d+\/\d+$/,cR=new Set(["px","full","screen"]),uR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mn=e=>ko(e)||cR.has(e)||lR.test(e),On=e=>Go(e,"length",jR),ko=e=>!!e&&!Number.isNaN(Number(e)),nd=e=>Go(e,"number",ko),la=e=>!!e&&Number.isInteger(Number(e)),pR=e=>e.endsWith("%")&&ko(e.slice(0,-1)),Oe=e=>bw.test(e),In=e=>uR.test(e),gR=new Set(["length","size","percentage"]),xR=e=>Go(e,gR,jw),vR=e=>Go(e,"position",jw),yR=new Set(["image","url"]),wR=e=>Go(e,yR,_R),bR=e=>Go(e,"",NR),ca=()=>!0,Go=(e,t,r)=>{const n=bw.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},jR=e=>dR.test(e)&&!hR.test(e),jw=()=>!1,NR=e=>fR.test(e),_R=e=>mR.test(e),SR=()=>{const e=Ge("colors"),t=Ge("spacing"),r=Ge("blur"),n=Ge("brightness"),s=Ge("borderColor"),a=Ge("borderRadius"),i=Ge("borderSpacing"),l=Ge("borderWidth"),c=Ge("contrast"),u=Ge("grayscale"),h=Ge("hueRotate"),f=Ge("invert"),p=Ge("gap"),m=Ge("gradientColorStops"),w=Ge("gradientColorStopPositions"),g=Ge("inset"),b=Ge("margin"),v=Ge("opacity"),x=Ge("padding"),y=Ge("saturate"),j=Ge("scale"),N=Ge("sepia"),_=Ge("skew"),k=Ge("space"),A=Ge("translate"),C=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Oe,t],D=()=>[Oe,t],W=()=>["",mn,On],J=()=>["auto",ko,Oe],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],S=()=>["","0",Oe],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[ko,Oe];return{cacheSize:500,separator:":",theme:{colors:[ca],spacing:[mn,On],blur:["none","",In,Oe],brightness:q(),borderColor:[e],borderRadius:["none","","full",In,Oe],borderSpacing:D(),borderWidth:W(),contrast:q(),grayscale:S(),hueRotate:q(),invert:S(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[pR,On],inset:M(),margin:M(),opacity:q(),padding:D(),saturate:q(),scale:q(),sepia:S(),skew:q(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[In]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Oe]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",la,Oe]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:S()}],shrink:[{shrink:S()}],order:[{order:["first","last","none",la,Oe]}],"grid-cols":[{"grid-cols":[ca]}],"col-start-end":[{col:["auto",{span:["full",la,Oe]},Oe]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[ca]}],"row-start-end":[{row:["auto",{span:[la,Oe]},Oe]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Oe,t]}],"min-w":[{"min-w":[Oe,t,"min","max","fit"]}],"max-w":[{"max-w":[Oe,t,"none","full","min","max","fit","prose",{screen:[In]},In]}],h:[{h:[Oe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Oe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",In,On]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nd]}],"font-family":[{font:[ca]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",ko,nd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mn,Oe]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mn,On]}],"underline-offset":[{"underline-offset":["auto",mn,Oe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),vR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[mn,Oe]}],"outline-w":[{outline:[mn,On]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[mn,On]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",In,bR]}],"shadow-color":[{shadow:[ca]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",In,Oe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[la,Oe]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mn,On,nd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kR=iR(SR);function je(...e){return kR(xw(e))}function Or(e){if(!e)return e;const t=document.createElement("textarea");return t.innerHTML=e,t.value}function CR(e){const t=typeof e=="string"?parseFloat(e):e;if(isNaN(t)||t===0)return"0";if(Number.isInteger(t))return t.toString();const r={"0.125":"1/8","0.25":"1/4","0.333":"1/3","0.3333":"1/3","0.375":"3/8","0.5":"1/2","0.625":"5/8","0.666":"2/3","0.6666":"2/3","0.75":"3/4","0.875":"7/8"},n=Math.abs(t),s=Math.floor(n),a=n-s;if(a===0)return t.toString();const i=a.toFixed(4),l=r[i];if(l)return s===0?t<0?`-${l}`:l:t<0?`-${s} ${l}`:`${s} ${l}`;let c=1,u=a;const h=1e-4;for(;Math.abs(u-Math.round(u))>h&&c<100;)c++,u=a*c;u=Math.round(u);const f=(m,w)=>w===0?m:f(w,m%w),p=f(u,c);return u/=p,c/=p,s===0?t<0?`-${u}/${c}`:`${u}/${c}`:t<0?`-${s} ${u}/${c}`:`${s} ${u}/${c}`}function Gg(e){if(!e)return e;const t=e.match(/(\d+\.?\d*)/);if(t){const r=t[1];if(r.includes(".")){const n=CR(r);return e.replace(r,n)}}return e}const hm=Bc("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Y=d.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?VE:"button";return o.jsx(i,{className:je(hm({variant:t,size:r,className:e})),ref:a,...s})});Y.displayName="Button";function ER({currentPage:e,onNavigate:t,children:r}){var y;const[n,s]=d.useState(e),[a,i]=d.useState(!1),[l,c]=d.useState(null),[u,h]=d.useState(3),[f,p]=d.useState(null),m=[{id:"discover-recipes",label:"Discover Recipes",icon:ts},{id:"discover",label:"Social Feed",icon:ac},{id:"my-recipes",label:"My Recipes",icon:dE},{id:"add-recipe",label:"Add Recipe",icon:sn},{id:"meal-planner",label:"Meal Planner",icon:ti},{id:"grocery-list",label:"Grocery List",icon:Uo},{id:"cart",label:"Cart",icon:oc},{id:"settings",label:"Settings",icon:AE}],w=["discover","upload","profile","messages","add-recipe"],g=j=>{s(j),t(j),i(!1),j==="messages"&&h(0)};d.useEffect(()=>{v(),b()},[]),d.useEffect(()=>{if(!f)return;const j=L.channel("direct-message-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages"},async N=>{const _=N.new;if(_.sender_id!==f&&!_.read){const{data:k}=await L.from("conversations").select("id").eq("id",_.conversation_id).or(`user1_id.eq.${f},user2_id.eq.${f}`).maybeSingle();k&&h(A=>A+1)}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"direct_messages"},N=>{const _=N.new,k=N.old;_.read&&!k.read&&_.sender_id!==f&&h(A=>Math.max(0,A-1))}).subscribe();return()=>{L.removeChannel(j)}},[f]);const b=async()=>{try{const{data:{user:j}}=await L.auth.getUser();if(!j)return;p(j.id),await x(j.id)}catch(j){console.error("Error initializing messaging:",j)}},v=async()=>{try{const{data:j}=await L.auth.getUser();if(!j.user)return;const{data:N}=await L.from("profiles").select("avatar_url").eq("id",j.user.id).maybeSingle();N!=null&&N.avatar_url&&c(N.avatar_url)}catch(j){console.error("Error loading avatar:",j)}},x=async j=>{try{const{data:N}=await L.from("conversations").select("id, user1_id, user2_id, last_message_at").or(`user1_id.eq.${j},user2_id.eq.${j}`).order("last_message_at",{ascending:!1});if(!N||N.length===0){h(0);return}let _=0;for(const k of N){const{count:A}=await L.from("direct_messages").select("*",{count:"exact",head:!0}).eq("conversation_id",k.id).eq("read",!1).neq("sender_id",j);_+=A||0}h(_)}catch(N){console.error("Error loading unread count:",N)}};return o.jsxs("div",{className:"min-h-screen bg-white",children:[a&&o.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>i(!1)}),o.jsxs("aside",{className:`fixed inset-0 z-50 lg:inset-auto lg:left-0 lg:top-0 lg:bottom-0 lg:w-64 lg:sm:w-72 transform bg-white shadow-2xl transition-transform duration-300 ease-in-out lg:translate-x-0 ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 lg:hidden",onClick:()=>i(!1)}),o.jsx("div",{className:"relative z-10 h-full w-64 sm:w-72 bg-white flex flex-col overflow-hidden",children:o.jsx("div",{className:"flex h-full flex-col",children:o.jsxs("div",{className:"flex h-full flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3 border-b border-gray-200 p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx("div",{className:"absolute inset-0 rounded-xl ring-4 ring-orange-500 shadow-xl -z-10"}),o.jsx("div",{className:"relative flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-lg bg-white overflow-hidden shadow-lg",children:o.jsx("img",{src:"/Woodenspoon.png",alt:"Meal Scrape",className:"w-full h-full object-cover scale-110"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:"Meal Scrape"}),o.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 truncate",children:"E-Recipe Book & Social Media"})]})]}),o.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>i(!1),className:"lg:hidden h-8 w-8 flex-shrink-0",children:o.jsx(Zt,{className:"h-5 h-5"})})]}),o.jsx("nav",{className:"flex-1 space-y-1 p-3 sm:p-4 overflow-y-auto",children:m.map(j=>{const N=j.icon,_=n===j.id;return o.jsxs("button",{onClick:()=>g(j.id),className:`flex w-full items-center gap-3 rounded-lg px-3 py-2.5 sm:px-4 sm:py-3 text-left transition-all touch-manipulation ${_?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-lg scale-[1.02]":"text-gray-700 hover:bg-gray-100 active:bg-gray-200"}`,children:[o.jsx(N,{className:`h-5 w-5 flex-shrink-0 ${_?"opacity-100":"opacity-70"}`}),o.jsx("span",{className:"font-medium text-sm sm:text-base",children:j.label}),j.id==="messages"&&u>0&&o.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:u>9?"9+":u})]},j.id)})}),o.jsx("div",{className:"border-t border-gray-200 p-3 sm:p-4 flex-shrink-0",children:o.jsxs("div",{className:"rounded-lg bg-gradient-to-br from-amber-50 to-orange-50 p-3 sm:p-4 border border-orange-200",children:[o.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:"Discover, Save, Plan, Shop"}),o.jsx("p",{className:"mt-1 text-[10px] sm:text-xs text-gray-600",children:"All in One Place"})]})})]})})})]}),o.jsxs("div",{className:"lg:ml-64",children:[o.jsx("header",{className:"sticky top-0 z-30 border-b border-gray-200 bg-white/95 backdrop-blur-sm shadow-sm",children:o.jsxs("div",{className:"flex h-14 sm:h-16 items-center justify-between px-3 sm:px-4 md:px-6",children:[o.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>i(!a),className:"lg:hidden h-9 w-9 sm:h-10 sm:w-10",children:o.jsx(om,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),!w.includes(n)&&o.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-gray-900 truncate flex-1 text-center lg:text-left",children:((y=m.find(j=>j.id===n))==null?void 0:y.label)||"Meal Scrape"}),w.includes(n)&&o.jsx("div",{className:"flex-1 flex justify-center lg:justify-start",children:o.jsx("div",{className:"flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg bg-gradient-to-br from-orange-500 to-red-600",children:o.jsx(ts,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})})}),o.jsx("div",{className:"w-9 sm:w-10 lg:hidden"})]})}),o.jsx("div",{className:"hidden lg:block fixed top-4 right-4 z-40",children:o.jsx("div",{className:"flex items-center gap-2 bg-white/90 backdrop-blur-lg rounded-full shadow-xl border border-gray-200/50 px-3 py-2",children:m.filter(j=>!["discover","settings","messages"].includes(j.id)).map(j=>{const N=j.icon,_=n===j.id;return o.jsx("button",{onClick:()=>g(j.id),className:`h-10 w-10 rounded-full transition-all flex items-center justify-center ${_?"bg-orange-500 text-white shadow-lg scale-110":"text-gray-600 hover:bg-gray-100 hover:scale-105"}`,title:j.label,children:o.jsx(N,{className:"h-5 w-5"})},j.id)})})}),o.jsx("main",{className:w.includes(n)?"":"p-3 sm:p-4 md:p-6 pb-24",children:r}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 lg:hidden bg-white border-t border-gray-200 shadow-lg safe-area-bottom",children:o.jsx("div",{className:"max-w-lg mx-auto px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-around",children:[o.jsxs("button",{onClick:()=>g("messages"),className:`relative flex flex-col items-center gap-1 transition-all touch-manipulation ${n==="messages"?"text-cyan-500 scale-110":"text-gray-600"}`,style:{minWidth:"60px",minHeight:"48px"},children:[o.jsxs("div",{className:"relative",children:[o.jsx(am,{className:"w-6 h-6",strokeWidth:n==="messages"?2.5:2}),u>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] rounded-full w-4 h-4 flex items-center justify-center font-bold animate-pulse",children:u>9?"9+":u})]}),o.jsx("span",{className:"text-[10px] font-medium",children:"Messages"})]}),o.jsx("button",{onClick:()=>g("add-recipe"),className:"relative -mt-6 grid place-items-center bg-gradient-to-br from-orange-500 to-red-600 rounded-full shadow-xl hover:shadow-2xl transition-all active:scale-95",style:{width:"56px",height:"56px"},children:o.jsx(_o,{className:"w-8 h-8 text-white",strokeWidth:2.75})}),o.jsxs("button",{onClick:()=>g("profile"),className:`flex flex-col items-center gap-1 transition-all touch-manipulation ${n==="profile"?"text-orange-600 scale-110":"text-gray-600"}`,style:{minWidth:"60px",minHeight:"48px"},children:[o.jsx("div",{className:"relative",children:l?o.jsx("img",{src:l,alt:"Profile",className:`w-7 h-7 rounded-full object-cover ${n==="profile"?"ring-2 ring-orange-600 ring-offset-2":"ring-1 ring-gray-300"}`}):o.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center ${n==="profile"?"bg-orange-100 ring-2 ring-orange-600":"bg-gray-100"}`,children:o.jsx(fw,{className:"w-4 h-4",strokeWidth:n==="profile"?2.5:2})})}),o.jsx("span",{className:"text-[10px] font-medium",children:"Profile"})]})]})})}),!w.includes(n)&&o.jsx("div",{className:"hidden lg:block fixed bottom-6 left-1/2 -translate-x-1/2 z-40",children:o.jsx("button",{onClick:()=>g("discover"),className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white w-14 h-14 rounded-full shadow-2xl hover:shadow-3xl transition-all hover:scale-110 flex items-center justify-center",title:"Social Feed",children:o.jsx(ac,{className:"w-7 h-7"})})})]}),o.jsx("button",{onClick:()=>c(j=>j?null:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop"),className:"fixed top-20 right-4 bg-slate-800 text-white text-xs px-3 py-2 rounded-full shadow-lg hover:bg-slate-700 z-50 hidden lg:block",children:"Toggle Avatar"})]})}const RR=Bc("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Je({className:e,variant:t,...r}){return o.jsx("div",{className:je(RR({variant:t}),e),...r})}const He=d.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("rounded-xl border bg-card text-card-foreground shadow",e),...t}));He.displayName="Card";const wt=d.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("flex flex-col space-y-1.5 p-6",e),...t}));wt.displayName="CardHeader";const bt=d.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:je("font-semibold leading-none tracking-tight",e),...t}));bt.displayName="CardTitle";const Ct=d.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:je("text-sm text-muted-foreground",e),...t}));Ct.displayName="CardDescription";const Xe=d.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("p-6 pt-0",e),...t}));Xe.displayName="CardContent";const Nw=d.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("flex items-center p-6 pt-0",e),...t}));Nw.displayName="CardFooter";function ce(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function PR(e,t){const r=d.createContext(t),n=a=>{const{children:i,...l}=a,c=d.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=d.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function er(e,t=[]){let r=[];function n(a,i){const l=d.createContext(i),c=r.length;r=[...r,i];const u=f=>{var v;const{scope:p,children:m,...w}=f,g=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,b=d.useMemo(()=>w,Object.values(w));return o.jsx(g.Provider,{value:b,children:m})};u.displayName=a+"Provider";function h(f,p){var g;const m=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,w=d.useContext(m);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,h]}const s=()=>{const a=r.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,TR(s,...t)]}function TR(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var St=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},AR=ef[" useId ".trim().toString()]||(()=>{}),OR=0;function Br(e){const[t,r]=d.useState(AR());return St(()=>{r(n=>n??String(OR++))},[e]),t?`radix-${t}`:""}var IR=ef[" useInsertionEffect ".trim().toString()]||St;function Hr({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=MR({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const u=d.useCallback(h=>{var f;if(l){const p=DR(h)?h(e):h;p!==e&&((f=i.current)==null||f.call(i,p))}else a(h)},[l,e,a,i]);return[c,u]}function MR({defaultProp:e,onChange:t}){const[r,n]=d.useState(e),s=d.useRef(r),a=d.useRef(t);return IR(()=>{a.current=t},[t]),d.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function DR(e){return typeof e=="function"}function $R(e){const t=LR(e),r=d.forwardRef((n,s)=>{const{children:a,...i}=n,l=d.Children.toArray(a),c=l.find(FR);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function LR(e){const t=d.forwardRef((r,n)=>{const{children:s,...a}=r;if(d.isValidElement(s)){const i=BR(s),l=zR(a,s.props);return s.type!==d.Fragment&&(l.ref=n?Rn(n,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UR=Symbol("radix.slottable");function FR(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UR}function zR(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function BR(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var VR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=VR.reduce((e,t)=>{const r=$R(`Primitive.${t}`),n=d.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function _w(e,t){e&&qo.flushSync(()=>e.dispatchEvent(t))}function Et(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function WR(e,t=globalThis==null?void 0:globalThis.document){const r=Et(e);d.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var qR="DismissableLayer",Rh="dismissableLayer.update",HR="dismissableLayer.pointerDownOutside",KR="dismissableLayer.focusOutside",Yg,Sw=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vc=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(Sw),[h,f]=d.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=d.useState({}),w=Re(t,k=>f(k)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),x=h?g.indexOf(h):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=v,N=JR(k=>{const A=k.target,C=[...u.branches].some(E=>E.contains(A));!j||C||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},p),_=XR(k=>{const A=k.target;[...u.branches].some(E=>E.contains(A))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},p);return WR(k=>{x===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),d.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Yg=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Jg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Yg)}},[h,p,r,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Jg())},[h,u]),d.useEffect(()=>{const k=()=>m({});return document.addEventListener(Rh,k),()=>document.removeEventListener(Rh,k)},[]),o.jsx(_e.div,{...c,ref:w,style:{pointerEvents:y?j?"auto":"none":void 0,...e.style},onFocusCapture:ce(e.onFocusCapture,_.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,N.onPointerDownCapture)})});Vc.displayName=qR;var GR="DismissableLayerBranch",YR=d.forwardRef((e,t)=>{const r=d.useContext(Sw),n=d.useRef(null),s=Re(t,n);return d.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(_e.div,{...e,ref:s})});YR.displayName=GR;function JR(e,t=globalThis==null?void 0:globalThis.document){const r=Et(e),n=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){kw(HR,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function XR(e,t=globalThis==null?void 0:globalThis.document){const r=Et(e),n=d.useRef(!1);return d.useEffect(()=>{const s=a=>{a.target&&!n.current&&kw(KR,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Jg(){const e=new CustomEvent(Rh);document.dispatchEvent(e)}function kw(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?_w(s,a):s.dispatchEvent(a)}var sd="focusScope.autoFocusOnMount",od="focusScope.autoFocusOnUnmount",Xg={bubbles:!1,cancelable:!0},QR="FocusScope",Wc=d.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=d.useState(null),u=Et(s),h=Et(a),f=d.useRef(null),p=Re(t,g=>c(g)),m=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(n){let g=function(y){if(m.paused||!l)return;const j=y.target;l.contains(j)?f.current=j:Dn(f.current,{select:!0})},b=function(y){if(m.paused||!l)return;const j=y.relatedTarget;j!==null&&(l.contains(j)||Dn(f.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const N of y)N.removedNodes.length>0&&Dn(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),x.disconnect()}}},[n,l,m.paused]),d.useEffect(()=>{if(l){Zg.add(m);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(sd,Xg);l.addEventListener(sd,u),l.dispatchEvent(v),v.defaultPrevented||(ZR(sP(Cw(l)),{select:!0}),document.activeElement===g&&Dn(l))}return()=>{l.removeEventListener(sd,u),setTimeout(()=>{const v=new CustomEvent(od,Xg);l.addEventListener(od,h),l.dispatchEvent(v),v.defaultPrevented||Dn(g??document.body,{select:!0}),l.removeEventListener(od,h),Zg.remove(m)},0)}}},[l,u,h,m]);const w=d.useCallback(g=>{if(!r&&!n||m.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const x=g.currentTarget,[y,j]=eP(x);y&&j?!g.shiftKey&&v===j?(g.preventDefault(),r&&Dn(y,{select:!0})):g.shiftKey&&v===y&&(g.preventDefault(),r&&Dn(j,{select:!0})):v===x&&g.preventDefault()}},[r,n,m.paused]);return o.jsx(_e.div,{tabIndex:-1,...i,ref:p,onKeyDown:w})});Wc.displayName=QR;function ZR(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Dn(n,{select:t}),document.activeElement!==r)return}function eP(e){const t=Cw(e),r=Qg(t,e),n=Qg(t.reverse(),e);return[r,n]}function Cw(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Qg(e,t){for(const r of e)if(!tP(r,{upTo:t}))return r}function tP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rP(e){return e instanceof HTMLInputElement&&"select"in e}function Dn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&rP(e)&&t&&e.select()}}var Zg=nP();function nP(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=ex(e,t),e.unshift(t)},remove(t){var r;e=ex(e,t),(r=e[0])==null||r.resume()}}}function ex(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function sP(e){return e.filter(t=>t.tagName!=="A")}var oP="Portal",qc=d.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=d.useState(!1);St(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Qv.createPortal(o.jsx(_e.div,{...n,ref:t}),i):null});qc.displayName=oP;function aP(e,t){return d.useReducer((r,n)=>t[r][n]??r,e)}var tr=e=>{const{present:t,children:r}=e,n=iP(t),s=typeof r=="function"?r({present:n.isPresent}):d.Children.only(r),a=Re(n.ref,lP(s));return typeof r=="function"||n.isPresent?d.cloneElement(s,{ref:a}):null};tr.displayName="Presence";function iP(e){const[t,r]=d.useState(),n=d.useRef(null),s=d.useRef(e),a=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=aP(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=tl(n.current);a.current=l==="mounted"?u:"none"},[l]),St(()=>{const u=n.current,h=s.current;if(h!==e){const p=a.current,m=tl(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),St(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=m=>{const g=tl(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=m=>{m.target===t&&(a.current=tl(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function tl(e){return(e==null?void 0:e.animationName)||"none"}function lP(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ad=0;function fm(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tx()),document.body.insertAdjacentElement("beforeend",e[1]??tx()),ad++,()=>{ad===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ad--}},[])}function tx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nl="right-scroll-bar-position",_l="width-before-scroll-bar",cP="with-scroll-bars-hidden",uP="--removed-body-scroll-bar-size";function id(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function dP(e,t){var r=d.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var hP=typeof window<"u"?d.useLayoutEffect:d.useEffect,rx=new WeakMap;function fP(e,t){var r=dP(null,function(n){return e.forEach(function(s){return id(s,n)})});return hP(function(){var n=rx.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(l){a.has(l)||id(l,null)}),a.forEach(function(l){s.has(l)||id(l,i)})}rx.set(r,e)},[e]),r}function mP(e){return e}function pP(e,t){t===void 0&&(t=mP);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var h=i;i=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),r}}}};return s}function gP(e){e===void 0&&(e={});var t=pP(null);return t.options=wr({async:!0,ssr:!1},e),t}var Ew=function(e){var t=e.sideCar,r=cs(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return d.createElement(n,wr({},r))};Ew.isSideCarExport=!0;function xP(e,t){return e.useMedium(t),Ew}var Rw=gP(),ld=function(){},Hc=d.forwardRef(function(e,t){var r=d.useRef(null),n=d.useState({onScrollCapture:ld,onWheelCapture:ld,onTouchMoveCapture:ld}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,p=e.sideCar,m=e.noRelative,w=e.noIsolation,g=e.inert,b=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,y=e.gapMode,j=cs(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,_=fP([r,t]),k=wr(wr({},j),s);return d.createElement(d.Fragment,null,h&&d.createElement(N,{sideCar:Rw,removeScrollBar:u,shards:f,noRelative:m,noIsolation:w,inert:g,setCallbacks:a,allowPinchZoom:!!b,lockRef:r,gapMode:y}),i?d.cloneElement(d.Children.only(l),wr(wr({},k),{ref:_})):d.createElement(x,wr({},k,{className:c,ref:_}),l))});Hc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hc.classNames={fullWidth:_l,zeroRight:Nl};var vP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vP();return t&&e.setAttribute("nonce",t),e}function wP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jP=function(){var e=0,t=null;return{add:function(r){e==0&&(t=yP())&&(wP(t,r),bP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NP=function(){var e=jP();return function(t,r){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Pw=function(){var e=NP(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},_P={left:0,top:0,right:0,gap:0},cd=function(e){return parseInt(e||"",10)||0},SP=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[cd(r),cd(n),cd(s)]},kP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _P;var t=SP(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},CP=Pw(),Co="data-scroll-locked",EP=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(cP,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Co,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nl,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(_l,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Nl," .").concat(Nl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(_l," .").concat(_l,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Co,`] {
    `).concat(uP,": ").concat(l,`px;
  }
`)},nx=function(){var e=parseInt(document.body.getAttribute(Co)||"0",10);return isFinite(e)?e:0},RP=function(){d.useEffect(function(){return document.body.setAttribute(Co,(nx()+1).toString()),function(){var e=nx()-1;e<=0?document.body.removeAttribute(Co):document.body.setAttribute(Co,e.toString())}},[])},PP=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;RP();var a=d.useMemo(function(){return kP(s)},[s]);return d.createElement(CP,{styles:EP(a,!t,s,r?"":"!important")})},Ph=!1;if(typeof window<"u")try{var rl=Object.defineProperty({},"passive",{get:function(){return Ph=!0,!0}});window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Ph=!1}var Qs=Ph?{passive:!1}:!1,TP=function(e){return e.tagName==="TEXTAREA"},Tw=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!TP(e)&&r[t]==="visible")},AP=function(e){return Tw(e,"overflowY")},OP=function(e){return Tw(e,"overflowX")},sx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Aw(e,n);if(s){var a=Ow(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},IP=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},MP=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Aw=function(e,t){return e==="v"?AP(t):OP(t)},Ow=function(e,t){return e==="v"?IP(t):MP(t)},DP=function(e,t){return e==="h"&&t==="rtl"?-1:1},$P=function(e,t,r,n,s){var a=DP(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,h=i>0,f=0,p=0;do{if(!l)break;var m=Ow(e,l),w=m[0],g=m[1],b=m[2],v=g-b-a*w;(w||v)&&Aw(e,l)&&(f+=v,p+=w);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(u=!0),u},nl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ox=function(e){return[e.deltaX,e.deltaY]},ax=function(e){return e&&"current"in e?e.current:e},LP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FP=0,Zs=[];function zP(e){var t=d.useRef([]),r=d.useRef([0,0]),n=d.useRef(),s=d.useState(FP++)[0],a=d.useState(Pw)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Kf([e.lockRef.current],(e.shards||[]).map(ax),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var v=nl(g),x=r.current,y="deltaX"in g?g.deltaX:x[0]-v[0],j="deltaY"in g?g.deltaY:x[1]-v[1],N,_=g.target,k=Math.abs(y)>Math.abs(j)?"h":"v";if("touches"in g&&k==="h"&&_.type==="range")return!1;var A=sx(k,_);if(!A)return!0;if(A?N=k:(N=k==="v"?"h":"v",A=sx(k,_)),!A)return!1;if(!n.current&&"changedTouches"in g&&(y||j)&&(n.current=N),!N)return!0;var C=n.current||N;return $P(C,b,g,C==="h"?y:j)},[]),c=d.useCallback(function(g){var b=g;if(!(!Zs.length||Zs[Zs.length-1]!==a)){var v="deltaY"in b?ox(b):nl(b),x=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&LP(N.delta,v)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var y=(i.current.shards||[]).map(ax).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=y.length>0?l(b,y[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=d.useCallback(function(g,b,v,x){var y={name:g,delta:b,target:v,should:x,shadowParent:BP(v)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(j){return j!==y})},1)},[]),h=d.useCallback(function(g){r.current=nl(g),n.current=void 0},[]),f=d.useCallback(function(g){u(g.type,ox(g),g.target,l(g,e.lockRef.current))},[]),p=d.useCallback(function(g){u(g.type,nl(g),g.target,l(g,e.lockRef.current))},[]);d.useEffect(function(){return Zs.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Qs),document.addEventListener("touchmove",c,Qs),document.addEventListener("touchstart",h,Qs),function(){Zs=Zs.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Qs),document.removeEventListener("touchmove",c,Qs),document.removeEventListener("touchstart",h,Qs)}},[]);var m=e.removeScrollBar,w=e.inert;return d.createElement(d.Fragment,null,w?d.createElement(a,{styles:UP(s)}):null,m?d.createElement(PP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function BP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VP=xP(Rw,zP);var Kc=d.forwardRef(function(e,t){return d.createElement(Hc,wr({},e,{ref:t,sideCar:VP}))});Kc.classNames=Hc.classNames;var WP=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},eo=new WeakMap,sl=new WeakMap,ol={},ud=0,Iw=function(e){return e&&(e.host||Iw(e.parentNode))},qP=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Iw(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},HP=function(e,t,r,n){var s=qP(t,Array.isArray(e)?e:[e]);ol[r]||(ol[r]=new WeakMap);var a=ol[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var m=p.getAttribute(n),w=m!==null&&m!=="false",g=(eo.get(p)||0)+1,b=(a.get(p)||0)+1;eo.set(p,g),a.set(p,b),i.push(p),g===1&&w&&sl.set(p,!0),b===1&&p.setAttribute(r,"true"),w||p.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return h(t),l.clear(),ud++,function(){i.forEach(function(f){var p=eo.get(f)-1,m=a.get(f)-1;eo.set(f,p),a.set(f,m),p||(sl.has(f)||f.removeAttribute(n),sl.delete(f)),m||f.removeAttribute(r)}),ud--,ud||(eo=new WeakMap,eo=new WeakMap,sl=new WeakMap,ol={})}},mm=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=WP(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),HP(n,s,r,"aria-hidden")):function(){return null}};function KP(e){const t=GP(e),r=d.forwardRef((n,s)=>{const{children:a,...i}=n,l=d.Children.toArray(a),c=l.find(JP);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function GP(e){const t=d.forwardRef((r,n)=>{const{children:s,...a}=r;if(d.isValidElement(s)){const i=QP(s),l=XP(a,s.props);return s.type!==d.Fragment&&(l.ref=n?Rn(n,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YP=Symbol("radix.slottable");function JP(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YP}function XP(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function QP(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Gc="Dialog",[Mw,Dw]=er(Gc),[ZP,Yr]=Mw(Gc),$w=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=Hr({prop:n,defaultProp:s??!1,onChange:a,caller:Gc});return o.jsx(ZP,{scope:t,triggerRef:l,contentRef:c,contentId:Br(),titleId:Br(),descriptionId:Br(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:i,children:r})};$w.displayName=Gc;var Lw="DialogTrigger",Uw=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yr(Lw,r),a=Re(t,s.triggerRef);return o.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":xm(s.open),...n,ref:a,onClick:ce(e.onClick,s.onOpenToggle)})});Uw.displayName=Lw;var pm="DialogPortal",[e4,Fw]=Mw(pm,{forceMount:void 0}),zw=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Yr(pm,t);return o.jsx(e4,{scope:t,forceMount:r,children:d.Children.map(n,i=>o.jsx(tr,{present:r||a.open,children:o.jsx(qc,{asChild:!0,container:s,children:i})}))})};zw.displayName=pm;var lc="DialogOverlay",Bw=d.forwardRef((e,t)=>{const r=Fw(lc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Yr(lc,e.__scopeDialog);return a.modal?o.jsx(tr,{present:n||a.open,children:o.jsx(r4,{...s,ref:t})}):null});Bw.displayName=lc;var t4=KP("DialogOverlay.RemoveScroll"),r4=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yr(lc,r);return o.jsx(Kc,{as:t4,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(_e.div,{"data-state":xm(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Is="DialogContent",Vw=d.forwardRef((e,t)=>{const r=Fw(Is,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Yr(Is,e.__scopeDialog);return o.jsx(tr,{present:n||a.open,children:a.modal?o.jsx(n4,{...s,ref:t}):o.jsx(s4,{...s,ref:t})})});Vw.displayName=Is;var n4=d.forwardRef((e,t)=>{const r=Yr(Is,e.__scopeDialog),n=d.useRef(null),s=Re(t,r.contentRef,n);return d.useEffect(()=>{const a=n.current;if(a)return mm(a)},[]),o.jsx(Ww,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:ce(e.onFocusOutside,a=>a.preventDefault())})}),s4=d.forwardRef((e,t)=>{const r=Yr(Is,e.__scopeDialog),n=d.useRef(!1),s=d.useRef(!1);return o.jsx(Ww,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Ww=d.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=Yr(Is,r),c=d.useRef(null),u=Re(t,c);return fm(),o.jsxs(o.Fragment,{children:[o.jsx(Wc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Vc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":xm(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(a4,{titleId:l.titleId}),o.jsx(l4,{contentRef:c,descriptionId:l.descriptionId})]})]})}),gm="DialogTitle",qw=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yr(gm,r);return o.jsx(_e.h2,{id:s.titleId,...n,ref:t})});qw.displayName=gm;var Hw="DialogDescription",Kw=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yr(Hw,r);return o.jsx(_e.p,{id:s.descriptionId,...n,ref:t})});Kw.displayName=Hw;var Gw="DialogClose",Yw=d.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yr(Gw,r);return o.jsx(_e.button,{type:"button",...n,ref:t,onClick:ce(e.onClick,()=>s.onOpenChange(!1))})});Yw.displayName=Gw;function xm(e){return e?"open":"closed"}var Jw="DialogTitleWarning",[o4,Xw]=PR(Jw,{contentName:Is,titleName:gm,docsSlug:"dialog"}),a4=({titleId:e})=>{const t=Xw(Jw),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},i4="DialogDescriptionWarning",l4=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Xw(i4).contentName}}.`;return d.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Qw=$w,c4=Uw,Zw=zw,vm=Bw,ym=Vw,wm=qw,bm=Kw,jm=Yw;function Bs(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var u4=["color"],d4=d.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Bs(e,u4);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),d.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),h4=["color"],Nm=d.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Bs(e,h4);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),d.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),f4=["color"],eb=d.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Bs(e,f4);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),d.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),m4=["color"],p4=d.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Bs(e,m4);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),d.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),g4=["color"],x4=d.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Bs(e,g4);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),d.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),v4=["color"],y4=d.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Bs(e,v4);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),d.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),w4=["color"],b4=d.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Bs(e,w4);return d.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),d.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:n}))});const _t=Qw,j4=Zw,tb=d.forwardRef(({className:e,...t},r)=>o.jsx(vm,{ref:r,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));tb.displayName=vm.displayName;const vt=d.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(j4,{children:[o.jsx(tb,{}),o.jsxs(ym,{ref:n,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(jm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(y4,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vt.displayName=ym.displayName;const Bt=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Bt.displayName="DialogHeader";const rs=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});rs.displayName="DialogFooter";const Dt=d.forwardRef(({className:e,...t},r)=>o.jsx(wm,{ref:r,className:je("text-lg font-semibold leading-none tracking-tight",e),...t}));Dt.displayName=wm.displayName;const Nr=d.forwardRef(({className:e,...t},r)=>o.jsx(bm,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));Nr.displayName=bm.displayName;function Yc(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Jc(e){const[t,r]=d.useState(void 0);return St(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Xc="Checkbox",[N4]=er(Xc),[_4,_m]=N4(Xc);function S4(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:i,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:f}=e,[p,m]=Hr({prop:r,defaultProp:s??!1,onChange:c,caller:Xc}),[w,g]=d.useState(null),[b,v]=d.useState(null),x=d.useRef(!1),y=w?!!i||!!w.closest("form"):!0,j={checked:p,disabled:a,setChecked:m,control:w,setControl:g,name:l,form:i,value:h,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Qn(s)?!1:s,isFormControl:y,bubbleInput:b,setBubbleInput:v};return o.jsx(_4,{scope:t,...j,children:k4(f)?f(j):n})}var rb="CheckboxTrigger",nb=d.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:i,disabled:l,checked:c,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:w}=_m(rb,e),g=Re(s,h),b=d.useRef(c);return d.useEffect(()=>{const v=a==null?void 0:a.form;if(v){const x=()=>f(b.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[a,f]),o.jsx(_e.button,{type:"button",role:"checkbox","aria-checked":Qn(c)?"mixed":c,"aria-required":u,"data-state":lb(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:g,onKeyDown:ce(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:ce(r,v=>{f(x=>Qn(x)?!0:!x),w&&m&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})})});nb.displayName=rb;var Sm=d.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c,onCheckedChange:u,form:h,...f}=e;return o.jsx(S4,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:i,onCheckedChange:u,name:n,form:h,value:c,internal_do_not_use_render:({isFormControl:p})=>o.jsxs(o.Fragment,{children:[o.jsx(nb,{...f,ref:t,__scopeCheckbox:r}),p&&o.jsx(ib,{__scopeCheckbox:r})]})})});Sm.displayName=Xc;var sb="CheckboxIndicator",ob=d.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=_m(sb,r);return o.jsx(tr,{present:n||Qn(a.checked)||a.checked===!0,children:o.jsx(_e.span,{"data-state":lb(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});ob.displayName=sb;var ab="CheckboxBubbleInput",ib=d.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:i,required:l,disabled:c,name:u,value:h,form:f,bubbleInput:p,setBubbleInput:m}=_m(ab,e),w=Re(r,m),g=Yc(a),b=Jc(n);d.useEffect(()=>{const x=p;if(!x)return;const y=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(y,"checked").set,_=!s.current;if(g!==a&&N){const k=new Event("click",{bubbles:_});x.indeterminate=Qn(a),N.call(x,Qn(a)?!1:a),x.dispatchEvent(k)}},[p,g,a,s]);const v=d.useRef(Qn(a)?!1:a);return o.jsx(_e.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:l,disabled:c,name:u,value:h,form:f,...t,tabIndex:-1,ref:w,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ib.displayName=ab;function k4(e){return typeof e=="function"}function Qn(e){return e==="indeterminate"}function lb(e){return Qn(e)?"indeterminate":e?"checked":"unchecked"}const ni=d.forwardRef(({className:e,...t},r)=>o.jsx(Sm,{ref:r,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(ob,{className:je("flex items-center justify-center text-current"),children:o.jsx(Nm,{className:"h-4 w-4"})})}));ni.displayName=Sm.displayName;var C4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],E4=C4.reduce((e,t)=>{const r=um(`Primitive.${t}`),n=d.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),R4="Separator",ix="horizontal",P4=["horizontal","vertical"],cb=d.forwardRef((e,t)=>{const{decorative:r,orientation:n=ix,...s}=e,a=T4(n)?n:ix,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(E4.div,{"data-orientation":a,...l,...s,ref:t})});cb.displayName=R4;function T4(e){return P4.includes(e)}var ub=cb;const Sl=d.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(ub,{ref:s,decorative:r,orientation:t,className:je("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Sl.displayName=ub.displayName;var A4=d.createContext(void 0);function Yo(e){const t=d.useContext(A4);return e||t||"ltr"}function si(e,[t,r]){return Math.min(r,Math.max(t,e))}function O4(e,t){return d.useReducer((r,n)=>t[r][n]??r,e)}var km="ScrollArea",[db]=er(km),[I4,Cr]=db(km),hb=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[f,p]=d.useState(null),[m,w]=d.useState(null),[g,b]=d.useState(null),[v,x]=d.useState(0),[y,j]=d.useState(0),[N,_]=d.useState(!1),[k,A]=d.useState(!1),C=Re(t,M=>c(M)),E=Yo(s);return o.jsx(I4,{scope:r,type:n,dir:E,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:p,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:N,onScrollbarXEnabledChange:_,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:A,onCornerWidthChange:x,onCornerHeightChange:j,children:o.jsx(_e.div,{dir:E,...i,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});hb.displayName=km;var fb="ScrollAreaViewport",mb=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,i=Cr(fb,r),l=d.useRef(null),c=Re(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(_e.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});mb.displayName=fb;var un="ScrollAreaScrollbar",Cm=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Cr(un,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(M4,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(D4,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(pb,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(Em,{...n,ref:t}):null});Cm.displayName=un;var M4=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Cr(un,e.__scopeScrollArea),[a,i]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(tr,{present:r||a,children:o.jsx(pb,{"data-state":a?"visible":"hidden",...n,ref:t})})}),D4=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Cr(un,e.__scopeScrollArea),a=e.orientation==="horizontal",i=Zc(()=>c("SCROLL_END"),100),[l,c]=O4("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,h=a?"scrollLeft":"scrollTop";if(u){let f=u[h];const p=()=>{const m=u[h];f!==m&&(c("SCROLL"),i()),f=m};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,a,c,i]),o.jsx(tr,{present:r||l!=="hidden",children:o.jsx(Em,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ce(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ce(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),pb=d.forwardRef((e,t)=>{const r=Cr(un,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=d.useState(!1),l=e.orientation==="horizontal",c=Zc(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:h)}},10);return Fo(r.viewport,c),Fo(r.content,c),o.jsx(tr,{present:n||a,children:o.jsx(Em,{"data-state":a?"visible":"hidden",...s,ref:t})})}),Em=d.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Cr(un,e.__scopeScrollArea),a=d.useRef(null),i=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=wb(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function f(p,m){return B4(p,i.current,l,m)}return r==="horizontal"?o.jsx($4,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollLeft,m=lx(p,l,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):r==="vertical"?o.jsx(L4,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollTop,m=lx(p,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),$4=d.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Cr(un,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Re(t,c,a.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(xb,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Qc(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(a.viewport){const p=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(p),jb(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:uc(i.paddingLeft),paddingEnd:uc(i.paddingRight)}})}})}),L4=d.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Cr(un,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Re(t,c,a.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(xb,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Qc(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(a.viewport){const p=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(p),jb(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:uc(i.paddingTop),paddingEnd:uc(i.paddingBottom)}})}})}),[U4,gb]=db(un),xb=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...p}=e,m=Cr(un,r),[w,g]=d.useState(null),b=Re(t,C=>g(C)),v=d.useRef(null),x=d.useRef(""),y=m.viewport,j=n.content-n.viewport,N=Et(h),_=Et(c),k=Zc(f,10);function A(C){if(v.current){const E=C.clientX-v.current.left,M=C.clientY-v.current.top;u({x:E,y:M})}}return d.useEffect(()=>{const C=E=>{const M=E.target;(w==null?void 0:w.contains(M))&&N(E,j)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[y,w,j,N]),d.useEffect(_,[n,_]),Fo(w,k),Fo(m.content,k),o.jsx(U4,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:Et(a),onThumbPointerUp:Et(i),onThumbPositionChange:_,onThumbPointerDown:Et(l),children:o.jsx(_e.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:ce(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),v.current=w.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),A(C))}),onPointerMove:ce(e.onPointerMove,A),onPointerUp:ce(e.onPointerUp,C=>{const E=C.target;E.hasPointerCapture(C.pointerId)&&E.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),cc="ScrollAreaThumb",vb=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=gb(cc,e.__scopeScrollArea);return o.jsx(tr,{present:r||s.hasThumb,children:o.jsx(F4,{ref:t,...n})})}),F4=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=Cr(cc,r),i=gb(cc,r),{onThumbPositionChange:l}=i,c=Re(t,f=>i.onThumbChange(f)),u=d.useRef(void 0),h=Zc(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=a.viewport;if(f){const p=()=>{if(h(),!u.current){const m=V4(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[a.viewport,h,l]),o.jsx(_e.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ce(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),w=f.clientX-m.left,g=f.clientY-m.top;i.onThumbPointerDown({x:w,y:g})}),onPointerUp:ce(e.onPointerUp,i.onThumbPointerUp)})});vb.displayName=cc;var Rm="ScrollAreaCorner",yb=d.forwardRef((e,t)=>{const r=Cr(Rm,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(z4,{...e,ref:t}):null});yb.displayName=Rm;var z4=d.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Cr(Rm,r),[a,i]=d.useState(0),[l,c]=d.useState(0),u=!!(a&&l);return Fo(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),Fo(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),i(h)}),u?o.jsx(_e.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function uc(e){return e?parseInt(e,10):0}function wb(e,t){const r=e/t;return isNaN(r)?0:r}function Qc(e){const t=wb(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function B4(e,t,r,n="ltr"){const s=Qc(r),a=s/2,i=t||a,l=s-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,f=n==="ltr"?[0,h]:[h*-1,0];return bb([c,u],f)(e)}function lx(e,t,r="ltr"){const n=Qc(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],u=si(e,c);return bb([0,i],[0,l])(u)}function bb(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function jb(e,t){return e>0&&e<t}var V4=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Zc(e,t){const r=Et(e),n=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),d.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Fo(e,t){const r=Et(t);St(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var Nb=hb,W4=mb,q4=yb;const Es=d.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Nb,{ref:n,className:je("relative overflow-hidden",e),...r,children:[o.jsx(W4,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(_b,{}),o.jsx(q4,{})]}));Es.displayName=Nb.displayName;const _b=d.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(Cm,{ref:n,orientation:t,className:je("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(vb,{className:"relative flex-1 rounded-full bg-border"})}));_b.displayName=Cm.displayName;var H4=e=>{switch(e){case"success":return Y4;case"info":return X4;case"warning":return J4;case"error":return Q4;default:return null}},K4=Array(12).fill(0),G4=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},K4.map((r,n)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Y4=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),J4=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),X4=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Q4=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Z4=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),e5=()=>{let[e,t]=te.useState(document.hidden);return te.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Th=1,t5=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Th++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,i=n.then(async c=>{if(a=["resolve",c],te.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(n5(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:h})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:h})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Th++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ht=new t5,r5=(e,t)=>{let r=(t==null?void 0:t.id)||Th++;return Ht.addToast({title:e,...t,id:r}),r},n5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",s5=r5,o5=()=>Ht.toasts,a5=()=>Ht.getActiveToasts(),$=Object.assign(s5,{success:Ht.success,info:Ht.info,warning:Ht.warning,error:Ht.error,custom:Ht.custom,message:Ht.message,promise:Ht.promise,dismiss:Ht.dismiss,loading:Ht.loading},{getHistory:o5,getToasts:a5});function i5(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}i5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function al(e){return e.label!==void 0}var l5=3,c5="32px",u5="16px",cx=4e3,d5=356,h5=14,f5=20,m5=200;function Pr(...e){return e.filter(Boolean).join(" ")}function p5(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var g5=e=>{var t,r,n,s,a,i,l,c,u,h,f;let{invert:p,toast:m,unstyled:w,interacting:g,setHeights:b,visibleToasts:v,heights:x,index:y,toasts:j,expanded:N,removeToast:_,defaultRichColors:k,closeButton:A,style:C,cancelButtonStyle:E,actionButtonStyle:M,className:D="",descriptionClassName:W="",duration:J,position:X,gap:F,loadingIcon:P,expandByDefault:R,classNames:S,icons:O,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:K}=e,[V,Z]=te.useState(null),[re,ue]=te.useState(null),[Q,me]=te.useState(!1),[U,I]=te.useState(!1),[z,se]=te.useState(!1),[ge,ke]=te.useState(!1),[Pe,Te]=te.useState(!1),[H,ae]=te.useState(0),[G,Se]=te.useState(0),ee=te.useRef(m.duration||J||cx),he=te.useRef(null),we=te.useRef(null),$e=y===0,Tt=y+1<=v,B=m.type,ie=m.dismissible!==!1,ve=m.className||"",Ae=m.descriptionClassName||"",yt=te.useMemo(()=>x.findIndex(de=>de.toastId===m.id)||0,[x,m.id]),hn=te.useMemo(()=>{var de;return(de=m.closeButton)!=null?de:A},[m.closeButton,A]),at=te.useMemo(()=>m.duration||J||cx,[m.duration,J]),mr=te.useRef(0),rr=te.useRef(0),pr=te.useRef(0),et=te.useRef(null),[T,oe]=X.split("-"),pe=te.useMemo(()=>x.reduce((de,Me,Ue)=>Ue>=yt?de:de+Me.height,0),[x,yt]),Ie=e5(),Ce=m.invert||p,Ne=B==="loading";rr.current=te.useMemo(()=>yt*F+pe,[yt,pe]),te.useEffect(()=>{ee.current=at},[at]),te.useEffect(()=>{me(!0)},[]),te.useEffect(()=>{let de=we.current;if(de){let Me=de.getBoundingClientRect().height;return Se(Me),b(Ue=>[{toastId:m.id,height:Me,position:m.position},...Ue]),()=>b(Ue=>Ue.filter(ut=>ut.toastId!==m.id))}},[b,m.id]),te.useLayoutEffect(()=>{if(!Q)return;let de=we.current,Me=de.style.height;de.style.height="auto";let Ue=de.getBoundingClientRect().height;de.style.height=Me,Se(Ue),b(ut=>ut.find(mt=>mt.toastId===m.id)?ut.map(mt=>mt.toastId===m.id?{...mt,height:Ue}:mt):[{toastId:m.id,height:Ue,position:m.position},...ut])},[Q,m.title,m.description,b,m.id]);let ye=te.useCallback(()=>{I(!0),ae(rr.current),b(de=>de.filter(Me=>Me.toastId!==m.id)),setTimeout(()=>{_(m)},m5)},[m,_,b,rr]);te.useEffect(()=>{if(m.promise&&B==="loading"||m.duration===1/0||m.type==="loading")return;let de;return N||g||K&&Ie?(()=>{if(pr.current<mr.current){let Me=new Date().getTime()-mr.current;ee.current=ee.current-Me}pr.current=new Date().getTime()})():ee.current!==1/0&&(mr.current=new Date().getTime(),de=setTimeout(()=>{var Me;(Me=m.onAutoClose)==null||Me.call(m,m),ye()},ee.current)),()=>clearTimeout(de)},[N,g,m,B,K,Ie,ye]),te.useEffect(()=>{m.delete&&ye()},[ye,m.delete]);function ze(){var de,Me,Ue;return O!=null&&O.loading?te.createElement("div",{className:Pr(S==null?void 0:S.loader,(de=m==null?void 0:m.classNames)==null?void 0:de.loader,"sonner-loader"),"data-visible":B==="loading"},O.loading):P?te.createElement("div",{className:Pr(S==null?void 0:S.loader,(Me=m==null?void 0:m.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":B==="loading"},P):te.createElement(G4,{className:Pr(S==null?void 0:S.loader,(Ue=m==null?void 0:m.classNames)==null?void 0:Ue.loader),visible:B==="loading"})}return te.createElement("li",{tabIndex:0,ref:we,className:Pr(D,ve,S==null?void 0:S.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,S==null?void 0:S.default,S==null?void 0:S[B],(r=m==null?void 0:m.classNames)==null?void 0:r[B]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:k,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":Q,"data-promise":!!m.promise,"data-swiped":Pe,"data-removed":U,"data-visible":Tt,"data-y-position":T,"data-x-position":oe,"data-index":y,"data-front":$e,"data-swiping":z,"data-dismissible":ie,"data-type":B,"data-invert":Ce,"data-swipe-out":ge,"data-swipe-direction":re,"data-expanded":!!(N||R&&Q),style:{"--index":y,"--toasts-before":y,"--z-index":j.length-y,"--offset":`${U?H:rr.current}px`,"--initial-height":R?"auto":`${G}px`,...C,...m.style},onDragEnd:()=>{se(!1),Z(null),et.current=null},onPointerDown:de=>{Ne||!ie||(he.current=new Date,ae(rr.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(se(!0),et.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,Me,Ue,ut;if(ge||!ie)return;et.current=null;let mt=Number(((de=we.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Lt=Number(((Me=we.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gr=new Date().getTime()-((Ue=he.current)==null?void 0:Ue.getTime()),lt=V==="x"?mt:Lt,Be=Math.abs(lt)/gr;if(Math.abs(lt)>=f5||Be>.11){ae(rr.current),(ut=m.onDismiss)==null||ut.call(m,m),ue(V==="x"?mt>0?"right":"left":Lt>0?"down":"up"),ye(),ke(!0),Te(!1);return}se(!1),Z(null)},onPointerMove:de=>{var Me,Ue,ut,mt;if(!et.current||!ie||((Me=window.getSelection())==null?void 0:Me.toString().length)>0)return;let Lt=de.clientY-et.current.y,gr=de.clientX-et.current.x,lt=(Ue=e.swipeDirections)!=null?Ue:p5(X);!V&&(Math.abs(gr)>1||Math.abs(Lt)>1)&&Z(Math.abs(gr)>Math.abs(Lt)?"x":"y");let Be={x:0,y:0};V==="y"?(lt.includes("top")||lt.includes("bottom"))&&(lt.includes("top")&&Lt<0||lt.includes("bottom")&&Lt>0)&&(Be.y=Lt):V==="x"&&(lt.includes("left")||lt.includes("right"))&&(lt.includes("left")&&gr<0||lt.includes("right")&&gr>0)&&(Be.x=gr),(Math.abs(Be.x)>0||Math.abs(Be.y)>0)&&Te(!0),(ut=we.current)==null||ut.style.setProperty("--swipe-amount-x",`${Be.x}px`),(mt=we.current)==null||mt.style.setProperty("--swipe-amount-y",`${Be.y}px`)}},hn&&!m.jsx?te.createElement("button",{"aria-label":q,"data-disabled":Ne,"data-close-button":!0,onClick:Ne||!ie?()=>{}:()=>{var de;ye(),(de=m.onDismiss)==null||de.call(m,m)},className:Pr(S==null?void 0:S.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(a=O==null?void 0:O.close)!=null?a:Z4):null,m.jsx||d.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:te.createElement(te.Fragment,null,B||m.icon||m.promise?te.createElement("div",{"data-icon":"",className:Pr(S==null?void 0:S.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ze():null,m.type!=="loading"?m.icon||(O==null?void 0:O[B])||H4(B):null):null,te.createElement("div",{"data-content":"",className:Pr(S==null?void 0:S.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},te.createElement("div",{"data-title":"",className:Pr(S==null?void 0:S.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?te.createElement("div",{"data-description":"",className:Pr(W,Ae,S==null?void 0:S.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),d.isValidElement(m.cancel)?m.cancel:m.cancel&&al(m.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:de=>{var Me,Ue;al(m.cancel)&&ie&&((Ue=(Me=m.cancel).onClick)==null||Ue.call(Me,de),ye())},className:Pr(S==null?void 0:S.cancelButton,(h=m==null?void 0:m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,d.isValidElement(m.action)?m.action:m.action&&al(m.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||M,onClick:de=>{var Me,Ue;al(m.action)&&((Ue=(Me=m.action).onClick)==null||Ue.call(Me,de),!de.defaultPrevented&&ye())},className:Pr(S==null?void 0:S.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function ux(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function x5(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?u5:c5;function c(u){["top","right","bottom","left"].forEach(h=>{r[`${i}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var v5=d.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:p,style:m,visibleToasts:w=l5,toastOptions:g,dir:b=ux(),gap:v=h5,loadingIcon:x,icons:y,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:N}=e,[_,k]=te.useState([]),A=te.useMemo(()=>Array.from(new Set([n].concat(_.filter(K=>K.position).map(K=>K.position)))),[_,n]),[C,E]=te.useState([]),[M,D]=te.useState(!1),[W,J]=te.useState(!1),[X,F]=te.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=te.useRef(null),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=te.useRef(null),O=te.useRef(!1),q=te.useCallback(K=>{k(V=>{var Z;return(Z=V.find(re=>re.id===K.id))!=null&&Z.delete||Ht.dismiss(K.id),V.filter(({id:re})=>re!==K.id)})},[]);return te.useEffect(()=>Ht.subscribe(K=>{if(K.dismiss){k(V=>V.map(Z=>Z.id===K.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{Qv.flushSync(()=>{k(V=>{let Z=V.findIndex(re=>re.id===K.id);return Z!==-1?[...V.slice(0,Z),{...V[Z],...K},...V.slice(Z+1)]:[K,...V]})})})}),[]),te.useEffect(()=>{if(h!=="system"){F(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:V})=>{F(V?"dark":"light")})}catch{K.addListener(({matches:Z})=>{try{F(Z?"dark":"light")}catch(re){console.error(re)}})}},[h]),te.useEffect(()=>{_.length<=1&&D(!1)},[_]),te.useEffect(()=>{let K=V=>{var Z,re;s.every(ue=>V[ue]||V.code===ue)&&(D(!0),(Z=P.current)==null||Z.focus()),V.code==="Escape"&&(document.activeElement===P.current||(re=P.current)!=null&&re.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[s]),te.useEffect(()=>{if(P.current)return()=>{S.current&&(S.current.focus({preventScroll:!0}),S.current=null,O.current=!1)}},[P.current]),te.createElement("section",{ref:t,"aria-label":`${j} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((K,V)=>{var Z;let[re,ue]=K.split("-");return _.length?te.createElement("ol",{key:K,dir:b==="auto"?ux():b,tabIndex:-1,ref:P,className:l,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":re,"data-lifted":M&&_.length>1&&!a,"data-x-position":ue,style:{"--front-toast-height":`${((Z=C[0])==null?void 0:Z.height)||0}px`,"--width":`${d5}px`,"--gap":`${v}px`,...m,...x5(c,u)},onBlur:Q=>{O.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(O.current=!1,S.current&&(S.current.focus({preventScroll:!0}),S.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||O.current||(O.current=!0,S.current=Q.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{W||D(!1)},onDragEnd:()=>D(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},_.filter(Q=>!Q.position&&V===0||Q.position===K).map((Q,me)=>{var U,I;return te.createElement(g5,{key:Q.id,icons:y,index:me,toast:Q,defaultRichColors:f,duration:(U=g==null?void 0:g.duration)!=null?U:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:w,closeButton:(I=g==null?void 0:g.closeButton)!=null?I:i,interacting:W,position:K,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:q,toasts:_.filter(z=>z.position==Q.position),heights:C.filter(z=>z.position==Q.position),setHeights:E,expandByDefault:a,gap:v,loadingIcon:x,expanded:M,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});function Pm({recipe:e,onClose:t}){var K;const[r,n]=d.useState(0),[s,a]=d.useState(new Set),[i,l]=d.useState(new Set),[c,u]=d.useState(!1),[h,f]=d.useState(!1),[p,m]=d.useState(0),[w,g]=d.useState(!0),[b,v]=d.useState(!1),[x,y]=d.useState(e.servings||4),j=d.useRef(null),N=d.useRef(null),_=e.steps||[];d.useEffect(()=>{if(c&&!h&&p>0){const V=setInterval(()=>{m(Z=>Z<=1?(u(!1),f(!1),w&&k(),0):Z-1)},1e3);return()=>clearInterval(V)}},[c,h,p,w]);const k=()=>{const V=new(window.AudioContext||window.webkitAudioContext),Z=V.createOscillator(),re=V.createGain();Z.connect(re),re.connect(V.destination),Z.frequency.value=800,Z.type="sine",re.gain.setValueAtTime(.3,V.currentTime),re.gain.exponentialRampToValueAtTime(.01,V.currentTime+.5),Z.start(V.currentTime),Z.stop(V.currentTime+.5)},A=V=>{j.current=V.touches[0].clientX},C=V=>{N.current=V.touches[0].clientX},E=()=>{if(!j.current||!N.current)return;const V=j.current-N.current;Math.abs(V)>50&&(V>0&&r<_.length-1?M():V<0&&r>0&&D()),j.current=null,N.current=null},M=()=>{r<_.length-1&&(n(r+1),W())},D=()=>{r>0&&(n(r-1),W())},W=()=>{u(!1),f(!1),m(0)},J=()=>{const V=_[r];if(V!=null&&V.duration){const Z=V.duration.match(/(\d+)/);if(Z){const re=parseInt(Z[1]);m(re*60),u(!0),f(!1)}}},X=()=>{c?f(!h):J()},F=V=>{const Z=Math.floor(V/60),re=V%60;return`${Z}:${re.toString().padStart(2,"0")}`},P=V=>{a(Z=>{const re=new Set(Z);return re.has(V)?re.delete(V):re.add(V),re})},R=V=>{l(Z=>{const re=new Set(Z);return re.has(V)?re.delete(V):re.add(V),re})},S=V=>{const Z=V.toLowerCase(),re={flour:"",sugar:"",butter:"",egg:"",chocolate:"",vanilla:"",baking:""};for(const[ue,Q]of Object.entries(re))if(Z.includes(ue))return Q;return""},O=s.size===e.ingredients.length,q=(r+1)/_.length*100;return o.jsx("div",{className:"fixed inset-0 z-50 bg-white overflow-hidden",children:o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 text-white px-3 py-2 sm:px-4 sm:py-3 flex items-center justify-between shadow-lg flex-shrink-0",children:[o.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[o.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold truncate",children:e.title}),o.jsxs("p",{className:"text-orange-100 text-[10px] sm:text-xs",children:["Step ",r+1," of ",_.length]})]}),o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[o.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>g(!w),className:"text-white hover:bg-white/20 h-8 w-8 sm:h-9 sm:w-9",children:w?o.jsx(mw,{className:"w-4 h-4 sm:w-5 sm:h-5"}):o.jsx(UE,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),o.jsx(Y,{variant:"ghost",size:"icon",onClick:t,className:"text-white hover:bg-white/20 h-8 w-8 sm:h-9 sm:w-9",children:o.jsx(Zt,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),o.jsx("div",{className:"w-full bg-gray-200 h-1 sm:h-1.5 flex-shrink-0",children:o.jsx("div",{className:"bg-orange-600 h-full transition-all duration-300",style:{width:`${q}%`}})}),o.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:o.jsxs("div",{className:"p-3 sm:p-4 md:p-6 space-y-3 sm:space-y-4 pb-24",children:[o.jsxs("div",{className:"relative w-full h-40 sm:h-48 md:h-64 rounded-lg sm:rounded-xl overflow-hidden shadow-lg flex-shrink-0",children:[o.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),o.jsxs("div",{className:"absolute bottom-2 left-2 right-2 sm:bottom-3 sm:left-3 sm:right-3 md:bottom-4 md:left-4 md:right-4",children:[o.jsx("h3",{className:"text-white text-base sm:text-lg md:text-xl font-bold drop-shadow-lg line-clamp-1",children:e.title}),o.jsxs("p",{className:"text-white/90 text-[10px] sm:text-xs md:text-sm mt-0.5 sm:mt-1 drop-shadow",children:[e.prepTime+e.cookTime," min  ",e.servings," servings"]})]})]}),o.jsxs("div",{className:`rounded-lg sm:rounded-xl p-3 sm:p-4 border-2 shadow-sm ${b?"bg-orange-50 border-orange-300":"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-300"}`,children:[o.jsx(Y,{onClick:()=>v(!b),className:`w-full font-semibold h-10 sm:h-11 text-sm sm:text-base ${b?"bg-orange-600 hover:bg-orange-700":"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700"}`,children:b?o.jsxs(o.Fragment,{children:[o.jsx(EE,{className:"w-4 h-4 mr-2"}),"Disable Voice Control"]}):o.jsxs(o.Fragment,{children:[o.jsx(cw,{className:"w-4 h-4 mr-2"}),"Enable Voice Control"]})}),o.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 text-center mt-2",children:b?'Say "Next", "Previous", "Repeat", or "Read ingredients"':"Navigate recipes hands-free with voice commands"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border-2 border-emerald-200 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Cs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-600"}),o.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:"Servings"})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx(Y,{variant:"outline",size:"sm",onClick:()=>y(Math.max(1,x-1)),className:"h-7 w-7 sm:h-8 sm:w-8 p-0",children:o.jsx(uw,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),o.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900 min-w-[1.5rem] sm:min-w-[2rem] text-center",children:x}),o.jsx(Y,{variant:"outline",size:"sm",onClick:()=>y(x+1),className:"h-7 w-7 sm:h-8 sm:w-8 p-0",children:o.jsx(sn,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]}),x!==e.servings&&o.jsxs("p",{className:"text-[10px] sm:text-xs text-emerald-700 mt-2 text-center",children:["Scaled from original ",e.servings," servings"]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border-2 border-blue-200 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[o.jsxs("h3",{className:"text-sm sm:text-base md:text-lg font-bold text-gray-900 flex items-center gap-2",children:[O?o.jsx(jl,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-600"}):o.jsx(xE,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400"}),"Ingredients"]}),o.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-600",children:[s.size,"/",e.ingredients.length]})]}),o.jsx("div",{className:"space-y-2",children:e.ingredients.map((V,Z)=>o.jsxs("div",{className:`flex items-center gap-2 sm:gap-3 p-2 sm:p-2.5 rounded-lg transition-all ${s.has(Z)?"bg-orange-100 border border-orange-300":"bg-white border border-gray-200"}`,children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-gray-100 flex items-center justify-center text-lg sm:text-xl flex-shrink-0",children:S(V.name)}),o.jsx(ni,{id:`ingredient-${Z}`,checked:s.has(Z),onCheckedChange:()=>P(Z),className:"flex-shrink-0"}),o.jsxs("label",{htmlFor:`ingredient-${Z}`,className:`text-xs sm:text-sm cursor-pointer flex-1 min-w-0 ${s.has(Z)?"text-gray-500 line-through":"text-gray-900"}`,children:[o.jsxs("span",{className:"font-semibold",children:[V.quantity," ",V.unit]})," ",V.name]})]},Z))})]}),o.jsx("div",{className:"touch-pan-y select-none",onTouchStart:A,onTouchMove:C,onTouchEnd:E,children:o.jsxs("div",{className:`bg-white rounded-lg sm:rounded-xl shadow-lg border-2 p-4 sm:p-6 md:p-8 transition-all ${i.has(r)?"border-orange-600 bg-orange-50":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[o.jsx(ni,{id:`step-${r}`,checked:i.has(r),onCheckedChange:()=>R(r),className:"w-5 h-5 sm:w-6 sm:h-6 flex-shrink-0"}),o.jsxs("h3",{className:`font-bold text-lg sm:text-xl md:text-2xl ${i.has(r)?"text-gray-500 line-through":"text-gray-900"}`,children:["Step ",r+1]})]}),((K=_[r])==null?void 0:K.duration)&&o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[o.jsxs(Y,{variant:"outline",size:"sm",onClick:X,className:`gap-1 sm:gap-2 h-8 sm:h-9 text-xs sm:text-sm px-2 sm:px-3 ${c&&!h?"border-orange-600 bg-orange-50":"border-blue-300"}`,children:[c&&!h?o.jsx(im,{className:"w-3 h-3 sm:w-4 sm:h-4"}):o.jsx(lm,{className:"w-3 h-3 sm:w-4 sm:h-4"}),o.jsx("span",{className:"hidden sm:inline",children:c&&!h?"Pause":"Start"})]}),c&&o.jsx(Y,{variant:"outline",size:"sm",onClick:W,className:"h-8 w-8 sm:h-9 sm:w-9 p-0",children:o.jsx(TE,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]}),c&&o.jsxs("div",{className:`mb-3 sm:mb-4 p-3 sm:p-4 md:p-6 rounded-lg sm:rounded-xl text-center ${p<=10?"bg-red-100 border-2 border-red-300 animate-pulse":"bg-orange-100 border-2 border-orange-300"}`,children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3",children:[o.jsx(hw,{className:`w-4 h-4 sm:w-5 sm:h-5 ${p<=10?"text-red-600":"text-orange-600"}`}),o.jsx("span",{className:`font-mono text-3xl sm:text-4xl md:text-5xl font-bold ${p<=10?"text-red-600":"text-orange-600"}`,children:F(p)})]}),h&&o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-2",children:"Timer paused"})]}),o.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700 leading-relaxed",children:_[r].instruction}),o.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 text-center mt-4 sm:mt-6",children:" Swipe left or right to navigate"})]})})]})}),o.jsx("div",{className:"bg-white border-t-2 border-gray-200 px-3 py-2 sm:px-4 sm:py-3 shadow-lg flex-shrink-0 safe-area-bottom",children:o.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3 max-w-4xl mx-auto",children:[o.jsxs(Y,{variant:"outline",size:"lg",onClick:D,disabled:r===0,className:"gap-1 sm:gap-2 text-xs sm:text-sm px-3 sm:px-4 h-10 sm:h-11",children:[o.jsx(jh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"hidden xs:inline",children:"Previous"}),o.jsx("span",{className:"xs:hidden",children:"Prev"})]}),o.jsx("div",{className:"flex-1 text-center",children:o.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600",children:b?'Say "Next" or swipe':"Swipe to navigate"})}),o.jsxs(Y,{size:"lg",onClick:M,disabled:r===_.length-1,className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 gap-1 sm:gap-2 text-xs sm:text-sm px-3 sm:px-4 h-10 sm:h-11",children:[o.jsx("span",{children:"Next"}),o.jsx(Nh,{className:"w-4 h-4 sm:w-5 sm:h-5"})]})]})})]})})}function Sb({recipe:e,open:t,onOpenChange:r}){var v,x;const{state:n,dispatch:s}=zs(),[a,i]=d.useState(new Set),[l,c]=d.useState(!1),u=n.savedRecipes.some(y=>y.id===e.id),h=e.steps&&e.steps.length>0;if(l&&h)return o.jsx(Pm,{recipe:e,onClose:()=>c(!1)});const f=y=>{i(j=>{const N=new Set(j);return N.has(y)?N.delete(y):N.add(y),N})},p=()=>{u?(s({type:"REMOVE_RECIPE",payload:e.id}),$.success("Recipe removed from your collection")):(s({type:"SAVE_RECIPE",payload:e}),$.success("Recipe saved to your collection"))},m=()=>{e.ingredients.forEach(y=>{const j={id:`${e.id}-${y.name}-${Date.now()}`,name:y.name,quantity:parseFloat(y.quantity)||1,unit:y.unit,categoryId:"cat-7",checked:!1,sourceRecipeIds:[e.id]};s({type:"ADD_GROCERY_ITEM",payload:j})}),$.success("Ingredients added to grocery list")},w=()=>{const y={id:`${e.id}-${Date.now()}`,recipeId:e.id,date:new Date().toISOString().split("T")[0],mealType:e.mealType[0]||"Dinner",servings:e.servings};s({type:"ADD_MEAL_PLAN",payload:y}),$.success("Recipe added to meal plan")},g=()=>{u&&(s({type:"REMOVE_RECIPE",payload:e.id}),$.success("Recipe deleted"),r(!1))},b={Easy:"bg-orange-100 text-orange-700 border-orange-200",Medium:"bg-amber-100 text-amber-700 border-amber-200",Hard:"bg-red-100 text-red-700 border-red-200"};return o.jsx(_t,{open:t,onOpenChange:r,children:o.jsxs(vt,{className:"max-w-full w-full h-full max-h-full p-0 gap-0 overflow-hidden m-0 rounded-none",children:[o.jsx(Dt,{className:"sr-only",children:e.title}),o.jsx(Es,{className:"h-full",children:o.jsxs("div",{className:"relative",children:[o.jsx(Y,{variant:"ghost",size:"icon",className:"fixed top-3 right-3 z-50 bg-white/95 hover:bg-white shadow-lg rounded-full min-h-[44px] min-w-[44px] touch-manipulation active:scale-95",onClick:()=>r(!1),children:o.jsx(Zt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative w-full h-64 bg-gray-100",children:[o.jsx("img",{src:(v=e.imageUrl)!=null&&v.includes("instagram.com")||(x=e.imageUrl)!=null&&x.includes("cdninstagram.com")?`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(e.imageUrl.replace(/&amp;/g,"&"))}`:e.imageUrl,alt:e.title,className:"w-full h-full object-cover",loading:"lazy"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2 leading-tight pr-12",children:e.title}),o.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[o.jsx(Je,{className:"bg-white/95 text-gray-900 hover:bg-white text-xs",children:e.cuisineType}),o.jsx(Je,{variant:"outline",className:`${b[e.difficulty]} border text-xs`,children:e.difficulty}),e.dietaryTags.slice(0,2).map(y=>o.jsx(Je,{variant:"secondary",className:"bg-white/90 text-gray-900 text-xs",children:y},y)),e.dietaryTags.length>2&&o.jsxs(Je,{variant:"secondary",className:"bg-white/90 text-gray-900 text-xs",children:["+",e.dietaryTags.length-2]})]})]})]}),o.jsxs("div",{className:"p-4 pb-24",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 bg-gradient-to-br from-orange-50 to-amber-50 rounded-lg border border-orange-100",children:[o.jsx("div",{className:"bg-primary p-2 rounded-lg",children:o.jsx(en,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Total"}),o.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[e.prepTime+e.cookTime,"m"]})]})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg border border-blue-100",children:[o.jsx("div",{className:"bg-blue-500 p-2 rounded-lg",children:o.jsx(Cs,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Serves"}),o.jsx("p",{className:"text-sm font-bold text-gray-900",children:e.servings})]})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg border border-amber-100",children:[o.jsx("div",{className:"bg-amber-500 p-2 rounded-lg",children:o.jsx(hw,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Prep"}),o.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[e.prepTime,"m"]})]})]})]}),h&&o.jsxs("div",{className:"mb-4",children:[o.jsxs(Y,{size:"lg",onClick:()=>c(!0),className:"w-full bg-accent hover:bg-accent/90 text-white text-base min-h-[52px] gap-2 shadow-lg hover:shadow-xl active:scale-[0.98] transition-all touch-manipulation",children:[o.jsx(gE,{className:"w-5 h-5"}),"Start Cooking"]}),o.jsx("p",{className:"text-center text-xs text-gray-600 mt-2 px-2",children:"Step-by-step mode with timers and ingredient checklist"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[o.jsxs(Y,{size:"lg",variant:u?"outline":"default",onClick:p,className:`gap-2 min-h-[48px] touch-manipulation active:scale-95 transition-all text-sm ${u?"border-2 border-secondary text-secondary hover:bg-orange-50":"bg-secondary hover:bg-secondary/90 text-white"}`,children:[o.jsx(bh,{className:`w-4 h-4 flex-shrink-0 ${u?"fill-current":""}`}),o.jsx("span",{className:"truncate",children:u?"Saved":"Save"})]}),o.jsxs(Y,{size:"lg",variant:"outline",onClick:w,className:"gap-2 border-2 hover:bg-blue-50 hover:border-blue-500 hover:text-blue-700 min-h-[48px] touch-manipulation active:scale-95 transition-all text-sm",children:[o.jsx(ti,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Meal Plan"})]})]}),o.jsxs("div",{className:"flex gap-2 mb-6",children:[o.jsxs(Y,{variant:"outline",onClick:m,className:"flex-1 gap-2 hover:bg-orange-50 hover:border-primary hover:text-primary min-h-[44px] touch-manipulation active:scale-95 transition-all text-sm",children:[o.jsx(Uo,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Grocery List"})]}),u&&o.jsx(Y,{variant:"outline",size:"icon",onClick:g,className:"hover:bg-rose-50 hover:border-rose-500 hover:text-rose-700 min-h-[44px] min-w-[44px] touch-manipulation active:scale-95 transition-all",children:o.jsx(Yt,{className:"w-4 h-4"})})]}),o.jsx(Sl,{className:"my-6"}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("div",{className:"bg-orange-100 p-2 rounded-lg",children:o.jsx(ac,{className:"w-4 h-4 text-primary"})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Ingredients"})]}),o.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-lg p-4",children:o.jsx("div",{className:"space-y-2",children:e.ingredients.map((y,j)=>o.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-orange-50 transition-colors min-h-[44px]",children:[o.jsx(ni,{id:`ingredient-${j}`,checked:a.has(j),onCheckedChange:()=>f(j),className:"mt-1.5 min-w-[20px] min-h-[20px] touch-manipulation"}),o.jsxs("label",{htmlFor:`ingredient-${j}`,className:`flex-1 text-sm text-gray-700 cursor-pointer leading-relaxed ${a.has(j)?"line-through text-gray-400":""}`,children:[o.jsxs("span",{className:"font-semibold text-primary",children:[y.quantity," ",y.unit]})," ",y.name]})]},j))})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:o.jsx(ts,{className:"w-4 h-4 text-blue-600"})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Instructions"})]}),o.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-lg p-4",children:o.jsx("ol",{className:"space-y-4",children:e.instructions.map((y,j)=>o.jsxs("li",{className:"flex gap-3",children:[o.jsx("div",{className:"flex-shrink-0 w-7 h-7 rounded-full bg-primary text-white flex items-center justify-center font-bold text-sm shadow-md",children:j+1}),o.jsx("p",{className:"text-sm text-gray-700 pt-0.5 leading-relaxed",children:y})]},j))})})]}),e.notes&&o.jsxs(o.Fragment,{children:[o.jsx(Sl,{className:"my-6"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Notes"}),o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:e.notes})})]})]}),e.sourceUrl&&o.jsxs(o.Fragment,{children:[o.jsx(Sl,{className:"my-6"}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:"Recipe Source"}),o.jsx("p",{className:"text-xs text-gray-600",children:"View original recipe"})]}),o.jsx(Y,{variant:"outline",size:"sm",asChild:!0,className:"gap-2 hover:bg-white min-h-[40px] touch-manipulation active:scale-95 transition-all w-full sm:w-auto",children:o.jsxs("a",{href:e.sourceUrl,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(nm,{className:"w-4 h-4"}),"Visit Source"]})})]})]})]})]})})]})})}const y5="https://vohvdarghgqskzqjclux.supabase.co",w5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvaHZkYXJnaGdxc2t6cWpjbHV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4ODgwMDcsImV4cCI6MjA3ODQ2NDAwN30.6povbtgWFLTvq6lxVrqii_-PrOiLZrUo1n-BMlpK4gc",ht=rm(y5,w5);async function b5(e){if(!ht)return[];const{data:t,error:r}=await ht.from("reviews").select("*").eq("recipe_id",e).order("created_at",{ascending:!1});if(r)throw r;return await Promise.all((t||[]).map(async s=>{const{data:a}=await ht.from("review_images").select("id, image_url").eq("review_id",s.id);return{...s,images:a||[]}}))}async function j5(e,t){if(!ht)return null;const{data:r,error:n}=await ht.from("reviews").select("*").eq("recipe_id",e).eq("user_id",t).maybeSingle();if(n)throw n;if(!r)return null;const{data:s}=await ht.from("review_images").select("id, image_url").eq("review_id",r.id);return{...r,images:s||[]}}async function kb(e){if(!ht)throw new Error("Supabase not configured");const r=`reviews/${`${Date.now()}-${Math.random().toString(36).substr(2,9)}-${e.name}`}`,{error:n}=await ht.storage.from("recipe-images").upload(r,e);if(n)throw n;const{data:s}=ht.storage.from("recipe-images").getPublicUrl(r);return s.publicUrl}async function N5(e,t,r,n){if(!ht)throw new Error("Supabase not configured");const{data:{user:s}}=await ht.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:a,error:i}=await ht.from("reviews").insert({recipe_id:e,user_id:s.id,rating:t,comment:r}).select().single();if(i)throw i;if(n.length>0){const l=await Promise.all(n.map(kb)),{error:c}=await ht.from("review_images").insert(l.map(u=>({review_id:a.id,image_url:u})));if(c)throw c}try{const{data:l}=await ht.from("posts").select("id").eq("recipe_id",e);if(l&&l.length>0){const c=l[0].id,u="".repeat(t),h=r?` ${r}`:"";await ht.from("comments").insert({post_id:c,user_id:s.id,text:`${u}${h}`,rating:t})}}catch(l){console.error("Failed to add review as comment to social post:",l)}return a}async function _5(e,t,r,n){if(!ht)throw new Error("Supabase not configured");const{error:s}=await ht.from("reviews").update({rating:t,comment:r,updated_at:new Date().toISOString()}).eq("id",e);if(s)throw s;if(n.length>0){const a=await Promise.all(n.map(kb)),{error:i}=await ht.from("review_images").insert(a.map(l=>({review_id:e,image_url:l})));if(i)throw i}return{id:e,rating:t,comment:r}}async function S5(e){if(!ht)return 0;const{data:t,error:r}=await ht.from("reviews").select("rating").eq("recipe_id",e);if(r)throw r;if(!t||t.length===0)return 0;const n=t.reduce((s,a)=>s+a.rating,0)/t.length;return Math.round(n*10)/10}const Sn=d.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:je("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Sn.displayName="Textarea";function k5({rating:e,size:t="md",interactive:r=!1,onRate:n}){const[s,a]=d.useState(0),i={sm:{text:"text-base",button:"w-8 h-8",gap:"gap-1"},md:{text:"text-xl",button:"w-10 h-10",gap:"gap-1.5"},lg:{text:"text-2xl",button:"w-12 h-12",gap:"gap-2"}}[t],l=c=>{r&&n&&n(c)};return o.jsx("div",{className:`flex ${i.gap}`,children:[1,2,3,4,5].map(c=>{const u=c<=(s||e);return o.jsx("button",{onClick:()=>l(c),onMouseEnter:()=>r&&a(c),onMouseLeave:()=>r&&a(0),disabled:!r,className:`
              flex items-center justify-center rounded-lg transition-all duration-200
              ${i.button}
              ${r?"cursor-pointer hover:scale-110 active:scale-95 touch-manipulation":"cursor-default"}
              ${r?"hover:bg-orange-50":""}
              ${i.text}
            `,"aria-label":`Rate ${c} out of 5`,children:o.jsx("span",{className:`transition-all duration-200 ${u?"opacity-100 scale-100":"opacity-20 grayscale scale-90"}`,children:""})},c)})})}function C5({recipe:e,open:t,onOpenChange:r,onReviewSubmitted:n}){const[s,a]=d.useState(0),[i,l]=d.useState(""),[c,u]=d.useState(!1),[h,f]=d.useState(null);d.useEffect(()=>{t&&p()},[t,e.id]);const p=async()=>{try{const w=localStorage.getItem("userId");if(!w)return;const g=await j5(e.id,w);g?(a(g.rating),l(g.comment||""),f(g.id)):(a(0),l(""),f(null))}catch(w){console.error("Failed to load existing review:",w)}},m=async()=>{if(s===0){$.error("Please select a rating");return}u(!0);try{h?(await _5(h,s,i,[]),$.success("Review updated successfully!")):(await N5(e.id,s,i,[]),$.success("Review submitted successfully!")),n==null||n(),r(!1),a(0),l("")}catch(w){console.error("Failed to submit review:",w),$.error("Failed to submit review. Please try again.")}finally{u(!1)}};return o.jsx(_t,{open:t,onOpenChange:r,children:o.jsx(vt,{className:"max-w-full w-full max-h-full h-full p-0 gap-0 m-0 rounded-none sm:max-w-2xl sm:max-h-[90vh] sm:rounded-lg sm:m-4",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs(Bt,{className:"px-4 py-4 border-b border-gray-200 flex-shrink-0",children:[o.jsx(Dt,{className:"text-xl",children:h?"Edit Your Review":"Write a Review"}),o.jsxs(Nr,{className:"text-sm",children:["Share your experience with ",e.title]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Your Rating"}),o.jsx("div",{className:"flex justify-center py-2",children:o.jsx(k5,{rating:s,size:"lg",interactive:!0,onRate:a})}),s>0&&o.jsx("p",{className:"text-center text-sm text-gray-600 mt-2",children:s===5?" Amazing!":s===4?" Great!":s===3?" Good":s===2?" Okay":" Not great"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Comments (Optional)"}),o.jsx(Sn,{value:i,onChange:w=>l(w.target.value),placeholder:"Share your experience with this recipe... What did you love? Any tips for others?",className:"min-h-32 text-base resize-none",disabled:c,maxLength:500}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[i.length,"/500 characters"]})]})]})}),o.jsx("div",{className:"px-4 py-4 border-t border-gray-200 flex-shrink-0 bg-white",children:o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 sm:justify-end",children:[o.jsx(Y,{variant:"outline",onClick:()=>r(!1),disabled:c,className:"w-full sm:w-auto min-h-[48px] touch-manipulation active:scale-95 transition-all",children:"Cancel"}),o.jsx(Y,{onClick:m,disabled:c||s===0,className:"w-full sm:w-auto min-h-[48px] bg-accent hover:bg-accent/90 touch-manipulation active:scale-95 transition-all",children:c?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):h?"Update Review":"Submit Review"})]})})]})})})}function Ah({recipe:e,onSave:t,onCook:r,onDelete:n,showReviewButton:s=!1,isAdmin:a=!1}){var k,A,C;const{state:i}=zs(),[l,c]=d.useState(!1),[u,h]=d.useState(!1),[f,p]=d.useState(0),[m,w]=d.useState(0),[g,b]=d.useState(null),v=e.prepTime+e.cookTime,x=i.savedRecipes.some(E=>E.id===e.id),y={Easy:"bg-orange-100 text-orange-700 border-orange-200",Medium:"bg-amber-100 text-amber-700 border-amber-200",Hard:"bg-red-100 text-red-700 border-red-200"},j=async()=>{try{const E=await b5(e.id);w(E.length);const M=await S5(e.id);p(M)}catch(E){console.error("Failed to load review data:",E)}},N=async()=>{try{let E=null;const{data:M,error:D}=await L.from("posts").select("*").eq("recipe_id",e.id).maybeSingle();if(console.log("[RecipeCard] Search by recipe_id:",e.id,"Found:",M?"YES":"NO","Error:",D),M)E=M;else{const{data:W}=await L.from("public_recipes").select("video_url").eq("id",e.id).maybeSingle();if(console.log("[RecipeCard] Search by video_url. Recipe DB entry:",W==null?void 0:W.video_url),W!=null&&W.video_url){const{data:J}=await L.from("posts").select("*").eq("recipe_url",W.video_url).maybeSingle();console.log("[RecipeCard] Found post by URL:",J?"YES":"NO"),E=J}}if(E){const{data:W}=await L.from("profiles").select("username, avatar_url").eq("id",E.user_id).maybeSingle(),{data:J}=await L.from("likes").select("user_id").eq("post_id",E.id),{count:X}=await L.from("comments").select("*",{count:"exact",head:!0}).eq("post_id",E.id);b({...E,profiles:W,_count:{likes:(J==null?void 0:J.length)||0,comments:X||0}}),console.log("[RecipeCard]  Social post loaded for recipe:",e.id,"Post ID:",E.id)}else console.log("[RecipeCard]  No social post found for recipe:",e.id)}catch(E){console.error("[RecipeCard] Failed to load social post:",E)}};d.useEffect(()=>{j(),N()},[e.id]),d.useEffect(()=>{console.log("[RecipeCard] Recipe:",e.id,"Review count:",m,"Social post:",g?"EXISTS":"NULL")},[m,g]);const _=E=>{if(E.stopPropagation(),!g){console.error("[RecipeCard] No social post available");return}console.log("[RecipeCard]  Opening post:",g.id),window.dispatchEvent(new CustomEvent("open-shared-post",{detail:g.id})),window.__pendingSharedPostId=g.id,setTimeout(()=>{delete window.__pendingSharedPostId},2e3),window.location.pathname!=="/discover"&&(console.log("[RecipeCard] Navigating to /discover"),window.history.pushState({},"","/discover"),window.dispatchEvent(new CustomEvent("navigate",{detail:"discover"})))};return o.jsxs(o.Fragment,{children:[o.jsxs(He,{className:"group overflow-hidden hover:shadow-xl transition-all duration-300 border-0 bg-white cursor-pointer active:scale-[0.98] flex flex-col h-full",onClick:()=>c(!0),children:[o.jsxs("div",{className:"relative overflow-hidden aspect-square",children:[o.jsx("img",{src:(k=e.imageUrl)!=null&&k.includes("instagram.com")||(A=e.imageUrl)!=null&&A.includes("cdninstagram.com")?`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(e.imageUrl.replace(/&amp;/g,"&"))}`:e.imageUrl,alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[x&&o.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-full p-2 shadow-lg",children:o.jsx(bh,{className:"w-4 h-4 text-rose-500 fill-rose-500"})}),a&&n&&o.jsx("button",{onClick:E=>{E.stopPropagation(),confirm("Are you sure you want to delete this recipe?")&&n(e.id)},className:"bg-red-600/95 backdrop-blur-sm rounded-full p-2.5 shadow-lg hover:bg-red-700 active:scale-95 transition-all touch-manipulation",children:o.jsx(Yt,{className:"w-4 h-4 text-white"})})]})]}),o.jsxs(Xe,{className:"p-4 space-y-3 flex-1",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Je,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 font-medium text-xs",children:e.cuisineType}),o.jsx("h3",{className:"font-bold text-gray-900 leading-tight text-sm sm:text-base lg:text-lg xl:text-xl hyphens-auto break-words",children:Or(e.title)})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(en,{className:"w-4 h-4 flex-shrink-0"}),o.jsxs("span",{className:"font-medium whitespace-nowrap",children:[v," min"]})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(ts,{className:"w-4 h-4 flex-shrink-0"}),o.jsx(Je,{variant:"outline",className:`text-xs ${y[e.difficulty]}`,children:e.difficulty})]})]}),e.dietaryTags.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[e.dietaryTags.slice(0,3).map(E=>o.jsx(Je,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:E},E)),e.dietaryTags.length>3&&o.jsxs(Je,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:["+",e.dietaryTags.length-3]})]})]}),o.jsxs(Nw,{className:"p-3 sm:p-4 pt-0 flex flex-col gap-2",children:[o.jsxs(Y,{variant:x?"default":"outline",size:"sm",className:`w-full min-h-[44px] touch-manipulation active:scale-95 transition-all text-xs sm:text-sm ${x?"bg-secondary hover:bg-secondary/90 text-white":"border-gray-300 hover:bg-primary hover:text-white"}`,onClick:E=>{E.stopPropagation(),t==null||t(e.id)},children:[o.jsx(bh,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 flex-shrink-0 ${x?"fill-white":""}`}),o.jsx("span",{className:"truncate text-xs sm:text-sm leading-tight",children:x?"Saved":"Save Recipe"})]}),o.jsxs(Y,{size:"sm",className:"w-full min-h-[44px] bg-accent hover:bg-accent/90 text-white shadow-md hover:shadow-lg active:scale-95 transition-all touch-manipulation text-xs sm:text-sm",onClick:E=>{E.stopPropagation(),r==null||r(e.id)},children:[o.jsx(yE,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 flex-shrink-0"}),o.jsx("span",{className:"leading-tight",children:"Cook"})]}),s&&o.jsxs(Y,{variant:"outline",size:"sm",className:"w-full min-h-[44px] border-gray-300 hover:bg-orange-50 hover:border-primary active:scale-95 transition-all touch-manipulation text-xs sm:text-sm",onClick:E=>{E.stopPropagation(),h(!0)},children:[o.jsx("span",{className:"text-sm sm:text-base mr-1.5 sm:mr-2 flex-shrink-0",children:""}),m>0?o.jsxs("span",{className:"flex items-center gap-1.5 sm:gap-2 truncate min-w-0 leading-tight",children:[o.jsx("span",{className:"font-semibold",children:f.toFixed(1)}),o.jsxs("span",{className:"text-gray-500 truncate text-xs sm:text-sm",children:["(",m,")"]})]}):o.jsx("span",{className:"leading-tight",children:"Write Review"})]}),s&&g&&o.jsxs(Y,{variant:"outline",size:"sm",className:"w-full min-h-[44px] border-orange-300 text-orange-600 hover:bg-orange-50 hover:border-orange-500 active:scale-95 transition-all touch-manipulation text-xs sm:text-sm",onClick:_,children:[o.jsx("span",{className:"text-sm sm:text-base mr-1.5 sm:mr-2 flex-shrink-0",children:""}),o.jsxs("span",{className:"flex items-center gap-1.5 sm:gap-2 truncate min-w-0 leading-tight",children:[o.jsx("span",{children:"See Reviews"}),((C=g._count)==null?void 0:C.comments)>0&&o.jsx("span",{className:"text-xs bg-orange-100 px-1.5 sm:px-2 py-0.5 rounded-full font-semibold flex-shrink-0",children:g._count.comments})]})]})]})]}),o.jsx(Sb,{recipe:e,open:l,onOpenChange:c}),o.jsx(C5,{recipe:e,open:u,onOpenChange:h,onReviewSubmitted:()=>{j()}})]})}const nt=d.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:je("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));nt.displayName="Input";const E5="https://vohvdarghgqskzqjclux.supabase.co",R5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvaHZkYXJnaGdxc2t6cWpjbHV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4ODgwMDcsImV4cCI6MjA3ODQ2NDAwN30.6povbtgWFLTvq6lxVrqii_-PrOiLZrUo1n-BMlpK4gc",Ni=rm(E5,R5);function Tm(e){return{id:e.id,title:e.title,ingredients:e.ingredients,instructions:e.instructions,prepTime:e.prep_time,cookTime:e.cook_time,servings:e.servings,tags:e.tags||[],cuisineType:e.cuisine_type,difficulty:e.difficulty,dietaryTags:e.dietary_tags||[],mealType:e.meal_type||[],imageUrl:e.image_url,videoUrl:e.video_url,sourceUrl:e.source_url,notes:e.notes,isSaved:!1}}function P5(e){return{title:e.title,ingredients:e.ingredients,instructions:e.instructions,prep_time:e.prepTime,cook_time:e.cookTime,servings:e.servings,tags:e.tags||[],cuisine_type:e.cuisineType,difficulty:e.difficulty,dietary_tags:e.dietaryTags||[],meal_type:e.mealType||[],image_url:e.imageUrl,video_url:e.videoUrl,source_url:e.sourceUrl,notes:e.notes,is_public:!0}}async function T5(e){const t=P5(e);console.log("[createRecipe] Attempting to insert:",t);const{data:r,error:n}=await Ni.from("public_recipes").insert(t).select().single();if(n)throw console.error("Error creating recipe:",n),console.error("Error details:",{message:n.message,details:n.details,hint:n.hint,code:n.code}),console.error("Supabase request failed",n),new Error(n.message||"Failed to create recipe");return Tm(r)}async function Cb(){const{data:e,error:t}=await Ni.from("public_recipes").select("*").eq("is_public",!0).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching recipes:",t),new Error("Failed to fetch recipes");return(e||[]).map(Tm)}async function A5(e){const{data:t,error:r}=await Ni.from("public_recipes").select("*").eq("id",e).maybeSingle();return r?(console.error("Error fetching recipe:",r),null):t?Tm(t):null}async function Eb(e){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))throw new Error("Cannot delete mock recipes - only database recipes can be deleted");const{error:r}=await Ni.from("public_recipes").delete().eq("id",e);if(r)throw console.error("Error deleting recipe:",r),new Error("Failed to delete recipe")}const Rb=Object.freeze(Object.defineProperty({__proto__:null,createRecipe:T5,deleteRecipe:Eb,getAllPublicRecipes:Cb,getRecipeById:A5,supabase:Ni},Symbol.toStringTag,{value:"Module"}));function eu({postId:e,isOpen:t,onClose:r,onCommentPosted:n}){const[s,a]=d.useState([]),[i,l]=d.useState(""),[c,u]=d.useState(!1),[h,f]=d.useState(!1),[p,m]=d.useState(null),[w,g]=d.useState(0),[b,v]=d.useState(0),[x,y]=d.useState(0),[j,N]=d.useState(0),[_,k]=d.useState(null),[A,C]=d.useState(!1);d.useEffect(()=>{t&&e&&(E(),M(),D(),L.auth.getUser().then(({data:P})=>{var R,S;m(((R=P.user)==null?void 0:R.id)||null),(S=P.user)!=null&&S.id&&W(P.user.id)}))},[t,e]);const E=async()=>{if(e)try{const{data:P,error:R}=await L.from("posts").select("*").eq("id",e).maybeSingle();if(R)throw R;k(P),P!=null&&P.spotify_preview_url&&setTimeout(()=>{const S=document.getElementById(`modal-audio-${e}`);S&&(S.play().catch(O=>console.log("Auto-play prevented:",O)),C(!0))},500)}catch(P){console.error("Error loading post:",P)}},M=async()=>{if(e){u(!0);try{const{data:P,error:R}=await L.from("comments").select("*").eq("post_id",e).order("created_at",{ascending:!0});if(R)throw console.error("Error loading comments:",R),R;if(!P||P.length===0){a([]);return}const S=[...new Set(P.map(Z=>Z.user_id))],{data:O,error:q}=await L.from("profiles").select("id, username, avatar_url").in("id",S);if(q)throw console.error("Error loading profiles:",q),q;const K=new Map((O||[]).map(Z=>[Z.id,Z])),V=P.map(Z=>({...Z,profiles:K.get(Z.user_id)||{username:"Unknown User",avatar_url:null}}));a(V)}catch(P){console.error("Error loading comments:",P),$.error("Failed to load comments")}finally{u(!1)}}},D=async()=>{if(e)try{const{data:P,error:R}=await L.from("post_ratings").select("rating").eq("post_id",e);if(R)throw R;if(P&&P.length>0){const S=P.reduce((O,q)=>O+q.rating,0)/P.length;y(S),N(P.length)}else y(0),N(0)}catch(P){console.error("Error loading ratings:",P)}},W=async P=>{if(e)try{const{data:R,error:S}=await L.from("post_ratings").select("rating").eq("post_id",e).eq("user_id",P).maybeSingle();if(S)throw S;g((R==null?void 0:R.rating)||0)}catch(R){console.error("Error loading user rating:",R)}},J=async P=>{if(!p){$.error("Please log in to rate");return}try{const{error:R}=await L.from("post_ratings").upsert({post_id:e,user_id:p,rating:P},{onConflict:"post_id,user_id"});if(R)throw R;g(P),await D(),n&&n(),$.success("Rating submitted!")}catch(R){console.error("Error submitting rating:",R),$.error("Failed to submit rating")}},X=async P=>{if(P.preventDefault(),!(!i.trim()||!p)){f(!0);try{const{data:R}=await L.from("posts").select("user_id").eq("id",e).maybeSingle(),{error:S}=await L.from("comments").insert({post_id:e,user_id:p,text:i.trim()});if(S)throw S;if(R&&R.user_id!==p){console.log("[Notifications] Sending comment notification:",{user_id:R.user_id,actor_id:p,type:"comment",post_id:e});const{data:O,error:q}=await L.from("notifications").insert({user_id:R.user_id,actor_id:p,type:"comment",post_id:e});q?console.error("[Notifications] Error sending comment notification:",q):console.log("[Notifications] Comment notification sent successfully:",O)}l(""),await M(),$.success("Comment posted!"),n&&n(),r()}catch(R){console.error("Error posting comment:",R),$.error("Failed to post comment")}finally{f(!1)}}},F=()=>{const P=document.getElementById(`modal-audio-${e}`);P&&(A?P.pause():P.play(),C(!A))};return!_&&c?o.jsx(_t,{open:t,onOpenChange:r,children:o.jsx(vt,{className:"max-w-lg w-[95vw] h-[90vh] flex items-center justify-center p-0 gap-0 z-[9999] overflow-hidden",children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading post..."})]})})}):o.jsx(_t,{open:t,onOpenChange:r,children:o.jsx(vt,{className:"max-w-lg w-[95vw] h-[90vh] p-0 gap-0 overflow-hidden z-[9999]",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"w-full h-[40vh] bg-black flex items-center justify-center relative overflow-hidden flex-shrink-0",children:[_!=null&&_.image_url?o.jsx("img",{src:_.image_url,alt:_.title||"Post",className:"w-full h-full object-contain"}):o.jsx("div",{className:"text-white text-center",children:o.jsx("p",{children:"No image available"})}),o.jsx("button",{onClick:r,className:"absolute top-2 right-2 w-8 h-8 bg-black/70 backdrop-blur-sm text-white rounded-full flex items-center justify-center hover:bg-black/90 z-10",children:o.jsx(Zt,{className:"w-5 h-5"})}),(_==null?void 0:_.spotify_preview_url)&&o.jsxs("div",{className:"absolute bottom-2 left-2 right-2 z-10",children:[o.jsxs("button",{onClick:F,className:"bg-black/70 hover:bg-black/90 backdrop-blur-sm text-white px-2 py-1.5 sm:px-3 sm:py-2 rounded-full shadow-lg transition-all flex items-center gap-2 w-full",children:[A?o.jsx(im,{className:"w-4 h-4 sm:w-5 sm:h-5"}):o.jsx(lm,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsxs("div",{className:"text-left text-[10px] sm:text-xs flex-1 min-w-0",children:[o.jsx("div",{className:"font-semibold truncate",children:_.spotify_track_name}),o.jsx("div",{className:"text-white/80 truncate",children:_.spotify_artist_name})]})]}),o.jsx("audio",{id:`modal-audio-${e}`,src:_.spotify_preview_url})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col bg-white min-h-0",children:[o.jsxs("div",{className:"px-3 py-2 sm:px-4 sm:py-3 border-b flex-shrink-0",children:[o.jsx("h3",{className:"font-bold text-sm sm:text-base truncate",children:(_==null?void 0:_.title)||"Post"}),(_==null?void 0:_.caption)&&o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-0.5 line-clamp-2",children:_.caption})]}),o.jsx("div",{className:"px-3 py-2 sm:px-4 sm:py-3 border-b flex-shrink-0",children:o.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(P=>o.jsx("span",{className:`text-sm sm:text-base ${P<=x?"opacity-100":"opacity-20 grayscale"}`,children:""},P))}),o.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 whitespace-nowrap",children:[x>0?x.toFixed(1):"No ratings",j>0&&` (${j})`]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-xs sm:text-sm text-gray-700 font-medium",children:"Your rating:"}),o.jsx("div",{className:"flex items-center gap-0.5 sm:gap-1",children:[1,2,3,4,5].map(P=>o.jsx("button",{type:"button",onClick:()=>J(P),onMouseEnter:()=>v(P),onMouseLeave:()=>v(0),className:"transition-transform active:scale-110 touch-manipulation p-1",children:o.jsx("span",{className:`text-base sm:text-lg ${P<=(b||w)?"opacity-100":"opacity-20 grayscale"}`,children:""})},P))})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-2 sm:px-4 sm:py-3 space-y-2 sm:space-y-3 min-h-0",children:c?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"})}):s.length===0?o.jsx("div",{className:"text-center py-8 sm:py-12 text-gray-500 text-xs sm:text-sm",children:"No comments yet. Be the first to comment!"}):s.map(P=>{var R,S,O,q,K;return o.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[(R=P.profiles)!=null&&R.avatar_url?o.jsx("img",{src:P.profiles.avatar_url,alt:P.profiles.username,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full object-cover flex-shrink-0"}):o.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-white font-medium text-xs flex-shrink-0",children:(q=(O=(S=P.profiles)==null?void 0:S.username)==null?void 0:O[0])==null?void 0:q.toUpperCase()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"bg-gray-100 rounded-2xl px-3 py-2",children:[o.jsx("button",{onClick:()=>{var V;return window.location.href=`/${((V=P.profiles)==null?void 0:V.username)||"user"}`},className:"font-semibold text-xs sm:text-sm hover:underline",children:(K=P.profiles)==null?void 0:K.username}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-700 break-words mt-0.5",children:P.text})]}),o.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 mt-1 px-3",children:new Date(P.created_at).toLocaleDateString()})]})]},P.id)})}),o.jsx("form",{onSubmit:X,className:"border-t px-3 py-2 sm:px-4 sm:py-3 bg-white flex-shrink-0",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(nt,{value:i,onChange:P=>l(P.target.value),placeholder:"Add a comment...",disabled:h,className:"flex-1 text-xs sm:text-sm h-9 sm:h-10"}),o.jsx(Y,{type:"submit",disabled:!i.trim()||h,size:"icon",className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 flex-shrink-0 h-9 w-9 sm:h-10 sm:w-10",children:o.jsx(So,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})})]})]})})})}function O5({onNavigate:e}){const{state:t,dispatch:r}=zs(),{isAdmin:n}=zc(),[s,a]=d.useState(""),[i,l]=d.useState(null),[c,u]=d.useState(null),[h,f]=d.useState([]),[p,m]=d.useState(null),[w,g]=d.useState(window.innerWidth<768),[b,v]=d.useState(!1);d.useEffect(()=>{const U=()=>g(window.innerWidth<768);return window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]),d.useEffect(()=>{const U=I=>{m(I.detail)};return window.addEventListener("open-shared-post",U),()=>{window.removeEventListener("open-shared-post",U)}},[]),d.useEffect(()=>{const U=async()=>{try{console.log("[Discover] Loading recipes from database...");const z=await Cb();console.log("[Discover] Loaded",z.length,"recipes from database"),f(z)}catch(z){console.error("Failed to load recipes:",z),f([])}};U();const I=()=>{document.visibilityState==="visible"&&U()};return document.addEventListener("visibilitychange",I),()=>{document.removeEventListener("visibilitychange",I)}},[]);const x=async U=>{try{await Eb(U),f(h.filter(I=>I.id!==U)),$.success("Recipe deleted successfully")}catch(I){console.error("Failed to delete recipe:",I),$.error("Failed to delete recipe")}},y=d.useMemo(()=>{const U=new Set(h.map(I=>I.cuisineType));return Array.from(U).sort()},[h]),j=d.useMemo(()=>h.filter(U=>{const I=s===""||U.title.toLowerCase().includes(s.toLowerCase())||U.tags.some(se=>se.toLowerCase().includes(s.toLowerCase()))||U.ingredients.some(se=>se.name.toLowerCase().includes(s.toLowerCase())),z=!i||U.cuisineType===i;return I&&z}),[s,i,h]),[N,_]=d.useState(!1),[k,A]=d.useState(!1),[C,E]=d.useState(!1),[M,D]=d.useState(!1),[W,J]=d.useState(!1),[X,F]=d.useState(!1),P=d.useMemo(()=>{const U=[...h].sort((I,z)=>(z.popularity||0)-(I.popularity||0));return N?U:U.slice(0,w?6:12)},[h,N,w]),R=d.useMemo(()=>{const U=h.filter(I=>I.prepTime+I.cookTime<=30&&I.difficulty==="Easy");return k?U:U.slice(0,w?6:12)},[h,k,w]),S=d.useMemo(()=>{const U=h.filter(I=>I.dietaryTags.includes("Vegetarian")||I.dietaryTags.includes("Vegan"));return C?U:U.slice(0,w?6:12)},[h,C,w]),O=d.useMemo(()=>{const U=["Thai","Japanese","Korean","Indian","Middle Eastern","Mexican","Vietnamese","Vegan/Vegetarian"],I=h.filter(z=>U.includes(z.cuisineType));return M?I:I.slice(0,w?6:12)},[h,M,w]),q=d.useMemo(()=>{const U=h.filter(I=>I.cuisineType==="Pet Meals");return W?U:U.slice(0,w?6:12)},[h,W,w]),K=d.useMemo(()=>{const U=h.filter(I=>I.cuisineType==="Culinary/Baked Goods");return X?U:U.slice(0,w?6:12)},[h,X,w]),[V,Z]=d.useState([]);d.useEffect(()=>{(()=>{const I=D2(h,t.savedRecipes,t.userPreferences,6);Z(I)})()},[h,t.savedRecipes,t.userPreferences,w]);const re=d.useMemo(()=>$2(t.savedRecipes),[t.savedRecipes]),ue=U=>{const I=h.find(z=>z.id===U);if(I){const z=t.savedRecipes.some(se=>se.id===U);r(z?{type:"REMOVE_RECIPE",payload:U}:{type:"SAVE_RECIPE",payload:I})}},Q=U=>{const I=h.find(z=>z.id===U);I&&(console.log("Cook clicked for:",I.title),u(I))},me=({title:U,subtitle:I,icon:z,recipes:se,showAll:ge,onToggle:ke,allCount:Pe,buttonColor:Te})=>o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:`bg-gradient-to-r ${Te} p-2 rounded-lg`,children:o.jsx(z,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:U}),o.jsx("p",{className:"text-sm md:text-base text-gray-600",children:I})]})]}),o.jsx("div",{className:`grid gap-4 md:gap-5 auto-rows-fr ${w?"grid-cols-2":"grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6"}`,children:se.map(H=>o.jsx(Ah,{recipe:H,onSave:ue,onCook:Q,onDelete:x,isAdmin:n,showReviewButton:!0},H.id))}),Pe>(w?6:12)&&o.jsx("div",{className:"text-center mt-8",children:o.jsx(Y,{onClick:()=>ke(!ge),variant:"outline",size:"lg",className:"text-sm md:text-base",children:ge?"Show Less":"Show More"})})]});return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[o.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[o.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-3 md:mb-4",children:"Discover Amazing Recipes"}),o.jsxs("p",{className:"text-sm md:text-base text-gray-600 max-w-2xl mx-auto mb-2",children:["Recipes scraped from across ",o.jsx("span",{className:"font-semibold text-blue-600",children:"social media"})," and the ",o.jsx("span",{className:"font-semibold text-blue-600",children:"web"})]}),o.jsx("p",{className:"text-xs md:text-sm text-gray-500 max-w-2xl mx-auto",children:"Save recipes  Add your own recipes  Plan your meals"})]}),o.jsxs("div",{className:"mb-8 md:mb-12 space-y-4 md:space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx(dw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(nt,{type:"text",placeholder:"Search recipes, ingredients...",value:s,onChange:U=>a(U.target.value),className:"pl-12 h-12 md:h-14 text-base border-gray-300 focus:border-orange-500 focus:ring-orange-500 shadow-sm"})]}),w?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>v(!b),className:"w-full flex items-center justify-between px-4 py-3 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[o.jsx("span",{className:"font-medium text-gray-900",children:i?`Cuisine: ${i}`:"Filter by Cuisine"}),b?o.jsx(Zt,{className:"w-5 h-5"}):o.jsx(om,{className:"w-5 h-5"})]}),b&&o.jsxs("div",{className:"space-y-2 bg-white border border-gray-200 rounded-lg p-3",children:[o.jsx(Y,{variant:i===null?"default":"outline",onClick:()=>{l(null),v(!1)},size:"sm",className:`w-full justify-start ${i===null?"bg-orange-500 hover:bg-orange-600":""}`,children:"All Cuisines"}),y.map(U=>o.jsx(Y,{variant:i===U?"default":"outline",onClick:()=>{l(U),v(!1)},size:"sm",className:`w-full justify-start text-sm ${i===U?"bg-orange-500 hover:bg-orange-600":""}`,children:U},U))]})]}):o.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[o.jsx(Y,{variant:i===null?"default":"outline",onClick:()=>l(null),size:"sm",className:i===null?"bg-orange-500 hover:bg-orange-600":"",children:"All Cuisines"}),y.map(U=>o.jsx(Y,{variant:i===U?"default":"outline",onClick:()=>l(U),size:"sm",className:i===U?"bg-orange-500 hover:bg-orange-600":"",children:U},U))]})]}),s===""&&i===null?o.jsxs("div",{className:"space-y-12 md:space-y-16",children:[o.jsx(me,{title:"Trending Now",subtitle:"Most popular recipes this week",icon:IE,recipes:P,showAll:N,onToggle:_,allCount:h.length,buttonColor:"from-orange-500 to-rose-500"}),o.jsx(me,{title:"Quick & Easy",subtitle:"Delicious meals ready in 30 minutes or less",icon:FE,recipes:R,showAll:k,onToggle:A,allCount:h.filter(U=>U.prepTime+U.cookTime<=30&&U.difficulty==="Easy").length,buttonColor:"from-emerald-500 to-teal-500"}),o.jsx(me,{title:"Healthy Options",subtitle:"Vegetarian and vegan recipes for a lighter meal",icon:_E,recipes:S,showAll:C,onToggle:E,allCount:h.filter(U=>U.dietaryTags.includes("Vegetarian")||U.dietaryTags.includes("Vegan")).length,buttonColor:"from-green-500 to-emerald-500"}),o.jsx(me,{title:"International Flavors",subtitle:"Explore cuisines from around the world",icon:lw,recipes:O,showAll:M,onToggle:D,allCount:h.filter(U=>["Thai","Japanese","Korean","Indian","Middle Eastern","Mexican","Vietnamese"].includes(U.cuisineType)).length,buttonColor:"from-amber-500 to-orange-500"}),q.length>0&&o.jsx(me,{title:"Pet Meals & Treats",subtitle:"Homemade recipes for your furry friends",icon:sm,recipes:q,showAll:W,onToggle:J,allCount:h.filter(U=>U.cuisineType==="Pet Meals").length,buttonColor:"from-pink-500 to-rose-500"}),K.length>0&&o.jsx(me,{title:"Culinary & Baked Goods",subtitle:"From artisan breads to elegant pastries",icon:pE,recipes:K,showAll:X,onToggle:F,allCount:h.filter(U=>U.cuisineType==="Culinary/Baked Goods").length,buttonColor:"from-amber-500 to-orange-500"}),o.jsx(me,{title:"Recommended for You",subtitle:re,icon:OE,recipes:V,showAll:!1,onToggle:()=>{},allCount:V.length,buttonColor:"from-blue-500 to-cyan-500"})]}):o.jsxs("section",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Search Results"}),o.jsxs("p",{className:"text-gray-600",children:["Found ",j.length," recipe",j.length!==1?"s":""]})]}),j.length>0?o.jsx("div",{className:`grid gap-4 md:gap-6 auto-rows-fr ${w?"grid-cols-2":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}`,children:j.map(U=>o.jsx(Ah,{recipe:U,onSave:ue,onCook:Q,onDelete:x,isAdmin:n,showReviewButton:!0},U.id))}):o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-lg text-gray-500",children:"No recipes found. Try adjusting your search."})})]})]}),c&&o.jsx(Pm,{recipe:c,onClose:()=>u(null)}),p&&o.jsx(eu,{postId:p,isOpen:!!p,onClose:()=>m(null),onCommentPosted:()=>{}})]})}const I5="modulepreload",M5=function(e){return"/"+e},dx={},xa=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=M5(c),c in dx)return;dx[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":I5,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function D5(e){if(!e)return[];const t=/#(\w+)/g,r=e.match(t);return r?r.map(n=>n.slice(1).toLowerCase()).filter((n,s,a)=>a.indexOf(n)===s):[]}function $5(e,t){return e&&e.split(/(\s+)/g).map((n,s)=>{if(n.startsWith("#")){const a=n.slice(1);return te.createElement("span",{key:s,onClick:i=>{i.stopPropagation(),t(a)},className:"text-blue-600 hover:text-blue-700 cursor-pointer font-semibold"},n)}return n.startsWith("http://")||n.startsWith("https://")?te.createElement("a",{key:s,href:n,target:"_blank",rel:"noopener noreferrer",onClick:a=>a.stopPropagation(),className:"text-blue-600 hover:underline"},n):te.createElement("span",{key:s},n)})}function L5({userId:e,currentUserId:t,posts:r,isFollowing:n,onBack:s,onToggleFollow:a,onMessage:i,onRefresh:l}){var P,R;const c=r.filter(S=>S.user_id===e),[u,h]=d.useState(null),[f,p]=d.useState(null),[m,w]=d.useState(new Set),[g,b]=d.useState(0),[v,x]=d.useState(0),[y,j]=d.useState(!1),[N,_]=d.useState(!1),[k,A]=d.useState([]),[C,E]=d.useState([]),[M,D]=d.useState(null);d.useEffect(()=>{const S=async()=>{const{data:K}=await L.from("profiles").select("username, avatar_url, bio, banner_url").eq("id",e).maybeSingle();K&&h(K)},O=async()=>{const{count:K}=await L.from("follows").select("*",{count:"exact",head:!0}).eq("following_id",e),{count:V}=await L.from("follows").select("*",{count:"exact",head:!0}).eq("follower_id",e);b(K||0),x(V||0)},q=async()=>{if(!t)return;const{data:K}=await L.from("likes").select("post_id").eq("user_id",t).in("post_id",c.map(V=>V.id));K&&w(new Set(K.map(V=>V.post_id)))};S(),O(),q()},[e,t,c.length]);const W=async()=>{const{data:S}=await L.from("follows").select("follower_id, profiles:follower_id(id, username, avatar_url)").eq("following_id",e);A(S||[]),j(!0)},J=async()=>{const{data:S}=await L.from("follows").select("following_id, profiles:following_id(id, username, avatar_url)").eq("follower_id",e);E(S||[]),_(!0)},X=async S=>{if(!t)return;const{error:O}=await L.from("comments").delete().eq("id",S).eq("user_id",t);O?$.error("Failed to delete comment"):($.success("Comment deleted"),l&&l())},F=async S=>{if(!t)return;const O=m.has(S);try{if(O)await L.from("likes").delete().match({post_id:S,user_id:t}),w(q=>{const K=new Set(q);return K.delete(S),K});else{await L.from("likes").insert({post_id:S,user_id:t});const q=c.find(K=>K.id===S);q&&q.user_id!==t&&await L.from("notifications").insert({user_id:q.user_id,actor_id:t,type:"like",post_id:S}),w(K=>new Set(K).add(S))}}catch(q){console.error("Error toggling like:",q),$.error("Failed to update like")}};return o.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 px-4 py-3 shadow-sm",children:o.jsxs(Y,{onClick:s,variant:"ghost",className:"min-h-[44px] gap-2 touch-manipulation active:scale-95 transition-all",children:[o.jsx(Lo,{className:"w-5 h-5"}),"Back to Feed"]})}),o.jsxs("div",{className:"bg-white border-b border-gray-200",children:[o.jsx("div",{className:"relative h-32",children:u!=null&&u.banner_url?o.jsx("img",{src:u.banner_url,alt:"Banner",className:"w-full h-full object-cover",loading:"lazy"}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-orange-100 to-amber-100"})}),o.jsxs("div",{className:"relative px-4 pb-3",children:[o.jsxs("div",{className:"flex items-start gap-3 -mt-10",children:[o.jsx("div",{className:"relative flex-shrink-0",children:u!=null&&u.avatar_url?o.jsx("img",{src:u.avatar_url,alt:u.username,className:"w-20 h-20 rounded-full object-cover border-4 border-white shadow-lg"}):o.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-white text-2xl font-bold border-4 border-white shadow-lg",children:(R=(P=u==null?void 0:u.username)==null?void 0:P[0])==null?void 0:R.toUpperCase()})}),o.jsx("div",{className:"flex-1 pt-10 min-w-0",children:u!=null&&u.bio?o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 break-words",children:u.bio}):o.jsx("p",{className:"text-sm text-gray-400 italic",children:"No bio"})})]}),o.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 truncate",children:(u==null?void 0:u.username)||"Loading..."}),e==="51ad04fa-6d63-4c45-9423-76183eea7b39"&&o.jsx(Ia,{className:"w-5 h-5 text-yellow-500 fill-yellow-500 flex-shrink-0"})]}),e!==t&&o.jsxs("div",{className:"flex gap-2 mt-3",children:[o.jsxs(Y,{onClick:()=>{i&&u&&i(e,u.username)},variant:"outline",size:"sm",className:"flex-1 min-h-[44px] touch-manipulation active:scale-95 transition-all",children:[o.jsx(So,{className:"w-4 h-4 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Message"})]}),o.jsx(Y,{onClick:()=>a(e),variant:n?"outline":"default",size:"sm",className:`flex-1 min-h-[44px] touch-manipulation active:scale-95 transition-all ${n?"":"bg-orange-500 hover:bg-orange-600"}`,children:n?o.jsxs(o.Fragment,{children:[o.jsx(DE,{className:"w-4 h-4 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Supporting"})]}):o.jsxs(o.Fragment,{children:[o.jsx($E,{className:"w-4 h-4 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Support"})]})})]})]}),o.jsx("div",{className:"px-4 py-3 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-center gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-base font-bold",children:c.length}),o.jsx("div",{className:"text-xs text-gray-500",children:"posts"})]}),o.jsxs("button",{onClick:W,className:"text-center hover:bg-gray-50 px-3 py-1 rounded-lg transition-colors min-h-[44px] touch-manipulation active:scale-95",children:[o.jsx("div",{className:"text-base font-bold",children:g}),o.jsx("div",{className:"text-xs text-gray-500",children:"supporters"})]}),o.jsxs("button",{onClick:J,className:"text-center hover:bg-gray-50 px-3 py-1 rounded-lg transition-colors min-h-[44px] touch-manipulation active:scale-95",children:[o.jsx("div",{className:"text-base font-bold",children:v}),o.jsx("div",{className:"text-xs text-gray-500",children:"supporting"})]})]})})]}),o.jsx("div",{className:"p-4",children:c.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:"No posts yet"}):o.jsx("div",{className:"space-y-4",children:c.map(S=>{var q,K,V;const O=m.has(S.id);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"relative",children:[S.image_url?o.jsx("img",{src:S.image_url,alt:S.title||"Post",className:"w-full aspect-square object-cover",loading:"lazy"}):S.video_url?o.jsx("video",{src:S.video_url,controls:!0,className:"w-full aspect-square object-cover"}):null,S.title&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent px-3 py-2",children:o.jsx("h3",{className:"text-white text-sm font-semibold line-clamp-2",children:S.title})})]}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex gap-4 mb-2",children:[o.jsx("button",{onClick:()=>F(S.id),className:"transition-transform hover:scale-110 active:scale-95 min-h-[44px] min-w-[44px] flex items-center justify-center -ml-2 touch-manipulation",children:o.jsx(sm,{className:`w-6 h-6 ${O?"fill-red-500 text-red-500":"text-gray-600"}`})}),o.jsx("button",{onClick:()=>p(S.id),className:"transition-transform hover:scale-110 active:scale-95 min-h-[44px] min-w-[44px] flex items-center justify-center -ml-2 touch-manipulation",children:o.jsx(am,{className:"w-6 h-6 text-gray-600"})})]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[((q=S._count)==null?void 0:q.likes)||0," ",((K=S._count)==null?void 0:K.likes)===1?"like":"likes"]}),S.caption&&o.jsx("p",{className:"text-sm leading-relaxed break-words",children:S.caption}),S.latest_comment&&o.jsxs("div",{className:"mt-3 relative",onTouchStart:()=>{var Z;return((Z=S.latest_comment)==null?void 0:Z.user_id)===t&&D(S.latest_comment.id)},onTouchEnd:()=>setTimeout(()=>D(null),3e3),children:[o.jsxs("div",{className:"flex items-start gap-2 pr-10",children:[o.jsx("span",{className:"font-semibold text-sm flex-shrink-0",children:(V=S.latest_comment.profiles)==null?void 0:V.username}),o.jsx("span",{className:"text-sm text-gray-700 break-words",children:S.latest_comment.text})]}),S.latest_comment.user_id===t&&M===S.latest_comment.id&&o.jsx("button",{onClick:Z=>{Z.stopPropagation(),X(S.latest_comment.id)},className:"absolute top-0 right-0 w-10 h-10 bg-red-500 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-red-600 active:scale-90 z-10 touch-manipulation",title:"Delete comment",children:o.jsx(Yt,{className:"w-4 h-4"})})]}),S._count&&S._count.comments>0&&o.jsxs("button",{onClick:()=>p(S.id),className:"text-sm text-gray-500 mt-2 hover:text-gray-700 block min-h-[36px] touch-manipulation",children:["View all ",S._count.comments," ",S._count.comments===1?"comment":"comments"]})]})]},S.id)})})}),f&&(()=>{const S=c.find(q=>q.id===f),O=S&&t&&t===S.user_id;return S?o.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-hidden",children:[o.jsx(eu,{postId:f,isOpen:!0,onClose:()=>p(null)}),o.jsx("button",{onClick:()=>p(null),className:"absolute top-3 left-3 bg-black/50 backdrop-blur-md text-white p-2.5 rounded-full shadow hover:bg-black/70 z-[100] min-h-[44px] min-w-[44px] touch-manipulation active:scale-95",title:"Close",children:o.jsx(Lo,{className:"w-5 h-5"})}),O&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{const q=prompt("Edit your caption:");q&&L.from("posts").update({caption:q}).eq("id",f).eq("user_id",t).then(({error:K})=>{K?$.error("Failed to update post"):($.success("Post updated"),l&&l())})},className:"absolute top-3 right-14 bg-blue-600 text-white p-2.5 rounded-full shadow hover:bg-blue-700 z-[100] min-h-[44px] min-w-[44px] touch-manipulation active:scale-95",title:"Edit post",children:""}),o.jsx("button",{onClick:async()=>{if(!confirm("Delete this post?"))return;const{error:q}=await L.from("posts").delete().eq("id",f).eq("user_id",t);q?$.error("Failed to delete post"):($.success("Post deleted"),p(null),l&&l())},className:"absolute top-3 right-3 bg-red-600 text-white p-2.5 rounded-full shadow hover:bg-red-700 z-[100] min-h-[44px] min-w-[44px] touch-manipulation active:scale-95",title:"Delete post",children:o.jsx(Yt,{className:"w-5 h-5"})})]})]})}):null})(),o.jsx(_t,{open:y,onOpenChange:j,children:o.jsxs(vt,{className:"max-w-sm",children:[o.jsx(Bt,{children:o.jsx(Dt,{children:"Supporters"})}),o.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[k.map(S=>{var O,q,K,V;return o.jsxs("div",{className:"flex items-center gap-3 min-h-[44px]",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-red-400 flex items-center justify-center text-white font-bold flex-shrink-0",children:((K=(q=(O=S.profiles)==null?void 0:O.username)==null?void 0:q[0])==null?void 0:K.toUpperCase())||o.jsx(oc,{className:"w-5 h-5"})}),o.jsx("span",{className:"font-medium truncate",children:((V=S.profiles)==null?void 0:V.username)||"User"})]},S.follower_id)}),k.length===0&&o.jsx("p",{className:"text-center text-gray-500 py-8",children:"No supporters yet"})]})]})}),o.jsx(_t,{open:N,onOpenChange:_,children:o.jsxs(vt,{className:"max-w-sm",children:[o.jsx(Bt,{children:o.jsx(Dt,{children:"Supporting"})}),o.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[C.map(S=>{var O,q,K,V;return o.jsxs("div",{className:"flex items-center gap-3 min-h-[44px]",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-red-400 flex items-center justify-center text-white font-bold flex-shrink-0",children:((K=(q=(O=S.profiles)==null?void 0:O.username)==null?void 0:q[0])==null?void 0:K.toUpperCase())||o.jsx(oc,{className:"w-5 h-5"})}),o.jsx("span",{className:"font-medium truncate",children:((V=S.profiles)==null?void 0:V.username)||"User"})]},S.following_id)}),C.length===0&&o.jsx("p",{className:"text-center text-gray-500 py-8",children:"Not supporting anyone yet"})]})]})})]})}function hx(e){const t=U5(e),r=d.forwardRef((n,s)=>{const{children:a,...i}=n,l=d.Children.toArray(a),c=l.find(z5);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function U5(e){const t=d.forwardRef((r,n)=>{const{children:s,...a}=r;if(d.isValidElement(s)){const i=V5(s),l=B5(a,s.props);return s.type!==d.Fragment&&(l.ref=n?Rn(n,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var F5=Symbol("radix.slottable");function z5(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===F5}function B5(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function V5(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _i(e){const t=e+"CollectionProvider",[r,n]=er(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:b,children:v}=g,x=te.useRef(null),y=te.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:y,collectionRef:x,children:v})};i.displayName=t;const l=e+"CollectionSlot",c=hx(l),u=te.forwardRef((g,b)=>{const{scope:v,children:x}=g,y=a(l,v),j=Re(b,y.collectionRef);return o.jsx(c,{ref:j,children:x})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",p=hx(h),m=te.forwardRef((g,b)=>{const{scope:v,children:x,...y}=g,j=te.useRef(null),N=Re(b,j),_=a(h,v);return te.useEffect(()=>(_.itemMap.set(j,{ref:j,...y}),()=>void _.itemMap.delete(j))),o.jsx(p,{[f]:"",ref:N,children:x})});m.displayName=h;function w(g){const b=a(e+"CollectionConsumer",g);return te.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((_,k)=>y.indexOf(_.ref.current)-y.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},w,n]}const W5=["top","right","bottom","left"],ns=Math.min,sr=Math.max,dc=Math.round,il=Math.floor,on=e=>({x:e,y:e}),q5={left:"right",right:"left",bottom:"top",top:"bottom"},H5={start:"end",end:"start"};function Oh(e,t,r){return sr(e,ns(t,r))}function kn(e,t){return typeof e=="function"?e(t):e}function Cn(e){return e.split("-")[0]}function Jo(e){return e.split("-")[1]}function Am(e){return e==="x"?"y":"x"}function Om(e){return e==="y"?"height":"width"}const K5=new Set(["top","bottom"]);function tn(e){return K5.has(Cn(e))?"y":"x"}function Im(e){return Am(tn(e))}function G5(e,t,r){r===void 0&&(r=!1);const n=Jo(e),s=Im(e),a=Om(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=hc(i)),[i,hc(i)]}function Y5(e){const t=hc(e);return[Ih(e),t,Ih(t)]}function Ih(e){return e.replace(/start|end/g,t=>H5[t])}const fx=["left","right"],mx=["right","left"],J5=["top","bottom"],X5=["bottom","top"];function Q5(e,t,r){switch(e){case"top":case"bottom":return r?t?mx:fx:t?fx:mx;case"left":case"right":return t?J5:X5;default:return[]}}function Z5(e,t,r,n){const s=Jo(e);let a=Q5(Cn(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Ih)))),a}function hc(e){return e.replace(/left|right|bottom|top/g,t=>q5[t])}function eT(e){return{top:0,right:0,bottom:0,left:0,...e}}function Pb(e){return typeof e!="number"?eT(e):{top:e,right:e,bottom:e,left:e}}function fc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function px(e,t,r){let{reference:n,floating:s}=e;const a=tn(t),i=Im(t),l=Om(i),c=Cn(t),u=a==="y",h=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:h,y:n.y-s.height};break;case"bottom":m={x:h,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Jo(t)){case"start":m[i]-=p*(r&&u?-1:1);break;case"end":m[i]+=p*(r&&u?-1:1);break}return m}const tT=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=px(u,n,c),p=n,m={},w=0;for(let g=0;g<l.length;g++){const{name:b,fn:v}=l[g],{x,y,data:j,reset:N}=await v({x:h,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});h=x??h,f=y??f,m={...m,[b]:{...m[b],...j}},N&&w<=50&&(w++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:h,y:f}=px(u,p,c)),g=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:m}};async function oi(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=kn(t,e),w=Pb(m),b=l[p?f==="floating"?"reference":"floating":f],v=fc(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),x=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},N=fc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:y,strategy:c}):x);return{top:(v.top-N.top+w.top)/j.y,bottom:(N.bottom-v.bottom+w.bottom)/j.y,left:(v.left-N.left+w.left)/j.x,right:(N.right-v.right+w.right)/j.x}}const rT=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=kn(e,t)||{};if(u==null)return{};const f=Pb(h),p={x:r,y:n},m=Im(s),w=Om(m),g=await i.getDimensions(u),b=m==="y",v=b?"top":"left",x=b?"bottom":"right",y=b?"clientHeight":"clientWidth",j=a.reference[w]+a.reference[m]-p[m]-a.floating[w],N=p[m]-a.reference[m],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=_?_[y]:0;(!k||!await(i.isElement==null?void 0:i.isElement(_)))&&(k=l.floating[y]||a.floating[w]);const A=j/2-N/2,C=k/2-g[w]/2-1,E=ns(f[v],C),M=ns(f[x],C),D=E,W=k-g[w]-M,J=k/2-g[w]/2+A,X=Oh(D,J,W),F=!c.arrow&&Jo(s)!=null&&J!==X&&a.reference[w]/2-(J<D?E:M)-g[w]/2<0,P=F?J<D?J-D:J-W:0;return{[m]:p[m]+P,data:{[m]:X,centerOffset:J-X-P,...F&&{alignmentOffset:P}},reset:F}}}),nT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...b}=kn(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=Cn(s),x=tn(l),y=Cn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=p||(y||!g?[hc(l)]:Y5(l)),_=w!=="none";!p&&_&&N.push(...Z5(l,g,w,j));const k=[l,...N],A=await oi(t,b),C=[];let E=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&C.push(A[v]),f){const J=G5(s,i,j);C.push(A[J[0]],A[J[1]])}if(E=[...E,{placement:s,overflows:C}],!C.every(J=>J<=0)){var M,D;const J=(((M=a.flip)==null?void 0:M.index)||0)+1,X=k[J];if(X&&(!(f==="alignment"?x!==tn(X):!1)||E.every(R=>tn(R.placement)===x?R.overflows[0]>0:!0)))return{data:{index:J,overflows:E},reset:{placement:X}};let F=(D=E.filter(P=>P.overflows[0]<=0).sort((P,R)=>P.overflows[1]-R.overflows[1])[0])==null?void 0:D.placement;if(!F)switch(m){case"bestFit":{var W;const P=(W=E.filter(R=>{if(_){const S=tn(R.placement);return S===x||S==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(S=>S>0).reduce((S,O)=>S+O,0)]).sort((R,S)=>R[1]-S[1])[0])==null?void 0:W[0];P&&(F=P);break}case"initialPlacement":F=l;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function gx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function xx(e){return W5.some(t=>e[t]>=0)}const sT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=kn(e,t);switch(n){case"referenceHidden":{const a=await oi(t,{...s,elementContext:"reference"}),i=gx(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:xx(i)}}}case"escaped":{const a=await oi(t,{...s,altBoundary:!0}),i=gx(a,r.floating);return{data:{escapedOffsets:i,escaped:xx(i)}}}default:return{}}}}},Tb=new Set(["left","top"]);async function oT(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Cn(r),l=Jo(r),c=tn(r)==="y",u=Tb.has(i)?-1:1,h=a&&c?-1:1,f=kn(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(m=l==="end"?w*-1:w),c?{x:m*h,y:p*u}:{x:p*u,y:m*h}}const aT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await oT(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},iT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:v,y:x}=b;return{x:v,y:x}}},...c}=kn(e,t),u={x:r,y:n},h=await oi(t,c),f=tn(Cn(s)),p=Am(f);let m=u[p],w=u[f];if(a){const b=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=m+h[b],y=m-h[v];m=Oh(x,m,y)}if(i){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=w+h[b],y=w-h[v];w=Oh(x,w,y)}const g=l.fn({...t,[p]:m,[f]:w});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[p]:a,[f]:i}}}}}},lT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=kn(e,t),h={x:r,y:n},f=tn(s),p=Am(f);let m=h[p],w=h[f];const g=kn(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const y=p==="y"?"height":"width",j=a.reference[p]-a.floating[y]+b.mainAxis,N=a.reference[p]+a.reference[y]-b.mainAxis;m<j?m=j:m>N&&(m=N)}if(u){var v,x;const y=p==="y"?"width":"height",j=Tb.has(Cn(s)),N=a.reference[f]-a.floating[y]+(j&&((v=i.offset)==null?void 0:v[f])||0)+(j?0:b.crossAxis),_=a.reference[f]+a.reference[y]+(j?0:((x=i.offset)==null?void 0:x[f])||0)-(j?b.crossAxis:0);w<N?w=N:w>_&&(w=_)}return{[p]:m,[f]:w}}}},cT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=kn(e,t),h=await oi(t,u),f=Cn(s),p=Jo(s),m=tn(s)==="y",{width:w,height:g}=a.floating;let b,v;f==="top"||f==="bottom"?(b=f,v=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,b=p==="end"?"top":"bottom");const x=g-h.top-h.bottom,y=w-h.left-h.right,j=ns(g-h[b],x),N=ns(w-h[v],y),_=!t.middlewareData.shift;let k=j,A=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),_&&!p){const E=sr(h.left,0),M=sr(h.right,0),D=sr(h.top,0),W=sr(h.bottom,0);m?A=w-2*(E!==0||M!==0?E+M:sr(h.left,h.right)):k=g-2*(D!==0||W!==0?D+W:sr(h.top,h.bottom))}await c({...t,availableWidth:A,availableHeight:k});const C=await i.getDimensions(l.floating);return w!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function tu(){return typeof window<"u"}function Xo(e){return Ab(e)?(e.nodeName||"").toLowerCase():"#document"}function ur(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function dn(e){var t;return(t=(Ab(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ab(e){return tu()?e instanceof Node||e instanceof ur(e).Node:!1}function Kr(e){return tu()?e instanceof Element||e instanceof ur(e).Element:!1}function cn(e){return tu()?e instanceof HTMLElement||e instanceof ur(e).HTMLElement:!1}function vx(e){return!tu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ur(e).ShadowRoot}const uT=new Set(["inline","contents"]);function Si(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Gr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!uT.has(s)}const dT=new Set(["table","td","th"]);function hT(e){return dT.has(Xo(e))}const fT=[":popover-open",":modal"];function ru(e){return fT.some(t=>{try{return e.matches(t)}catch{return!1}})}const mT=["transform","translate","scale","rotate","perspective"],pT=["transform","translate","scale","rotate","perspective","filter"],gT=["paint","layout","strict","content"];function Mm(e){const t=Dm(),r=Kr(e)?Gr(e):e;return mT.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||pT.some(n=>(r.willChange||"").includes(n))||gT.some(n=>(r.contain||"").includes(n))}function xT(e){let t=ss(e);for(;cn(t)&&!zo(t);){if(Mm(t))return t;if(ru(t))return null;t=ss(t)}return null}function Dm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vT=new Set(["html","body","#document"]);function zo(e){return vT.has(Xo(e))}function Gr(e){return ur(e).getComputedStyle(e)}function nu(e){return Kr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ss(e){if(Xo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vx(e)&&e.host||dn(e);return vx(t)?t.host:t}function Ob(e){const t=ss(e);return zo(t)?e.ownerDocument?e.ownerDocument.body:e.body:cn(t)&&Si(t)?t:Ob(t)}function ai(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Ob(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=ur(s);if(a){const l=Mh(i);return t.concat(i,i.visualViewport||[],Si(s)?s:[],l&&r?ai(l):[])}return t.concat(s,ai(s,[],r))}function Mh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ib(e){const t=Gr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=cn(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=dc(r)!==a||dc(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function $m(e){return Kr(e)?e:e.contextElement}function Eo(e){const t=$m(e);if(!cn(t))return on(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=Ib(t);let i=(a?dc(r.width):r.width)/n,l=(a?dc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const yT=on(0);function Mb(e){const t=ur(e);return!Dm()||!t.visualViewport?yT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wT(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ur(e)?!1:t}function Ms(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=$m(e);let i=on(1);t&&(n?Kr(n)&&(i=Eo(n)):i=Eo(e));const l=wT(a,r,n)?Mb(a):on(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,h=s.width/i.x,f=s.height/i.y;if(a){const p=ur(a),m=n&&Kr(n)?ur(n):n;let w=p,g=Mh(w);for(;g&&n&&m!==w;){const b=Eo(g),v=g.getBoundingClientRect(),x=Gr(g),y=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*b.x,j=v.top+(g.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,h*=b.x,f*=b.y,c+=y,u+=j,w=ur(g),g=Mh(w)}}return fc({width:h,height:f,x:c,y:u})}function su(e,t){const r=nu(e).scrollLeft;return t?t.left+r:Ms(dn(e)).left+r}function Db(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-su(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function bT(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=dn(n),l=t?ru(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=on(1);const h=on(0),f=cn(n);if((f||!f&&!a)&&((Xo(n)!=="body"||Si(i))&&(c=nu(n)),cn(n))){const m=Ms(n);u=Eo(n),h.x=m.x+n.clientLeft,h.y=m.y+n.clientTop}const p=i&&!f&&!a?Db(i,c):on(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+p.x,y:r.y*u.y-c.scrollTop*u.y+h.y+p.y}}function jT(e){return Array.from(e.getClientRects())}function NT(e){const t=dn(e),r=nu(e),n=e.ownerDocument.body,s=sr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=sr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+su(e);const l=-r.scrollTop;return Gr(n).direction==="rtl"&&(i+=sr(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}const yx=25;function _T(e,t){const r=ur(e),n=dn(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const h=Dm();(!h||h&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=su(n);if(u<=0){const h=n.ownerDocument,f=h.body,p=getComputedStyle(f),m=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(n.clientWidth-f.clientWidth-m);w<=yx&&(a-=w)}else u<=yx&&(a+=u);return{width:a,height:i,x:l,y:c}}const ST=new Set(["absolute","fixed"]);function kT(e,t){const r=Ms(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=cn(e)?Eo(e):on(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function wx(e,t,r){let n;if(t==="viewport")n=_T(e,r);else if(t==="document")n=NT(dn(e));else if(Kr(t))n=kT(t,r);else{const s=Mb(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return fc(n)}function $b(e,t){const r=ss(e);return r===t||!Kr(r)||zo(r)?!1:Gr(r).position==="fixed"||$b(r,t)}function CT(e,t){const r=t.get(e);if(r)return r;let n=ai(e,[],!1).filter(l=>Kr(l)&&Xo(l)!=="body"),s=null;const a=Gr(e).position==="fixed";let i=a?ss(e):e;for(;Kr(i)&&!zo(i);){const l=Gr(i),c=Mm(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&ST.has(s.position)||Si(i)&&!c&&$b(e,i))?n=n.filter(h=>h!==i):s=l,i=ss(i)}return t.set(e,n),n}function ET(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?ru(t)?[]:CT(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,h)=>{const f=wx(t,h,s);return u.top=sr(f.top,u.top),u.right=ns(f.right,u.right),u.bottom=ns(f.bottom,u.bottom),u.left=sr(f.left,u.left),u},wx(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function RT(e){const{width:t,height:r}=Ib(e);return{width:t,height:r}}function PT(e,t,r){const n=cn(t),s=dn(t),a=r==="fixed",i=Ms(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=on(0);function u(){c.x=su(s)}if(n||!n&&!a)if((Xo(t)!=="body"||Si(s))&&(l=nu(t)),n){const m=Ms(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();a&&!n&&s&&u();const h=s&&!n&&!a?Db(s,l):on(0),f=i.left+l.scrollLeft-c.x-h.x,p=i.top+l.scrollTop-c.y-h.y;return{x:f,y:p,width:i.width,height:i.height}}function dd(e){return Gr(e).position==="static"}function bx(e,t){if(!cn(e)||Gr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return dn(e)===r&&(r=r.ownerDocument.body),r}function Lb(e,t){const r=ur(e);if(ru(e))return r;if(!cn(e)){let s=ss(e);for(;s&&!zo(s);){if(Kr(s)&&!dd(s))return s;s=ss(s)}return r}let n=bx(e,t);for(;n&&hT(n)&&dd(n);)n=bx(n,t);return n&&zo(n)&&dd(n)&&!Mm(n)?r:n||xT(e)||r}const TT=async function(e){const t=this.getOffsetParent||Lb,r=this.getDimensions,n=await r(e.floating);return{reference:PT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function AT(e){return Gr(e).direction==="rtl"}const OT={convertOffsetParentRelativeRectToViewportRelativeRect:bT,getDocumentElement:dn,getClippingRect:ET,getOffsetParent:Lb,getElementRects:TT,getClientRects:jT,getDimensions:RT,getScale:Eo,isElement:Kr,isRTL:AT};function Ub(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function IT(e,t){let r=null,n;const s=dn(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:h,top:f,width:p,height:m}=u;if(l||t(),!p||!m)return;const w=il(f),g=il(s.clientWidth-(h+p)),b=il(s.clientHeight-(f+m)),v=il(h),y={rootMargin:-w+"px "+-g+"px "+-b+"px "+-v+"px",threshold:sr(0,ns(1,c))||1};let j=!0;function N(_){const k=_[0].intersectionRatio;if(k!==c){if(!j)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!Ub(u,e.getBoundingClientRect())&&i(),j=!1}try{r=new IntersectionObserver(N,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,y)}r.observe(e)}return i(!0),a}function MT(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=$m(e),h=s||a?[...u?ai(u):[],...ai(t)]:[];h.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const f=u&&l?IT(u,r):null;let p=-1,m=null;i&&(m=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let w,g=c?Ms(e):null;c&&b();function b(){const v=Ms(e);g&&!Ub(g,v)&&r(),g=v,w=requestAnimationFrame(b)}return r(),()=>{var v;h.forEach(x=>{s&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const DT=aT,$T=iT,LT=nT,UT=cT,FT=sT,jx=rT,zT=lT,BT=(e,t,r)=>{const n=new Map,s={platform:OT,...r},a={...s.platform,_c:n};return tT(e,t,{...s,platform:a})};var VT=typeof document<"u",WT=function(){},kl=VT?d.useLayoutEffect:WT;function mc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!mc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!mc(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Fb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Nx(e,t){const r=Fb(e);return Math.round(t*r)/r}function hd(e){const t=d.useRef(e);return kl(()=>{t.current=e}),t}function qT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=d.useState(n);mc(p,n)||m(n);const[w,g]=d.useState(null),[b,v]=d.useState(null),x=d.useCallback(R=>{R!==_.current&&(_.current=R,g(R))},[]),y=d.useCallback(R=>{R!==k.current&&(k.current=R,v(R))},[]),j=a||w,N=i||b,_=d.useRef(null),k=d.useRef(null),A=d.useRef(h),C=c!=null,E=hd(c),M=hd(s),D=hd(u),W=d.useCallback(()=>{if(!_.current||!k.current)return;const R={placement:t,strategy:r,middleware:p};M.current&&(R.platform=M.current),BT(_.current,k.current,R).then(S=>{const O={...S,isPositioned:D.current!==!1};J.current&&!mc(A.current,O)&&(A.current=O,qo.flushSync(()=>{f(O)}))})},[p,t,r,M,D]);kl(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const J=d.useRef(!1);kl(()=>(J.current=!0,()=>{J.current=!1}),[]),kl(()=>{if(j&&(_.current=j),N&&(k.current=N),j&&N){if(E.current)return E.current(j,N,W);W()}},[j,N,W,E,C]);const X=d.useMemo(()=>({reference:_,floating:k,setReference:x,setFloating:y}),[x,y]),F=d.useMemo(()=>({reference:j,floating:N}),[j,N]),P=d.useMemo(()=>{const R={position:r,left:0,top:0};if(!F.floating)return R;const S=Nx(F.floating,h.x),O=Nx(F.floating,h.y);return l?{...R,transform:"translate("+S+"px, "+O+"px)",...Fb(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:S,top:O}},[r,l,F.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:W,refs:X,elements:F,floatingStyles:P}),[h,W,X,F,P])}const HT=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?jx({element:n.current,padding:s}).fn(r):{}:n?jx({element:n,padding:s}).fn(r):{}}}},KT=(e,t)=>({...DT(e),options:[e,t]}),GT=(e,t)=>({...$T(e),options:[e,t]}),YT=(e,t)=>({...zT(e),options:[e,t]}),JT=(e,t)=>({...LT(e),options:[e,t]}),XT=(e,t)=>({...UT(e),options:[e,t]}),QT=(e,t)=>({...FT(e),options:[e,t]}),ZT=(e,t)=>({...HT(e),options:[e,t]});var e3="Arrow",zb=d.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(_e.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});zb.displayName=e3;var t3=zb,Lm="Popper",[Bb,ou]=er(Lm),[r3,Vb]=Bb(Lm),Wb=e=>{const{__scopePopper:t,children:r}=e,[n,s]=d.useState(null);return o.jsx(r3,{scope:t,anchor:n,onAnchorChange:s,children:r})};Wb.displayName=Lm;var qb="PopperAnchor",Hb=d.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=Vb(qb,r),i=d.useRef(null),l=Re(t,i),c=d.useRef(null);return d.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||i.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:o.jsx(_e.div,{...s,ref:l})});Hb.displayName=qb;var Um="PopperContent",[n3,s3]=Bb(Um),Kb=d.forwardRef((e,t)=>{var Q,me,U,I,z,se;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:w,...g}=e,b=Vb(Um,r),[v,x]=d.useState(null),y=Re(t,ge=>x(ge)),[j,N]=d.useState(null),_=Jc(j),k=(_==null?void 0:_.width)??0,A=(_==null?void 0:_.height)??0,C=n+(a!=="center"?"-"+a:""),E=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(u)?u:[u],D=M.length>0,W={padding:E,boundary:M.filter(a3),altBoundary:D},{refs:J,floatingStyles:X,placement:F,isPositioned:P,middlewareData:R}=qT({strategy:"fixed",placement:C,whileElementsMounted:(...ge)=>MT(...ge,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[KT({mainAxis:s+A,alignmentAxis:i}),c&&GT({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?YT():void 0,...W}),c&&JT({...W}),XT({...W,apply:({elements:ge,rects:ke,availableWidth:Pe,availableHeight:Te})=>{const{width:H,height:ae}=ke.reference,G=ge.floating.style;G.setProperty("--radix-popper-available-width",`${Pe}px`),G.setProperty("--radix-popper-available-height",`${Te}px`),G.setProperty("--radix-popper-anchor-width",`${H}px`),G.setProperty("--radix-popper-anchor-height",`${ae}px`)}}),j&&ZT({element:j,padding:l}),i3({arrowWidth:k,arrowHeight:A}),p&&QT({strategy:"referenceHidden",...W})]}),[S,O]=Jb(F),q=Et(w);St(()=>{P&&(q==null||q())},[P,q]);const K=(Q=R.arrow)==null?void 0:Q.x,V=(me=R.arrow)==null?void 0:me.y,Z=((U=R.arrow)==null?void 0:U.centerOffset)!==0,[re,ue]=d.useState();return St(()=>{v&&ue(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:P?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(I=R.transformOrigin)==null?void 0:I.x,(z=R.transformOrigin)==null?void 0:z.y].join(" "),...((se=R.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(n3,{scope:r,placedSide:S,onArrowChange:N,arrowX:K,arrowY:V,shouldHideArrow:Z,children:o.jsx(_e.div,{"data-side":S,"data-align":O,...g,ref:y,style:{...g.style,animation:P?void 0:"none"}})})})});Kb.displayName=Um;var Gb="PopperArrow",o3={top:"bottom",right:"left",bottom:"top",left:"right"},Yb=d.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=s3(Gb,n),i=o3[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(t3,{...s,ref:r,style:{...s.style,display:"block"}})})});Yb.displayName=Gb;function a3(e){return e!==null}var i3=e=>({name:"transformOrigin",options:e,fn(t){var b,v,x;const{placement:r,rects:n,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=Jb(r),f={start:"0%",center:"50%",end:"100%"}[h],p=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let w="",g="";return u==="bottom"?(w=i?f:`${p}px`,g=`${-c}px`):u==="top"?(w=i?f:`${p}px`,g=`${n.floating.height+c}px`):u==="right"?(w=`${-c}px`,g=i?f:`${m}px`):u==="left"&&(w=`${n.floating.width+c}px`,g=i?f:`${m}px`),{data:{x:w,y:g}}}});function Jb(e){const[t,r="center"]=e.split("-");return[t,r]}var Xb=Wb,Qb=Hb,Zb=Kb,e1=Yb,fd="rovingFocusGroup.onEntryFocus",l3={bubbles:!1,cancelable:!0},ki="RovingFocusGroup",[Dh,t1,c3]=_i(ki),[u3,r1]=er(ki,[c3]),[d3,h3]=u3(ki),n1=d.forwardRef((e,t)=>o.jsx(Dh.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Dh.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(f3,{...e,ref:t})})}));n1.displayName=ki;var f3=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,p=d.useRef(null),m=Re(t,p),w=Yo(a),[g,b]=Hr({prop:i,defaultProp:l??null,onChange:c,caller:ki}),[v,x]=d.useState(!1),y=Et(u),j=t1(r),N=d.useRef(!1),[_,k]=d.useState(0);return d.useEffect(()=>{const A=p.current;if(A)return A.addEventListener(fd,y),()=>A.removeEventListener(fd,y)},[y]),o.jsx(d3,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:g,onItemFocus:d.useCallback(A=>b(A),[b]),onItemShiftTab:d.useCallback(()=>x(!0),[]),onFocusableItemAdd:d.useCallback(()=>k(A=>A+1),[]),onFocusableItemRemove:d.useCallback(()=>k(A=>A-1),[]),children:o.jsx(_e.div,{tabIndex:v||_===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ce(e.onMouseDown,()=>{N.current=!0}),onFocus:ce(e.onFocus,A=>{const C=!N.current;if(A.target===A.currentTarget&&C&&!v){const E=new CustomEvent(fd,l3);if(A.currentTarget.dispatchEvent(E),!E.defaultPrevented){const M=j().filter(F=>F.focusable),D=M.find(F=>F.active),W=M.find(F=>F.id===g),X=[D,W,...M].filter(Boolean).map(F=>F.ref.current);a1(X,h)}}N.current=!1}),onBlur:ce(e.onBlur,()=>x(!1))})})}),s1="RovingFocusGroupItem",o1=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=Br(),u=a||c,h=h3(s1,r),f=h.currentTabStopId===u,p=t1(r),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:g}=h;return d.useEffect(()=>{if(n)return m(),()=>w()},[n,m,w]),o.jsx(Dh.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(_e.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:ce(e.onMouseDown,b=>{n?h.onItemFocus(u):b.preventDefault()}),onFocus:ce(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:ce(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=g3(b,h.orientation,h.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=p().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const j=y.indexOf(b.currentTarget);y=h.loop?x3(y,j+1):y.slice(j+1)}setTimeout(()=>a1(y))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});o1.displayName=s1;var m3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function g3(e,t,r){const n=p3(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return m3[n]}function a1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function x3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var v3=n1,y3=o1;function w3(e){const t=b3(e),r=d.forwardRef((n,s)=>{const{children:a,...i}=n,l=d.Children.toArray(a),c=l.find(N3);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function b3(e){const t=d.forwardRef((r,n)=>{const{children:s,...a}=r;if(d.isValidElement(s)){const i=S3(s),l=_3(a,s.props);return s.type!==d.Fragment&&(l.ref=n?Rn(n,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var j3=Symbol("radix.slottable");function N3(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===j3}function _3(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function S3(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $h=["Enter"," "],k3=["ArrowDown","PageUp","Home"],i1=["ArrowUp","PageDown","End"],C3=[...k3,...i1],E3={ltr:[...$h,"ArrowRight"],rtl:[...$h,"ArrowLeft"]},R3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ci="Menu",[ii,P3,T3]=_i(Ci),[Vs,l1]=er(Ci,[T3,ou,r1]),au=ou(),c1=r1(),[A3,Ws]=Vs(Ci),[O3,Ei]=Vs(Ci),u1=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=e,l=au(t),[c,u]=d.useState(null),h=d.useRef(!1),f=Et(a),p=Yo(s);return d.useEffect(()=>{const m=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),o.jsx(Xb,{...l,children:o.jsx(A3,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(O3,{scope:t,onClose:d.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:i,children:n})})})};u1.displayName=Ci;var I3="MenuAnchor",Fm=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=au(r);return o.jsx(Qb,{...s,...n,ref:t})});Fm.displayName=I3;var zm="MenuPortal",[M3,d1]=Vs(zm,{forceMount:void 0}),h1=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=Ws(zm,t);return o.jsx(M3,{scope:t,forceMount:r,children:o.jsx(tr,{present:r||a.open,children:o.jsx(qc,{asChild:!0,container:s,children:n})})})};h1.displayName=zm;var _r="MenuContent",[D3,Bm]=Vs(_r),f1=d.forwardRef((e,t)=>{const r=d1(_r,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Ws(_r,e.__scopeMenu),i=Ei(_r,e.__scopeMenu);return o.jsx(ii.Provider,{scope:e.__scopeMenu,children:o.jsx(tr,{present:n||a.open,children:o.jsx(ii.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx($3,{...s,ref:t}):o.jsx(L3,{...s,ref:t})})})})}),$3=d.forwardRef((e,t)=>{const r=Ws(_r,e.__scopeMenu),n=d.useRef(null),s=Re(t,n);return d.useEffect(()=>{const a=n.current;if(a)return mm(a)},[]),o.jsx(Vm,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ce(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),L3=d.forwardRef((e,t)=>{const r=Ws(_r,e.__scopeMenu);return o.jsx(Vm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),U3=w3("MenuContent.ScrollLock"),Vm=d.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m,disableOutsideScroll:w,...g}=e,b=Ws(_r,r),v=Ei(_r,r),x=au(r),y=c1(r),j=P3(r),[N,_]=d.useState(null),k=d.useRef(null),A=Re(t,k,b.onContentChange),C=d.useRef(0),E=d.useRef(""),M=d.useRef(0),D=d.useRef(null),W=d.useRef("right"),J=d.useRef(0),X=w?Kc:d.Fragment,F=w?{as:U3,allowPinchZoom:!0}:void 0,P=S=>{var Q,me;const O=E.current+S,q=j().filter(U=>!U.disabled),K=document.activeElement,V=(Q=q.find(U=>U.ref.current===K))==null?void 0:Q.textValue,Z=q.map(U=>U.textValue),re=X3(Z,O,V),ue=(me=q.find(U=>U.textValue===re))==null?void 0:me.ref.current;(function U(I){E.current=I,window.clearTimeout(C.current),I!==""&&(C.current=window.setTimeout(()=>U(""),1e3))})(O),ue&&setTimeout(()=>ue.focus())};d.useEffect(()=>()=>window.clearTimeout(C.current),[]),fm();const R=d.useCallback(S=>{var q,K;return W.current===((q=D.current)==null?void 0:q.side)&&Z3(S,(K=D.current)==null?void 0:K.area)},[]);return o.jsx(D3,{scope:r,searchRef:E,onItemEnter:d.useCallback(S=>{R(S)&&S.preventDefault()},[R]),onItemLeave:d.useCallback(S=>{var O;R(S)||((O=k.current)==null||O.focus(),_(null))},[R]),onTriggerLeave:d.useCallback(S=>{R(S)&&S.preventDefault()},[R]),pointerGraceTimerRef:M,onPointerGraceIntentChange:d.useCallback(S=>{D.current=S},[]),children:o.jsx(X,{...F,children:o.jsx(Wc,{asChild:!0,trapped:s,onMountAutoFocus:ce(a,S=>{var O;S.preventDefault(),(O=k.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m,children:o.jsx(v3,{asChild:!0,...y,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:ce(c,S=>{v.isUsingKeyboardRef.current||S.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Zb,{role:"menu","aria-orientation":"vertical","data-state":R1(b.open),"data-radix-menu-content":"",dir:v.dir,...x,...g,ref:A,style:{outline:"none",...g.style},onKeyDown:ce(g.onKeyDown,S=>{const q=S.target.closest("[data-radix-menu-content]")===S.currentTarget,K=S.ctrlKey||S.altKey||S.metaKey,V=S.key.length===1;q&&(S.key==="Tab"&&S.preventDefault(),!K&&V&&P(S.key));const Z=k.current;if(S.target!==Z||!C3.includes(S.key))return;S.preventDefault();const ue=j().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);i1.includes(S.key)&&ue.reverse(),Y3(ue)}),onBlur:ce(e.onBlur,S=>{S.currentTarget.contains(S.target)||(window.clearTimeout(C.current),E.current="")}),onPointerMove:ce(e.onPointerMove,li(S=>{const O=S.target,q=J.current!==S.clientX;if(S.currentTarget.contains(O)&&q){const K=S.clientX>J.current?"right":"left";W.current=K,J.current=S.clientX}}))})})})})})})});f1.displayName=_r;var F3="MenuGroup",Wm=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(_e.div,{role:"group",...n,ref:t})});Wm.displayName=F3;var z3="MenuLabel",m1=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(_e.div,{...n,ref:t})});m1.displayName=z3;var pc="MenuItem",_x="menu.itemSelect",iu=d.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=d.useRef(null),i=Ei(pc,e.__scopeMenu),l=Bm(pc,e.__scopeMenu),c=Re(t,a),u=d.useRef(!1),h=()=>{const f=a.current;if(!r&&f){const p=new CustomEvent(_x,{bubbles:!0,cancelable:!0});f.addEventListener(_x,m=>n==null?void 0:n(m),{once:!0}),_w(f,p),p.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(p1,{...s,ref:c,disabled:r,onClick:ce(e.onClick,h),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),u.current=!0},onPointerUp:ce(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:ce(e.onKeyDown,f=>{const p=l.searchRef.current!=="";r||p&&f.key===" "||$h.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});iu.displayName=pc;var p1=d.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,i=Bm(pc,r),l=c1(r),c=d.useRef(null),u=Re(t,c),[h,f]=d.useState(!1),[p,m]=d.useState("");return d.useEffect(()=>{const w=c.current;w&&m((w.textContent??"").trim())},[a.children]),o.jsx(ii.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:o.jsx(y3,{asChild:!0,...l,focusable:!n,children:o.jsx(_e.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:ce(e.onPointerMove,li(w=>{n?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ce(e.onPointerLeave,li(w=>i.onItemLeave(w))),onFocus:ce(e.onFocus,()=>f(!0)),onBlur:ce(e.onBlur,()=>f(!1))})})})}),B3="MenuCheckboxItem",g1=d.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(b1,{scope:e.__scopeMenu,checked:r,children:o.jsx(iu,{role:"menuitemcheckbox","aria-checked":gc(r)?"mixed":r,...s,ref:t,"data-state":Hm(r),onSelect:ce(s.onSelect,()=>n==null?void 0:n(gc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});g1.displayName=B3;var x1="MenuRadioGroup",[V3,W3]=Vs(x1,{value:void 0,onValueChange:()=>{}}),v1=d.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=Et(n);return o.jsx(V3,{scope:e.__scopeMenu,value:r,onValueChange:a,children:o.jsx(Wm,{...s,ref:t})})});v1.displayName=x1;var y1="MenuRadioItem",w1=d.forwardRef((e,t)=>{const{value:r,...n}=e,s=W3(y1,e.__scopeMenu),a=r===s.value;return o.jsx(b1,{scope:e.__scopeMenu,checked:a,children:o.jsx(iu,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":Hm(a),onSelect:ce(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});w1.displayName=y1;var qm="MenuItemIndicator",[b1,q3]=Vs(qm,{checked:!1}),j1=d.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=q3(qm,r);return o.jsx(tr,{present:n||gc(a.checked)||a.checked===!0,children:o.jsx(_e.span,{...s,ref:t,"data-state":Hm(a.checked)})})});j1.displayName=qm;var H3="MenuSeparator",N1=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});N1.displayName=H3;var K3="MenuArrow",_1=d.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=au(r);return o.jsx(e1,{...s,...n,ref:t})});_1.displayName=K3;var G3="MenuSub",[O6,S1]=Vs(G3),va="MenuSubTrigger",k1=d.forwardRef((e,t)=>{const r=Ws(va,e.__scopeMenu),n=Ei(va,e.__scopeMenu),s=S1(va,e.__scopeMenu),a=Bm(va,e.__scopeMenu),i=d.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},h=d.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return d.useEffect(()=>h,[h]),d.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(Fm,{asChild:!0,...u,children:o.jsx(p1,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":R1(r.open),...e,ref:Rn(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ce(e.onPointerMove,li(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:ce(e.onPointerLeave,li(f=>{var m,w;h();const p=(m=r.content)==null?void 0:m.getBoundingClientRect();if(p){const g=(w=r.content)==null?void 0:w.dataset.side,b=g==="right",v=b?-5:5,x=p[b?"left":"right"],y=p[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x,y:p.top},{x:y,y:p.top},{x:y,y:p.bottom},{x,y:p.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ce(e.onKeyDown,f=>{var m;const p=a.searchRef.current!=="";e.disabled||p&&f.key===" "||E3[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});k1.displayName=va;var C1="MenuSubContent",E1=d.forwardRef((e,t)=>{const r=d1(_r,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Ws(_r,e.__scopeMenu),i=Ei(_r,e.__scopeMenu),l=S1(C1,e.__scopeMenu),c=d.useRef(null),u=Re(t,c);return o.jsx(ii.Provider,{scope:e.__scopeMenu,children:o.jsx(tr,{present:n||a.open,children:o.jsx(ii.Slot,{scope:e.__scopeMenu,children:o.jsx(Vm,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ce(e.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ce(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:ce(e.onKeyDown,h=>{var m;const f=h.currentTarget.contains(h.target),p=R3[i.dir].includes(h.key);f&&p&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),h.preventDefault())})})})})})});E1.displayName=C1;function R1(e){return e?"open":"closed"}function gc(e){return e==="indeterminate"}function Hm(e){return gc(e)?"indeterminate":e?"checked":"unchecked"}function Y3(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function J3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function X3(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=J3(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Q3(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,h=l.y,f=c.x,p=c.y;h>n!=p>n&&r<(f-u)*(n-h)/(p-h)+u&&(s=!s)}return s}function Z3(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Q3(r,t)}function li(e){return t=>t.pointerType==="mouse"?e(t):void 0}var eA=u1,tA=Fm,rA=h1,nA=f1,sA=Wm,oA=m1,aA=iu,iA=g1,lA=v1,cA=w1,uA=j1,dA=N1,hA=_1,fA=k1,mA=E1,lu="DropdownMenu",[pA]=er(lu,[l1]),qt=l1(),[gA,P1]=pA(lu),T1=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=qt(t),u=d.useRef(null),[h,f]=Hr({prop:s,defaultProp:a??!1,onChange:i,caller:lu});return o.jsx(gA,{scope:t,triggerId:Br(),triggerRef:u,contentId:Br(),open:h,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(p=>!p),[f]),modal:l,children:o.jsx(eA,{...c,open:h,onOpenChange:f,dir:n,modal:l,children:r})})};T1.displayName=lu;var A1="DropdownMenuTrigger",O1=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=P1(A1,r),i=qt(r);return o.jsx(tA,{asChild:!0,...i,children:o.jsx(_e.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Rn(t,a.triggerRef),onPointerDown:ce(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:ce(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});O1.displayName=A1;var xA="DropdownMenuPortal",I1=e=>{const{__scopeDropdownMenu:t,...r}=e,n=qt(t);return o.jsx(rA,{...n,...r})};I1.displayName=xA;var M1="DropdownMenuContent",D1=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=P1(M1,r),a=qt(r),i=d.useRef(!1);return o.jsx(nA,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:ce(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ce(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!s.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D1.displayName=M1;var vA="DropdownMenuGroup",yA=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return o.jsx(sA,{...s,...n,ref:t})});yA.displayName=vA;var wA="DropdownMenuLabel",$1=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return o.jsx(oA,{...s,...n,ref:t})});$1.displayName=wA;var bA="DropdownMenuItem",L1=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return o.jsx(aA,{...s,...n,ref:t})});L1.displayName=bA;var jA="DropdownMenuCheckboxItem",U1=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return o.jsx(iA,{...s,...n,ref:t})});U1.displayName=jA;var NA="DropdownMenuRadioGroup",_A=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return o.jsx(lA,{...s,...n,ref:t})});_A.displayName=NA;var SA="DropdownMenuRadioItem",F1=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return o.jsx(cA,{...s,...n,ref:t})});F1.displayName=SA;var kA="DropdownMenuItemIndicator",z1=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return o.jsx(uA,{...s,...n,ref:t})});z1.displayName=kA;var CA="DropdownMenuSeparator",B1=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return o.jsx(dA,{...s,...n,ref:t})});B1.displayName=CA;var EA="DropdownMenuArrow",RA=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return o.jsx(hA,{...s,...n,ref:t})});RA.displayName=EA;var PA="DropdownMenuSubTrigger",V1=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return o.jsx(fA,{...s,...n,ref:t})});V1.displayName=PA;var TA="DropdownMenuSubContent",W1=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=qt(r);return o.jsx(mA,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});W1.displayName=TA;var AA=T1,OA=O1,IA=I1,q1=D1,H1=$1,K1=L1,G1=U1,Y1=F1,J1=z1,X1=B1,Q1=V1,Z1=W1;const ej=AA,tj=OA,MA=d.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(Q1,{ref:s,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(p4,{className:"ml-auto h-4 w-4"})]}));MA.displayName=Q1.displayName;const DA=d.forwardRef(({className:e,...t},r)=>o.jsx(Z1,{ref:r,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));DA.displayName=Z1.displayName;const Km=d.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(IA,{children:o.jsx(q1,{ref:n,sideOffset:t,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Km.displayName=q1.displayName;const ci=d.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(K1,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));ci.displayName=K1.displayName;const $A=d.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(G1,{ref:s,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(J1,{children:o.jsx(Nm,{className:"h-4 w-4"})})}),t]}));$A.displayName=G1.displayName;const LA=d.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Y1,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(J1,{children:o.jsx(b4,{className:"h-4 w-4 fill-current"})})}),t]}));LA.displayName=Y1.displayName;const UA=d.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(H1,{ref:n,className:je("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));UA.displayName=H1.displayName;const FA=d.forwardRef(({className:e,...t},r)=>o.jsx(X1,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));FA.displayName=X1.displayName;var zA=Symbol("radix.slottable");function BA(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=zA,t}var rj="AlertDialog",[VA]=er(rj,[Dw]),Pn=Dw(),nj=e=>{const{__scopeAlertDialog:t,...r}=e,n=Pn(t);return o.jsx(Qw,{...n,...r,modal:!0})};nj.displayName=rj;var WA="AlertDialogTrigger",qA=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pn(r);return o.jsx(c4,{...s,...n,ref:t})});qA.displayName=WA;var HA="AlertDialogPortal",sj=e=>{const{__scopeAlertDialog:t,...r}=e,n=Pn(t);return o.jsx(Zw,{...n,...r})};sj.displayName=HA;var KA="AlertDialogOverlay",oj=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pn(r);return o.jsx(vm,{...s,...n,ref:t})});oj.displayName=KA;var Ro="AlertDialogContent",[GA,YA]=VA(Ro),JA=BA("AlertDialogContent"),aj=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=Pn(r),i=d.useRef(null),l=Re(t,i),c=d.useRef(null);return o.jsx(o4,{contentName:Ro,titleName:ij,docsSlug:"alert-dialog",children:o.jsx(GA,{scope:r,cancelRef:c,children:o.jsxs(ym,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:ce(s.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(JA,{children:n}),o.jsx(QA,{contentRef:i})]})})})});aj.displayName=Ro;var ij="AlertDialogTitle",lj=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pn(r);return o.jsx(wm,{...s,...n,ref:t})});lj.displayName=ij;var cj="AlertDialogDescription",uj=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pn(r);return o.jsx(bm,{...s,...n,ref:t})});uj.displayName=cj;var XA="AlertDialogAction",dj=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pn(r);return o.jsx(jm,{...s,...n,ref:t})});dj.displayName=XA;var hj="AlertDialogCancel",fj=d.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=YA(hj,r),a=Pn(r),i=Re(t,s);return o.jsx(jm,{...a,...n,ref:i})});fj.displayName=hj;var QA=({contentRef:e})=>{const t=`\`${Ro}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ro}\` by passing a \`${cj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ro}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ZA=nj,eO=sj,mj=oj,pj=aj,gj=dj,xj=fj,vj=lj,yj=uj;const xc=ZA,tO=eO,wj=d.forwardRef(({className:e,...t},r)=>o.jsx(mj,{className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));wj.displayName=mj.displayName;const ui=d.forwardRef(({className:e,...t},r)=>o.jsxs(tO,{children:[o.jsx(wj,{}),o.jsx(pj,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));ui.displayName=pj.displayName;const di=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",e),...t});di.displayName="AlertDialogHeader";const hi=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});hi.displayName="AlertDialogFooter";const fi=d.forwardRef(({className:e,...t},r)=>o.jsx(vj,{ref:r,className:je("text-lg font-semibold",e),...t}));fi.displayName=vj.displayName;const mi=d.forwardRef(({className:e,...t},r)=>o.jsx(yj,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));mi.displayName=yj.displayName;const pi=d.forwardRef(({className:e,...t},r)=>o.jsx(gj,{ref:r,className:je(hm(),e),...t}));pi.displayName=gj.displayName;const gi=d.forwardRef(({className:e,...t},r)=>o.jsx(xj,{ref:r,className:je(hm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));gi.displayName=xj.displayName;function rO({onNavigateToMessages:e,onNavigate:t,sharedPostId:r,onPostViewed:n}={}){const{isAdmin:s}=zc(),[a,i]=d.useState([]),[l,c]=d.useState(!0),[u,h]=d.useState(0),[f,p]=d.useState(!0),[m,w]=d.useState(null),[g,b]=d.useState(null),[v,x]=d.useState({}),[y,j]=d.useState(null),[N,_]=d.useState(null),[k,A]=d.useState(!1),[C,E]=d.useState(new Set),[M,D]=d.useState(null),[W,J]=d.useState(""),[X,F]=d.useState([]),[P,R]=d.useState(!1),[S,O]=d.useState(null),q=d.useRef(null),[K,V]=d.useState(null),[Z,re]=d.useState(0),[ue,Q]=d.useState(!1),[me,U]=d.useState([]),[I,z]=d.useState(null),[se,ge]=d.useState("followers"),[ke,Pe]=d.useState([]),[Te,H]=d.useState(new Set),[ae,G]=d.useState(!1),Se=10;d.useEffect(()=>{L.auth.getUser().then(async({data:T})=>{var pe;const oe=((pe=T.user)==null?void 0:pe.id)||null;if(w(oe),oe){const{data:Ie}=await L.from("follows").select("following_id").eq("follower_id",oe);Ie&&E(new Set(Ie.map(Ce=>Ce.following_id)))}})},[]),d.useEffect(()=>{const T=()=>{const Ie=window.location.pathname.match(/^\/post\/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})$/i);if(Ie){const Ce=Ie[1];console.log("[Discover] Opening shared post from URL:",Ce),b(Ce),window.history.replaceState({},"","/discover")}};T(),window.addEventListener("popstate",T);const oe=pe=>{pe.detail&&b(pe.detail)};return window.addEventListener("open-shared-post",oe),()=>{window.removeEventListener("popstate",T),window.removeEventListener("open-shared-post",oe)}},[]),d.useEffect(()=>{if(!m)return;const T=async()=>{console.log("[Notifications] Loading notifications for user:",m);const{data:pe,error:Ie}=await L.from("notifications").select("*").eq("user_id",m).neq("type","message").order("created_at",{ascending:!1}).limit(20);if(Ie){console.error("[Notifications] Error loading notifications:",Ie);return}if(console.log("[Notifications] Loaded notifications:",pe),pe){const Ce=[...new Set(pe.map(de=>de.actor_id))],{data:Ne}=await L.from("profiles").select("id, username, avatar_url").in("id",Ce);console.log("[Notifications] Loaded actor profiles:",Ne);const ye=new Map((Ne==null?void 0:Ne.map(de=>[de.id,de]))||[]),ze=pe.map(de=>({...de,actor:ye.get(de.actor_id)||{username:"Unknown",avatar_url:null}}));U(ze),re(ze.filter(de=>!de.read).length),console.log("[Notifications] Unread count:",ze.filter(de=>!de.read).length)}};T();const oe=L.channel("notifications-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${m}`},()=>{T()}).subscribe();return()=>{L.removeChannel(oe)}},[m]),d.useEffect(()=>{r&&m&&(async()=>{const{data:oe}=await L.from("posts").select("*, profiles(username, avatar_url), likes(user_id), comments(id)").eq("id",r).maybeSingle();oe&&(b(r),n&&n())})()},[r,m,n]);const ee=d.useCallback(async(T,oe=!1)=>{try{let pe=L.from("posts").select("*").order("created_at",{ascending:!1});if(K){const{data:ye}=await L.from("hashtags").select("id").eq("tag",K.toLowerCase()).maybeSingle();if(ye){const{data:ze}=await L.from("post_hashtags").select("post_id").eq("hashtag_id",ye.id),de=(ze||[]).map(Me=>Me.post_id);if(de.length===0){i([]),p(!1),c(!1);return}pe=pe.in("id",de)}else{i([]),p(!1),c(!1);return}}const{data:Ie,error:Ce}=await pe.range(T*Se,(T+1)*Se-1);if(Ce)throw Ce;const Ne=await Promise.all((Ie||[]).map(async ye=>{const{data:ze}=await L.from("profiles").select("username, avatar_url").eq("id",ye.user_id).single(),{data:de}=await L.from("likes").select("user_id").eq("post_id",ye.id),{count:Me}=await L.from("comments").select("*",{count:"exact",head:!0}).eq("post_id",ye.id),{data:Ue}=await L.from("comments").select("id, text, created_at, user_id, rating").eq("post_id",ye.id).order("created_at",{ascending:!1}).limit(2),ut=await Promise.all((Ue||[]).map(async lt=>{const{data:Be}=await L.from("profiles").select("username").eq("id",lt.user_id).single();return{...lt,profiles:Be}})),{data:mt}=await L.from("post_ratings").select("rating").eq("post_id",ye.id),Lt=(mt==null?void 0:mt.length)||0,gr=Lt>0?mt.reduce((lt,Be)=>lt+Be.rating,0)/Lt:0;return x(lt=>({...lt,[ye.id]:{average:gr,count:Lt}})),{...ye,profiles:ze,likes:de||[],comments:ut,_count:{likes:(de==null?void 0:de.length)||0,comments:Me||0}}}));oe?(i(Ne),h(0)):i(ye=>[...ye,...Ne]),p((Ie||[]).length===Se)}catch(pe){console.error("Error fetching posts:",pe),$.error("Failed to load posts")}finally{c(!1)}},[K]);d.useEffect(()=>{let T=!0,oe=null;return(async()=>{T&&await ee(0,!0)})(),oe=L.channel("posts-and-comments-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"posts"},async Ie=>{if(!T)return;const Ce=Ie.new,{data:Ne}=await L.from("profiles").select("username, avatar_url").eq("id",Ce.user_id).maybeSingle(),ye={...Ce,profiles:Ne||{username:"User",avatar_url:null},likes:[],comments:[],_count:{likes:0,comments:0}};i(ze=>ze.some(de=>de.id===ye.id)?ze:[ye,...ze])}).on("postgres_changes",{event:"INSERT",schema:"public",table:"comments"},()=>{}).on("postgres_changes",{event:"INSERT",schema:"public",table:"likes"},()=>{}).subscribe(),()=>{T=!1,oe&&L.removeChannel(oe)}},[]);const he=()=>{const T=u+1;h(T),ee(T)},we=async T=>{if(m)try{if(C.has(T)){const{error:pe}=await L.from("follows").delete().eq("follower_id",m).eq("following_id",T);if(pe)throw pe;E(Ie=>{const Ce=new Set(Ie);return Ce.delete(T),Ce}),$.success("Unsupported")}else{const{error:pe}=await L.from("follows").insert({follower_id:m,following_id:T});if(pe)throw pe;await L.from("notifications").insert({user_id:T,actor_id:m,type:"follow"}),E(Ie=>new Set([...Ie,T])),$.success("Supporting!")}}catch(oe){console.error("Error toggling follow:",oe),$.error("Failed to update follow status")}},$e=async()=>{if(y)try{const{error:T}=await L.from("posts").delete().eq("id",y);if(T)throw T;i(oe=>oe.filter(pe=>pe.id!==y)),$.success("Post deleted"),j(null)}catch(T){console.error("Error deleting post:",T),$.error("Failed to delete post")}},Tt=async T=>{var pe;const oe=(pe=T.target.files)==null?void 0:pe[0];if(!(!oe||!N)){A(!0);try{const Ie=oe.name.split(".").pop(),Ce=`${m}/${Date.now()}.${Ie}`,{error:Ne}=await L.storage.from("avatars").upload(Ce,oe);if(Ne)throw Ne;const{data:ye}=L.storage.from("avatars").getPublicUrl(Ce);_(ze=>ze?{...ze,photoUrl:ye.publicUrl}:null),$.success("Photo uploaded!")}catch(Ie){console.error("Error uploading photo:",Ie),$.error("Failed to upload photo")}finally{A(!1)}}},B=async()=>{if(N)try{const{error:T}=await L.from("posts").update({caption:N.caption.trim()||null,recipe_url:N.recipeUrl.trim()||null,photo_url:N.photoUrl.trim()||null,image_url:N.photoUrl.trim()||null}).eq("id",N.id);if(T)throw T;i(oe=>oe.map(pe=>pe.id===N.id?{...pe,caption:N.caption.trim()||null,image_url:N.photoUrl.trim()||null,recipe_url:N.recipeUrl.trim()||null,photo_url:N.photoUrl.trim()||null}:pe)),$.success("Post updated"),_(null)}catch(T){console.error("Error updating post:",T),$.error("Failed to update post")}},ie=async T=>{var Ie;if(!m)return;const oe=a.find(Ce=>Ce.id===T),pe=(Ie=oe==null?void 0:oe.likes)==null?void 0:Ie.some(Ce=>Ce.user_id===m);try{if(pe)await L.from("likes").delete().match({post_id:T,user_id:m}),i(Ce=>Ce.map(Ne=>Ne.id===T?{...Ne,likes:Ne.likes.filter(ye=>ye.user_id!==m),_count:{...Ne._count,likes:Ne._count.likes-1}}:Ne));else{await L.from("likes").insert({post_id:T,user_id:m});const Ce=a.find(Ne=>Ne.id===T);if(Ce&&Ce.user_id!==m){console.log("[Notifications] Sending like notification:",{user_id:Ce.user_id,actor_id:m,type:"like",post_id:T});const{data:Ne,error:ye}=await L.from("notifications").insert({user_id:Ce.user_id,actor_id:m,type:"like",post_id:T});ye?console.error("[Notifications] Error sending like notification:",ye):console.log("[Notifications] Like notification sent successfully:",Ne)}i(Ne=>Ne.map(ye=>ye.id===T?{...ye,likes:[...ye.likes,{user_id:m}],_count:{...ye._count,likes:ye._count.likes+1}}:ye))}}catch(Ce){console.error("Error toggling like:",Ce),$.error("Failed to update like")}};if(l)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading feed..."})]})});const ve=async T=>{console.log("[Search] Performing search for:",T);try{const{data:oe,error:pe}=await L.from("profiles").select("id, username, avatar_url").ilike("username",`${T}%`).limit(10);if(pe){console.error("[Search] Error:",pe),$.error("Search failed: "+pe.message),F([]),R(!1);return}console.log("[Search] Results:",oe),F(oe||[]),R(!0)}catch(oe){console.error("[Search] Exception:",oe),F([]),R(!1)}},Ae=T=>{if(J(T),q.current&&clearTimeout(q.current),!T.trim()){F([]),R(!1);return}q.current=setTimeout(()=>{ve(T)},300)},yt=async T=>{await L.from("notifications").update({read:!0}).eq("id",T),U(oe=>oe.map(pe=>pe.id===T?{...pe,read:!0}:pe)),re(oe=>Math.max(0,oe-1))},hn=T=>{T.key==="Enter"&&W.trim()&&(T.preventDefault(),q.current&&clearTimeout(q.current),X.length>0?(O(X[0].id),R(!1),J("")):ve(W))},at=async T=>{if(z(T),ge("followers"),H(new Set),G(!1),m){const{data:oe}=await L.from("follows").select("following_id, profiles:following_id(id, username, avatar_url)").eq("follower_id",m);Pe(oe||[])}},mr=async T=>{var Ne,ye;const oe=a.find(ze=>ze.id===T);if(!oe)return;const pe=((Ne=oe.profiles)==null?void 0:Ne.username)||"someone",Ie=`${window.location.origin}/${pe}?post=${T}`,Ce={title:oe.title||"Check out this recipe on MealScrape!",text:oe.caption?`${oe.caption}

Shared via MealScrape`:"I found this fire recipe on MealScrape!",url:Ie};if(navigator.share&&((ye=navigator.canShare)!=null&&ye.call(navigator,Ce)))try{await navigator.share(Ce),$.success("Shared successfully!")}catch(ze){ze.name!=="AbortError"&&(console.error("Native share failed:",ze),rr(Ie))}else rr(Ie)},rr=T=>{navigator.clipboard.writeText(T).then(()=>{$.success("Link copied to clipboard!")}).catch(()=>{$.error("Failed to copy link")})},pr=T=>{var Ce;const oe=a.find(Ne=>Ne.id===T);if(!oe)return;const Ie=`https://mealscrape.com/${((Ce=oe.profiles)==null?void 0:Ce.username)||"user"}?post=${T}`;navigator.clipboard.writeText(Ie).then(()=>{G(!0),$.success("Link copied!"),setTimeout(()=>G(!1),2e3)}).catch(Ne=>{console.error("Failed to copy:",Ne),$.error("Failed to copy link")})},et=async()=>{var Ce;if(!I||Te.size===0)return;const T=a.find(Ne=>Ne.id===I);if(!T)return;const pe=`https://mealscrape.com/${((Ce=T.profiles)==null?void 0:Ce.username)||"user"}?post=${I}`,Ie=`Check out this recipe: ${T.title||"Shared post"}
${pe}`;try{for(const Ne of Te){let ye=null;const{data:ze}=await L.from("conversations").select("id").or(`and(user1_id.eq.${m},user2_id.eq.${Ne}),and(user1_id.eq.${Ne},user2_id.eq.${m})`).maybeSingle();if(ze)ye=ze.id,console.log("Found existing conversation:",ye);else{const{data:Ue,error:ut}=await L.from("conversations").insert({user1_id:m,user2_id:Ne}).select().single();if(ut)throw console.error("Error creating conversation:",ut),ut;ye=Ue.id,console.log("Created new conversation:",ye)}const{error:de}=await L.from("direct_messages").insert({conversation_id:ye,sender_id:m,content:Ie});if(de)throw console.error("Error inserting message:",de),de;console.log("Message sent successfully to conversation:",ye);const{error:Me}=await L.from("conversations").update({updated_at:new Date().toISOString(),last_message_at:new Date().toISOString()}).eq("id",ye);Me&&console.error("Error updating conversation:",Me)}if($.success(`Shared with ${Te.size} ${Te.size===1?"person":"people"}!`),z(null),H(new Set),Te.size===1&&e){const Ne=Array.from(Te)[0],ye=ke.find(ze=>ze.following_id===Ne);ye!=null&&ye.profiles&&e(Ne,ye.profiles.username)}}catch(Ne){console.error("Error sharing post:",Ne),$.error("Failed to share post")}};return o.jsx("div",{className:"min-h-screen bg-gray-50 pb-32 overflow-x-hidden",children:o.jsxs("div",{className:"max-w-sm mx-auto w-full",onClick:()=>{Q(!1),R(!1)},children:[o.jsxs("div",{className:"fixed top-0 left-0 right-0 z-[100] bg-white border-b border-gray-200 p-4 max-w-sm mx-auto",style:{paddingTop:"max(1rem, env(safe-area-inset-top))"},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(dw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:W,onChange:T=>Ae(T.target.value),onKeyDown:hn,placeholder:"Search users...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),P&&o.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 bg-white border border-gray-200 rounded-lg max-h-60 overflow-y-auto shadow-lg z-50",children:X.length>0?X.map(T=>o.jsxs("button",{onClick:()=>{O(T.id),R(!1),J("")},className:"w-full flex items-center gap-2 p-2 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-0",children:[o.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-orange-400 to-red-400 overflow-hidden flex items-center justify-center",children:T.avatar_url?o.jsx("img",{src:T.avatar_url,alt:T.username,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-white font-semibold text-sm",children:T.username.charAt(0).toUpperCase()})}),o.jsx("span",{className:"font-medium text-gray-900",children:T.username})]},T.id)):o.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No users found"})})]}),o.jsxs("button",{onClick:async T=>{T.stopPropagation(),Q(!ue),!ue&&m&&(await L.from("notifications").update({read:!0}).eq("user_id",m).eq("read",!1),re(0))},className:"relative p-2 hover:bg-gray-100 rounded-full transition-colors flex-shrink-0",children:[o.jsx(uE,{className:"w-6 h-6 text-gray-700"}),Z>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-semibold",children:Z>9?"9+":Z})]})]}),ue&&o.jsx("div",{className:"absolute left-4 right-4 top-full mt-2 bg-white border border-gray-200 rounded-lg max-h-96 overflow-y-auto shadow-lg z-50",children:me.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No notifications yet"}):me.map(T=>{var oe;return o.jsx("div",{onClick:()=>{var pe;T.read||yt(T.id),Q(!1),T.post_id&&(T.type==="like"||T.type==="comment")?(console.log("[Notifications] Opening post:",T.post_id),b(T.post_id)):T.type==="follow"&&((pe=T.actor)!=null&&pe.username)&&(console.log("[Notifications] Opening profile:",T.actor.username),window.location.href=`/${T.actor.username}`)},className:`p-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${T.read?"":"bg-blue-50"}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-semibold",children:((oe=T.actor)==null?void 0:oe.username)||"Someone"}),T.type==="follow"&&" started following you",T.type==="like"&&" loved your post",T.type==="comment"&&" commented on your post",T.type==="message"&&" sent you a message"]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[new Date(T.created_at).toLocaleDateString()," at"," ",new Date(T.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),!T.read&&o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]})},T.id)})})]}),o.jsxs("div",{className:"pt-24",style:{paddingTop:"calc(5rem + env(safe-area-inset-top))"},children:[K&&o.jsxs("div",{className:"bg-blue-50 border-b border-blue-200 p-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(bE,{className:"w-4 h-4 text-blue-600"}),o.jsxs("span",{className:"text-sm font-semibold text-blue-900",children:["Posts tagged with #",K]})]}),o.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>V(null),className:"text-blue-600 hover:text-blue-700",children:"Clear"})]}),S?o.jsx(L5,{userId:S,currentUserId:m,posts:a,isFollowing:C.has(S),onBack:()=>O(null),onToggleFollow:we,onMessage:(T,oe)=>{e&&e(T,oe)},onRefresh:()=>ee(0,!0)}):a.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500",children:"No posts yet. Be the first to share!"})}):o.jsxs(o.Fragment,{children:[a.map(T=>{var Ce,Ne,ye,ze,de,Me,Ue,ut,mt,Lt,gr,lt;const oe=(Ce=T.likes)==null?void 0:Ce.some(Be=>Be.user_id===m),pe=((Ne=T.comments)==null?void 0:Ne.slice(0,2))||[],Ie=T.user_id===m;return o.jsxs("div",{className:"bg-white border-b border-gray-200 mb-2 flex flex-col min-h-0",children:[o.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[(ye=T.profiles)!=null&&ye.avatar_url?o.jsx("img",{src:T.profiles.avatar_url,alt:T.profiles.username,className:"w-8 h-8 rounded-full object-cover"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-white font-medium text-sm",children:((Me=(de=(ze=T.profiles)==null?void 0:ze.username)==null?void 0:de[0])==null?void 0:Me.toUpperCase())||o.jsx(oc,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>{var Be;window.location.href=`/${(Be=T.profiles)==null?void 0:Be.username}`},className:"font-semibold text-sm hover:underline cursor-pointer",children:(Ue=T.profiles)==null?void 0:Ue.username}),T.user_id==="51ad04fa-6d63-4c45-9423-76183eea7b39"&&o.jsx(Ia,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"})]})]}),(Ie||s)&&o.jsxs(ej,{children:[o.jsx(tj,{asChild:!0,children:o.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(iw,{className:"w-5 h-5 text-gray-600"})})}),o.jsxs(Km,{align:"end",children:[o.jsxs(ci,{onClick:()=>_({id:T.id,caption:T.caption||"",recipeUrl:T.recipe_url||"",photoUrl:T.photo_url||""}),className:"cursor-pointer",children:[o.jsx(kh,{className:"w-4 h-4 mr-2"}),"Edit post"]}),o.jsxs(ci,{onClick:()=>j(T.id),className:"cursor-pointer text-red-600",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Delete post"]})]})]})]}),o.jsxs("div",{className:"relative",children:[T.image_url?o.jsx("img",{src:T.image_url,alt:T.title||"Post",className:"w-full aspect-square object-cover"}):T.video_url?o.jsx("video",{src:T.video_url,controls:!0,className:"w-full aspect-square object-cover"}):null,T.spotify_preview_url&&o.jsxs("div",{className:"absolute top-4 right-4 z-10",children:[o.jsxs("button",{onClick:Be=>{Be.stopPropagation();const fn=document.getElementById(`audio-${T.id}`),qs=Be.currentTarget.querySelector(".play-icon");document.querySelectorAll("audio").forEach(rp=>{rp.id!==`audio-${T.id}`&&rp.pause()}),fn.paused?(fn.play(),qs&&(qs.textContent="Pause")):(fn.pause(),qs&&(qs.textContent="Play"))},className:"bg-black/70 hover:bg-black/90 backdrop-blur-sm text-white px-3 py-2 rounded-full shadow-lg transition-all flex items-center gap-2",children:[o.jsx("span",{className:"text-xl play-icon",children:"Play"}),o.jsxs("div",{className:"text-left text-xs max-w-32",children:[o.jsx("div",{className:"font-semibold truncate",children:T.spotify_track_name}),o.jsx("div",{className:"text-white/80 truncate",children:T.spotify_artist_name})]})]}),o.jsx("audio",{id:`audio-${T.id}`,src:T.spotify_preview_url})]}),T.title&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent px-4 py-3",children:o.jsxs("div",{className:"flex items-end justify-between gap-2",children:[o.jsx("h3",{className:"text-white text-sm font-semibold flex-1",children:T.title}),v[T.id]&&v[T.id].count>0&&o.jsxs("div",{className:"flex items-center gap-1 bg-black/50 px-2 py-1 rounded-full",children:[o.jsx("span",{className:"text-lg",children:""}),o.jsx("span",{className:"text-white text-xs font-semibold",children:v[T.id].average.toFixed(1)}),o.jsxs("span",{className:"text-white/70 text-xs",children:["(",v[T.id].count,")"]})]})]})})]}),o.jsxs("div",{className:"px-4 py-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>ie(T.id),className:"transition-transform hover:scale-110 relative",children:[o.jsx(sm,{className:`w-7 h-7 ${oe?"fill-red-500 text-red-500":"text-gray-700"}`}),((ut=T._count)==null?void 0:ut.likes)&&T._count.likes>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:T._count.likes})]}),o.jsxs("button",{onClick:()=>b(T.id),className:"transition-transform hover:scale-110 relative",children:[o.jsx(am,{className:"w-7 h-7 text-gray-700"}),((mt=T._count)==null?void 0:mt.comments)&&T._count.comments>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:T._count.comments})]}),o.jsx("button",{onClick:()=>at(T.id),className:"ml-auto transition-transform hover:scale-110",children:o.jsx(So,{className:"w-7 h-7 text-gray-700 hover:text-orange-600 transition-colors"})})]}),T.caption&&o.jsxs("div",{className:"text-sm",children:[o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx("span",{className:"font-semibold",children:(Lt=T.profiles)==null?void 0:Lt.username}),T.user_id==="51ad04fa-6d63-4c45-9423-76183eea7b39"&&o.jsx(Ia,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"})]})," ",o.jsx("span",{className:"text-gray-700",children:$5(T.caption,Be=>{V(Be),O(null)})})]}),(((gr=T._count)==null?void 0:gr.comments)||0)>0&&o.jsxs("button",{onClick:()=>b(T.id),className:"text-sm text-gray-500 hover:text-gray-700",children:["View all ",(lt=T._count)==null?void 0:lt.comments," comments"]}),pe.map(Be=>{var fn;return o.jsxs("div",{className:"text-sm",children:[o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx("span",{className:"font-semibold",children:(fn=Be.profiles)==null?void 0:fn.username}),Be.user_id==="51ad04fa-6d63-4c45-9423-76183eea7b39"&&o.jsx(Ia,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"})]})," ",o.jsx("span",{className:"text-gray-700",children:Be.text})]},Be.id)}),(T.recipe_id||T.recipe_url)&&o.jsxs(Y,{onClick:async()=>{if(T.recipe_id){const{getRecipeById:Be}=await xa(async()=>{const{getRecipeById:qs}=await Promise.resolve().then(()=>Rb);return{getRecipeById:qs}},void 0),fn=await Be(T.recipe_id);fn?D(fn):$.error("Recipe not found")}else T.recipe_url&&window.open(T.recipe_url,"_blank")},variant:"outline",size:"sm",className:"w-full mt-2 border-orange-600 text-orange-600 hover:bg-orange-50",children:[o.jsx(nm,{className:"w-4 h-4 mr-2"}),"View Recipe"]}),o.jsx("div",{className:"text-xs text-gray-400 uppercase pt-1",children:new Date(T.created_at).toLocaleDateString()})]})]},T.id)}),f&&o.jsx("div",{className:"py-8 text-center",children:o.jsx(Y,{onClick:he,variant:"outline",children:"Load More"})})]})]}),g&&o.jsx(eu,{postId:g,isOpen:!!g,onClose:()=>b(null),onCommentPosted:()=>ee(0,!0)}),o.jsx(xc,{open:!!y,onOpenChange:T=>!T&&j(null),children:o.jsxs(ui,{children:[o.jsxs(di,{children:[o.jsx(fi,{children:"Delete post?"}),o.jsx(mi,{children:"This action cannot be undone. This will permanently delete your post."})]}),o.jsxs(hi,{children:[o.jsx(gi,{children:"Cancel"}),o.jsx(pi,{onClick:$e,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),o.jsx(xc,{open:!!N,onOpenChange:T=>!T&&_(null),children:o.jsxs(ui,{className:"max-h-[90vh] overflow-y-auto",children:[o.jsxs(di,{children:[o.jsx(fi,{children:"Edit post"}),o.jsx(mi,{children:"Update your caption and recipe link."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Caption"}),o.jsx(Sn,{value:(N==null?void 0:N.caption)||"",onChange:T=>_(oe=>oe?{...oe,caption:T.target.value}:null),placeholder:"Write a caption...",className:"resize-none",rows:3})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Recipe URL"}),o.jsx("input",{type:"url",value:(N==null?void 0:N.recipeUrl)||"",onChange:T=>_(oe=>oe?{...oe,recipeUrl:T.target.value}:null),placeholder:"https://...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Change Photo/Video (Upload from device)"}),o.jsx("input",{type:"file",accept:"image/*,video/*",onChange:Tt,disabled:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"}),k&&o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Uploading..."}),(N==null?void 0:N.photoUrl)&&o.jsx("img",{src:N.photoUrl,alt:"Preview",className:"mt-2 w-32 h-32 object-cover rounded-lg",onError:T=>{T.currentTarget.style.display="none"}})]})]}),o.jsxs(hi,{children:[o.jsx(gi,{children:"Cancel"}),o.jsx(pi,{onClick:B,className:"bg-orange-600 hover:bg-orange-700",children:"Save changes"})]})]})}),M&&o.jsx(Sb,{recipe:M,open:!!M,onOpenChange:T=>!T&&D(null)}),o.jsx(_t,{open:!!I,onOpenChange:T=>!T&&z(null),children:o.jsxs(vt,{className:"sm:max-w-md max-h-[80vh] overflow-y-auto",children:[o.jsx(Bt,{children:o.jsx(Dt,{children:"Share"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[o.jsx("button",{onClick:()=>ge("followers"),className:`flex-1 py-2 px-4 font-medium transition-colors ${se==="followers"?"text-orange-600 border-b-2 border-orange-600":"text-gray-500 hover:text-gray-700"}`,children:"Send to Followers"}),o.jsx("button",{onClick:()=>ge("link"),className:`flex-1 py-2 px-4 font-medium transition-colors ${se==="link"?"text-orange-600 border-b-2 border-orange-600":"text-gray-500 hover:text-gray-700"}`,children:"Share Link"})]}),se==="followers"&&o.jsx("div",{className:"space-y-4",children:ke.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:"You don't have any followers yet"}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:ke.map(T=>{var Ie,Ce;const oe=T.profiles,pe=Te.has(T.following_id);return o.jsxs("button",{onClick:()=>{const Ne=new Set(Te);pe?Ne.delete(T.following_id):Ne.add(T.following_id),H(Ne)},className:`w-full flex items-center gap-3 p-3 rounded-lg transition-colors ${pe?"bg-orange-50 border-2 border-orange-500":"hover:bg-gray-50 border-2 border-transparent"}`,children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-red-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:oe!=null&&oe.avatar_url?o.jsx("img",{src:oe.avatar_url,alt:oe.username,className:"w-full h-full object-cover"}):(Ce=(Ie=oe==null?void 0:oe.username)==null?void 0:Ie[0])==null?void 0:Ce.toUpperCase()}),o.jsx("div",{className:"flex-1 text-left",children:o.jsx("div",{className:"font-semibold",children:oe==null?void 0:oe.username})}),pe&&o.jsx(rc,{className:"w-5 h-5 text-orange-600"})]},T.following_id)})}),o.jsxs(Y,{onClick:et,disabled:Te.size===0,className:"w-full bg-orange-500 hover:bg-orange-600",children:[o.jsx(So,{className:"w-4 h-4 mr-2"}),"Send to ",Te.size," ",Te.size===1?"person":"people"]})]})}),se==="link"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Y,{onClick:()=>I&&mr(I),className:"w-full bg-blue-500 hover:bg-blue-600",children:[o.jsx(So,{className:"w-4 h-4 mr-2"}),"Share via Apps"]}),o.jsx(Y,{onClick:()=>I&&pr(I),variant:"outline",className:"w-full",children:ae?o.jsxs(o.Fragment,{children:[o.jsx(rc,{className:"w-4 h-4 mr-2"}),"Link Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(_h,{className:"w-4 h-4 mr-2"}),"Copy Link"]})})]})]})]})})]})})}function nO(){const{state:e}=zs(),[t,r]=d.useState(null);return e.savedRecipes.length===0?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 pt-safe pb-safe",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:py-8 pb-28 sm:pb-24",children:[o.jsxs("div",{className:"mb-8 sm:mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-1 sm:mb-2",children:"My Recipes"}),o.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600",children:"Your saved recipes collection"})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 sm:py-12 md:py-20 px-4",children:[o.jsx("div",{className:"bg-gradient-to-br from-emerald-100 to-teal-100 p-8 sm:p-6 md:p-8 rounded-full mb-6 shadow-lg",children:o.jsx(fE,{className:"w-20 h-20 sm:w-16 sm:h-16 md:w-20 md:h-20 text-emerald-600"})}),o.jsx("h2",{className:"text-xl sm:text-xl md:text-2xl font-bold text-gray-900 mb-3 text-center px-4 leading-tight",children:"No Saved Recipes Yet"}),o.jsx("p",{className:"text-gray-600 text-center max-w-md mb-6 px-4 text-base sm:text-sm md:text-base leading-relaxed",children:"Start building your recipe collection by exploring and saving your favorite recipes from the Discover page."}),o.jsx("div",{className:"mt-2",children:o.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-emerald-600 font-medium bg-emerald-50 px-4 py-2 rounded-full",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),o.jsx("span",{children:"Explore recipes to get started"})]})})]})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 pt-safe pb-safe",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:py-6 pb-28 sm:pb-24",children:[o.jsxs("div",{className:"mb-6 sm:mb-6 flex items-start sm:items-center justify-between gap-3 sm:gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-1 leading-tight",children:"My Recipes"}),o.jsxs("p",{className:"text-sm sm:text-base md:text-xl text-gray-600 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"font-semibold text-emerald-600",children:e.savedRecipes.length}),o.jsxs("span",{children:["saved recipe",e.savedRecipes.length!==1?"s":""]})]})]}),o.jsx("div",{className:"bg-gradient-to-br from-emerald-100 to-teal-100 p-3 sm:p-3 md:p-4 rounded-2xl sm:rounded-full shadow-md shrink-0",children:o.jsx(ts,{className:"w-6 h-6 sm:w-6 sm:h-6 md:w-8 md:h-8 text-emerald-600"})})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-5 md:gap-6",children:e.savedRecipes.map(n=>o.jsx("div",{className:"flex w-full",children:o.jsx(Ah,{recipe:n,showReviewButton:!0,onCook:s=>{const a=e.savedRecipes.find(i=>i.id===s);a&&r(a)}})},n.id))}),e.savedRecipes.length>6&&o.jsx("div",{className:"mt-8 text-center",children:o.jsxs("div",{className:"inline-flex items-center gap-2 text-xs text-gray-400",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"}),o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"})]})})]}),t&&o.jsx("div",{className:"fixed inset-0 z-50",children:o.jsx(Pm,{recipe:t,onClose:()=>r(null)})})]})}var sO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oO=sO.reduce((e,t)=>{const r=um(`Primitive.${t}`),n=d.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),aO="Label",bj=d.forwardRef((e,t)=>o.jsx(oO.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));bj.displayName=aO;var jj=bj;const iO=Bc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=d.forwardRef(({className:e,...t},r)=>o.jsx(jj,{ref:r,className:je(iO(),e),...t}));Fe.displayName=jj.displayName;function lO(e){const t=cO(e),r=d.forwardRef((n,s)=>{const{children:a,...i}=n,l=d.Children.toArray(a),c=l.find(dO);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function cO(e){const t=d.forwardRef((r,n)=>{const{children:s,...a}=r;if(d.isValidElement(s)){const i=fO(s),l=hO(a,s.props);return s.type!==d.Fragment&&(l.ref=n?Rn(n,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uO=Symbol("radix.slottable");function dO(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uO}function hO(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function fO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Nj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mO="VisuallyHidden",pO=d.forwardRef((e,t)=>o.jsx(_e.span,{...e,ref:t,style:{...Nj,...e.style}}));pO.displayName=mO;var gO=[" ","Enter","ArrowUp","ArrowDown"],xO=[" ","Enter"],Ds="Select",[cu,uu,vO]=_i(Ds),[Qo]=er(Ds,[vO,ou]),du=ou(),[yO,ds]=Qo(Ds),[wO,bO]=Qo(Ds),_j=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:p,required:m,form:w}=e,g=du(t),[b,v]=d.useState(null),[x,y]=d.useState(null),[j,N]=d.useState(!1),_=Yo(u),[k,A]=Hr({prop:n,defaultProp:s??!1,onChange:a,caller:Ds}),[C,E]=Hr({prop:i,defaultProp:l,onChange:c,caller:Ds}),M=d.useRef(null),D=b?w||!!b.closest("form"):!0,[W,J]=d.useState(new Set),X=Array.from(W).map(F=>F.props.value).join(";");return o.jsx(Xb,{...g,children:o.jsxs(yO,{required:m,scope:t,trigger:b,onTriggerChange:v,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Br(),value:C,onValueChange:E,open:k,onOpenChange:A,dir:_,triggerPointerDownPosRef:M,disabled:p,children:[o.jsx(cu.Provider,{scope:t,children:o.jsx(wO,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(F=>{J(P=>new Set(P).add(F))},[]),onNativeOptionRemove:d.useCallback(F=>{J(P=>{const R=new Set(P);return R.delete(F),R})},[]),children:r})}),D?o.jsxs(Gj,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:F=>E(F.target.value),disabled:p,form:w,children:[C===void 0?o.jsx("option",{value:""}):null,Array.from(W)]},X):null]})})};_j.displayName=Ds;var Sj="SelectTrigger",kj=d.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=du(r),i=ds(Sj,r),l=i.disabled||n,c=Re(t,i.onTriggerChange),u=uu(r),h=d.useRef("touch"),[f,p,m]=Jj(g=>{const b=u().filter(y=>!y.disabled),v=b.find(y=>y.value===i.value),x=Xj(b,g,v);x!==void 0&&i.onValueChange(x.value)}),w=g=>{l||(i.onOpenChange(!0),m()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(Qb,{asChild:!0,...a,children:o.jsx(_e.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Yj(i.value)?"":void 0,...s,ref:c,onClick:ce(s.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&w(g)}),onPointerDown:ce(s.onPointerDown,g=>{h.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:ce(s.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(b&&g.key===" ")&&gO.includes(g.key)&&(w(),g.preventDefault())})})})});kj.displayName=Sj;var Cj="SelectValue",Ej=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=e,c=ds(Cj,r),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,f=Re(t,c.onValueNodeChange);return St(()=>{u(h)},[u,h]),o.jsx(_e.span,{...l,ref:f,style:{pointerEvents:"none"},children:Yj(c.value)?o.jsx(o.Fragment,{children:i}):a})});Ej.displayName=Cj;var jO="SelectIcon",Rj=d.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(_e.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});Rj.displayName=jO;var NO="SelectPortal",Pj=e=>o.jsx(qc,{asChild:!0,...e});Pj.displayName=NO;var $s="SelectContent",Tj=d.forwardRef((e,t)=>{const r=ds($s,e.__scopeSelect),[n,s]=d.useState();if(St(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?qo.createPortal(o.jsx(Aj,{scope:e.__scopeSelect,children:o.jsx(cu.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(Oj,{...e,ref:t})});Tj.displayName=$s;var Ir=10,[Aj,hs]=Qo($s),_O="SelectContentImpl",SO=lO("SelectContent.RemoveScroll"),Oj=d.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:b,...v}=e,x=ds($s,r),[y,j]=d.useState(null),[N,_]=d.useState(null),k=Re(t,Q=>j(Q)),[A,C]=d.useState(null),[E,M]=d.useState(null),D=uu(r),[W,J]=d.useState(!1),X=d.useRef(!1);d.useEffect(()=>{if(y)return mm(y)},[y]),fm();const F=d.useCallback(Q=>{const[me,...U]=D().map(se=>se.ref.current),[I]=U.slice(-1),z=document.activeElement;for(const se of Q)if(se===z||(se==null||se.scrollIntoView({block:"nearest"}),se===me&&N&&(N.scrollTop=0),se===I&&N&&(N.scrollTop=N.scrollHeight),se==null||se.focus(),document.activeElement!==z))return},[D,N]),P=d.useCallback(()=>F([A,y]),[F,A,y]);d.useEffect(()=>{W&&P()},[W,P]);const{onOpenChange:R,triggerPointerDownPosRef:S}=x;d.useEffect(()=>{if(y){let Q={x:0,y:0};const me=I=>{var z,se;Q={x:Math.abs(Math.round(I.pageX)-(((z=S.current)==null?void 0:z.x)??0)),y:Math.abs(Math.round(I.pageY)-(((se=S.current)==null?void 0:se.y)??0))}},U=I=>{Q.x<=10&&Q.y<=10?I.preventDefault():y.contains(I.target)||R(!1),document.removeEventListener("pointermove",me),S.current=null};return S.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",U,{capture:!0})}}},[y,R,S]),d.useEffect(()=>{const Q=()=>R(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[R]);const[O,q]=Jj(Q=>{const me=D().filter(z=>!z.disabled),U=me.find(z=>z.ref.current===document.activeElement),I=Xj(me,Q,U);I&&setTimeout(()=>I.ref.current.focus())}),K=d.useCallback((Q,me,U)=>{const I=!X.current&&!U;(x.value!==void 0&&x.value===me||I)&&(C(Q),I&&(X.current=!0))},[x.value]),V=d.useCallback(()=>y==null?void 0:y.focus(),[y]),Z=d.useCallback((Q,me,U)=>{const I=!X.current&&!U;(x.value!==void 0&&x.value===me||I)&&M(Q)},[x.value]),re=n==="popper"?Lh:Ij,ue=re===Lh?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:b}:{};return o.jsx(Aj,{scope:r,content:y,viewport:N,onViewportChange:_,itemRefCallback:K,selectedItem:A,onItemLeave:V,itemTextRefCallback:Z,focusSelectedItem:P,selectedItemText:E,position:n,isPositioned:W,searchRef:O,children:o.jsx(Kc,{as:SO,allowPinchZoom:!0,children:o.jsx(Wc,{asChild:!0,trapped:x.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ce(s,Q=>{var me;(me=x.trigger)==null||me.focus({preventScroll:!0}),Q.preventDefault()}),children:o.jsx(Vc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(re,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Q=>Q.preventDefault(),...v,...ue,onPlaced:()=>J(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ce(v.onKeyDown,Q=>{const me=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!me&&Q.key.length===1&&q(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let I=D().filter(z=>!z.disabled).map(z=>z.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(I=I.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const z=Q.target,se=I.indexOf(z);I=I.slice(se+1)}setTimeout(()=>F(I)),Q.preventDefault()}})})})})})})});Oj.displayName=_O;var kO="SelectItemAlignedPosition",Ij=d.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=ds($s,r),i=hs($s,r),[l,c]=d.useState(null),[u,h]=d.useState(null),f=Re(t,k=>h(k)),p=uu(r),m=d.useRef(!1),w=d.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:v,focusSelectedItem:x}=i,y=d.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&b&&v){const k=a.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),E=v.getBoundingClientRect();if(a.dir!=="rtl"){const z=E.left-A.left,se=C.left-z,ge=k.left-se,ke=k.width+ge,Pe=Math.max(ke,A.width),Te=window.innerWidth-Ir,H=si(se,[Ir,Math.max(Ir,Te-Pe)]);l.style.minWidth=ke+"px",l.style.left=H+"px"}else{const z=A.right-E.right,se=window.innerWidth-C.right-z,ge=window.innerWidth-k.right-se,ke=k.width+ge,Pe=Math.max(ke,A.width),Te=window.innerWidth-Ir,H=si(se,[Ir,Math.max(Ir,Te-Pe)]);l.style.minWidth=ke+"px",l.style.right=H+"px"}const M=p(),D=window.innerHeight-Ir*2,W=g.scrollHeight,J=window.getComputedStyle(u),X=parseInt(J.borderTopWidth,10),F=parseInt(J.paddingTop,10),P=parseInt(J.borderBottomWidth,10),R=parseInt(J.paddingBottom,10),S=X+F+W+R+P,O=Math.min(b.offsetHeight*5,S),q=window.getComputedStyle(g),K=parseInt(q.paddingTop,10),V=parseInt(q.paddingBottom,10),Z=k.top+k.height/2-Ir,re=D-Z,ue=b.offsetHeight/2,Q=b.offsetTop+ue,me=X+F+Q,U=S-me;if(me<=Z){const z=M.length>0&&b===M[M.length-1].ref.current;l.style.bottom="0px";const se=u.clientHeight-g.offsetTop-g.offsetHeight,ge=Math.max(re,ue+(z?V:0)+se+P),ke=me+ge;l.style.height=ke+"px"}else{const z=M.length>0&&b===M[0].ref.current;l.style.top="0px";const ge=Math.max(Z,X+g.offsetTop+(z?K:0)+ue)+U;l.style.height=ge+"px",g.scrollTop=me-Z+g.offsetTop}l.style.margin=`${Ir}px 0`,l.style.minHeight=O+"px",l.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[p,a.trigger,a.valueNode,l,u,g,b,v,a.dir,n]);St(()=>y(),[y]);const[j,N]=d.useState();St(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const _=d.useCallback(k=>{k&&w.current===!0&&(y(),x==null||x(),w.current=!1)},[y,x]);return o.jsx(EO,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:_,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(_e.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ij.displayName=kO;var CO="SelectPopperPosition",Lh=d.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ir,...a}=e,i=du(r);return o.jsx(Zb,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Lh.displayName=CO;var[EO,Gm]=Qo($s,{}),Uh="SelectViewport",Mj=d.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=hs(Uh,r),i=Gm(Uh,r),l=Re(t,a.onViewportChange),c=d.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(cu.Slot,{scope:r,children:o.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ce(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const m=Math.abs(c.current-h.scrollTop);if(m>0){const w=window.innerHeight-Ir*2,g=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),v=Math.max(g,b);if(v<w){const x=v+m,y=Math.min(w,x),j=x-y;f.style.height=y+"px",f.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});Mj.displayName=Uh;var Dj="SelectGroup",[RO,PO]=Qo(Dj),TO=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Br();return o.jsx(RO,{scope:r,id:s,children:o.jsx(_e.div,{role:"group","aria-labelledby":s,...n,ref:t})})});TO.displayName=Dj;var $j="SelectLabel",Lj=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=PO($j,r);return o.jsx(_e.div,{id:s.id,...n,ref:t})});Lj.displayName=$j;var vc="SelectItem",[AO,Uj]=Qo(vc),Fj=d.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,l=ds(vc,r),c=hs(vc,r),u=l.value===n,[h,f]=d.useState(a??""),[p,m]=d.useState(!1),w=Re(t,x=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,x,n,s)}),g=Br(),b=d.useRef("touch"),v=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(AO,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:d.useCallback(x=>{f(y=>y||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(cu.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:o.jsx(_e.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:ce(i.onFocus,()=>m(!0)),onBlur:ce(i.onBlur,()=>m(!1)),onClick:ce(i.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:ce(i.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:ce(i.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:ce(i.onPointerMove,x=>{var y;b.current=x.pointerType,s?(y=c.onItemLeave)==null||y.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ce(i.onPointerLeave,x=>{var y;x.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:ce(i.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(xO.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});Fj.displayName=vc;var ya="SelectItemText",zj=d.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=ds(ya,r),l=hs(ya,r),c=Uj(ya,r),u=bO(ya,r),[h,f]=d.useState(null),p=Re(t,v=>f(v),c.onItemTextChange,v=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,v,c.value,c.disabled)}),m=h==null?void 0:h.textContent,w=d.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return St(()=>(g(w),()=>b(w)),[g,b,w]),o.jsxs(o.Fragment,{children:[o.jsx(_e.span,{id:c.textId,...a,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?qo.createPortal(a.children,i.valueNode):null]})});zj.displayName=ya;var Bj="SelectItemIndicator",Vj=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Uj(Bj,r).isSelected?o.jsx(_e.span,{"aria-hidden":!0,...n,ref:t}):null});Vj.displayName=Bj;var Fh="SelectScrollUpButton",Wj=d.forwardRef((e,t)=>{const r=hs(Fh,e.__scopeSelect),n=Gm(Fh,e.__scopeSelect),[s,a]=d.useState(!1),i=Re(t,n.onScrollButtonChange);return St(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(Hj,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Wj.displayName=Fh;var zh="SelectScrollDownButton",qj=d.forwardRef((e,t)=>{const r=hs(zh,e.__scopeSelect),n=Gm(zh,e.__scopeSelect),[s,a]=d.useState(!1),i=Re(t,n.onScrollButtonChange);return St(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(Hj,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});qj.displayName=zh;var Hj=d.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=hs("SelectScrollButton",r),i=d.useRef(null),l=uu(r),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),St(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(_e.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ce(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ce(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ce(s.onPointerLeave,()=>{c()})})}),OO="SelectSeparator",Kj=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(_e.div,{"aria-hidden":!0,...n,ref:t})});Kj.displayName=OO;var Bh="SelectArrow",IO=d.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=du(r),a=ds(Bh,r),i=hs(Bh,r);return a.open&&i.position==="popper"?o.jsx(e1,{...s,...n,ref:t}):null});IO.displayName=Bh;var MO="SelectBubbleInput",Gj=d.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=d.useRef(null),a=Re(n,s),i=Yc(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(_e.select,{...r,style:{...Nj,...r.style},ref:a,defaultValue:t})});Gj.displayName=MO;function Yj(e){return e===""||e===void 0}function Jj(e){const t=Et(e),r=d.useRef(""),n=d.useRef(0),s=d.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=d.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function Xj(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=DO(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function DO(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var $O=_j,Qj=kj,LO=Ej,UO=Rj,FO=Pj,Zj=Tj,zO=Mj,eN=Lj,tN=Fj,BO=zj,VO=Vj,rN=Wj,nN=qj,sN=Kj;const an=$O,ln=LO,Vr=d.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Qj,{ref:n,className:je("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(UO,{asChild:!0,children:o.jsx(d4,{className:"h-4 w-4 opacity-50"})})]}));Vr.displayName=Qj.displayName;const oN=d.forwardRef(({className:e,...t},r)=>o.jsx(rN,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(x4,{})}));oN.displayName=rN.displayName;const aN=d.forwardRef(({className:e,...t},r)=>o.jsx(nN,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(eb,{})}));aN.displayName=nN.displayName;const Wr=d.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(FO,{children:o.jsxs(Zj,{ref:s,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(oN,{}),o.jsx(zO,{className:je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(aN,{})]})}));Wr.displayName=Zj.displayName;const WO=d.forwardRef(({className:e,...t},r)=>o.jsx(eN,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",e),...t}));WO.displayName=eN.displayName;const ir=d.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(tN,{ref:n,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(VO,{children:o.jsx(Nm,{className:"h-4 w-4"})})}),o.jsx(BO,{children:t})]}));ir.displayName=tN.displayName;const qO=d.forwardRef(({className:e,...t},r)=>o.jsx(sN,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));qO.displayName=sN.displayName;const iN="https://vohvdarghgqskzqjclux.supabase.co",Sx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvaHZkYXJnaGdxc2t6cWpjbHV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4ODgwMDcsImV4cCI6MjA3ODQ2NDAwN30.6povbtgWFLTvq6lxVrqii_-PrOiLZrUo1n-BMlpK4gc",HO=`${iN}/functions/v1/recipe-proxy`,KO="https://recipe-backend-nodejs-1.onrender.com/extract";async function kx(e){var l,c,u,h,f,p,m,w,g,b;if(!e.trim()||!lN(e))throw new Error("Please enter a valid URL");if(/tiktok\.com|instagram\.com|youtube\.com|youtu\.be/i.test(e))try{console.log("[Extractor] Sending to Render server:",e);const v=new AbortController,x=setTimeout(()=>v.abort(),5e4),y=await fetch(KO,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e.trim()}),signal:v.signal});if(clearTimeout(x),!y.ok){if(console.error("[Extractor] Server response not OK:",y.status),y.status>=500||y.status===429)throw new Error("Server waking up  try again in 20 seconds");const C=await y.text();throw console.error("[Extractor] Error response:",C),new Error("Video extraction failed")}const j=await y.json();console.log("[Extractor] Raw data from server:",j);const N=j.thumbnail||j.image||"";console.log("[Extractor] Raw image URL:",N);let _=N;if(N)if(N.includes("cdninstagram.com")||N.includes("fbcdn.net")||N.includes("instagram.com")){const E=N.replace(/&amp;/g,"&");_=`${iN}/functions/v1/image-proxy?url=${encodeURIComponent(E)}`,console.log("[Extractor] Instagram image detected, proxying:",_)}else console.log("[Extractor] Direct image URL (no proxy needed):",_);const k=(j.ingredients||[]).map(C=>{const E=Or(C.trim());if(!E)return{quantity:"",unit:"",name:""};const M=E.match(/^([\d\/\.\-\s\,]+)\s*/),D=M?M[1].trim():"",W=Gg(D);let J=E.slice(D.length).trim();const X=J.match(/^(cups?|tbsps?|tablespoons?|tsps?|teaspoons?|oz|ounces?|lbs?|pounds?|grams?|g|kg|kilograms?|ml|milliliters?|l|liters?|pinch|dash|piece|pieces|clove|cloves|slice|slices|can|cans)\s+/i);let F="";if(X){const P=X[1].toLowerCase();J=J.slice(X[0].length).trim(),P==="g"||P==="gram"||P==="grams"?F="g":P==="kg"||P==="kilogram"||P==="kilograms"?F="kg":P==="ml"||P==="milliliter"||P==="milliliters"?F="ml":P==="l"||P==="liter"||P==="liters"?F="l":P.startsWith("cup")?F="cup":P.startsWith("tbsp")||P.startsWith("tablespoon")?F="tbsp":P.startsWith("tsp")||P.startsWith("teaspoon")?F="tsp":P==="oz"||P.startsWith("ounce")?F="oz":P.startsWith("lb")||P.startsWith("pound")?F="lb":F=P}else F=W?"piece":"";return{quantity:W,unit:F,name:J||E}}),A=C=>{if(!C||C<=0)return"30 mins";if(C<60)return`${C} mins`;const E=Math.floor(C/60),M=C%60;return M?`${E} hr ${M} mins`:`${E} hr`};return console.log("[Extractor] Final image URL being returned:",_),{title:Or(j.title||j.channel||"Video Recipe"),description:"Extracted from video",creator:Or(j.channel||j.creator||"Unknown"),ingredients:k,instructions:(j.instructions||[]).map(C=>Or(C)),prepTime:A(j.prep_time||15),cookTime:A(j.cook_time||35),servings:j.servings||j.yield||"4",cuisineType:"Global",difficulty:"Medium",mealTypes:["Dinner"],dietaryTags:[],imageUrl:_,videoUrl:e,notes:"Extracted using your Render server",sourceUrl:e}}catch(v){throw console.error("[Extractor] Catch block error:",v),v.name==="AbortError"?new Error("Server is waking up  please wait 20-30 seconds and try again"):new Error("Video extraction temporarily unavailable  try again soon")}const r=await fetch(HO,{method:"POST",headers:{"Content-Type":"application/json",apikey:Sx,Authorization:`Bearer ${Sx}`},body:JSON.stringify({url:e.trim()})});if(!r.ok)throw await r.text(),new Error("Failed to extract from website");const n=await r.json(),s=v=>v.map(x=>{const y=Or(x.trim()),j=y.match(/^([\d\/\.\-\s\,]+)\s*/),N=j?j[1].trim():"",_=Gg(N);let k=y.slice(N.length).trim();const A=k.match(/^(cups?|tbsps?|tablespoons?|tsps?|teaspoons?|oz|ounces?|lbs?|pounds?|grams?|g|kg|kilograms?|ml|milliliters?|l|liters?|pinch|dash|piece|pieces|clove|cloves|slice|slices|can|cans)\s+/i);let C="";if(A){const E=A[1].toLowerCase();k=k.slice(A[0].length).trim(),E==="g"||E==="gram"||E==="grams"?C="g":E==="kg"||E==="kilogram"||E==="kilograms"?C="kg":E==="ml"||E==="milliliter"||E==="milliliters"?C="ml":E==="l"||E==="liter"||E==="liters"?C="l":E.startsWith("cup")?C="cup":E.startsWith("tbsp")||E.startsWith("tablespoon")?C="tbsp":E.startsWith("tsp")||E.startsWith("teaspoon")?C="tsp":E==="oz"||E.startsWith("ounce")?C="oz":E.startsWith("lb")||E.startsWith("pound")?C="lb":C=E}else C=_?"piece":"";return{quantity:_,unit:C,name:k||y}}),a=s(n.ingredients||[]),i={title:Or(n.title||"Untitled Recipe"),description:"Extracted recipe",creator:Or(n.author||"Unknown"),ingredients:a,instructions:(n.instructions||[]).map(Or),prepTime:n.prep_time?`${n.prep_time} mins`:"30 mins",cookTime:n.cook_time?`${n.cook_time} mins`:"45 mins",servings:String(n.yield||"4"),cuisineType:"Global",difficulty:"Medium",mealTypes:["Dinner"],dietaryTags:[],imageUrl:n.image||"",videoUrl:"",notes:n.notes||"",sourceUrl:e};return n.hasConflict&&(i.hasConflict=!0,i.structuredVersion={...i,ingredients:s(((l=n.structuredVersion)==null?void 0:l.ingredients)||[]),instructions:(((c=n.structuredVersion)==null?void 0:c.instructions)||[]).map(Or),prepTime:(u=n.structuredVersion)!=null&&u.prep_time?`${n.structuredVersion.prep_time} mins`:"30 mins",cookTime:(h=n.structuredVersion)!=null&&h.cook_time?`${n.structuredVersion.cook_time} mins`:"45 mins",servings:String(((f=n.structuredVersion)==null?void 0:f.yield)||"4"),notes:"From recipe card (structured data)"},i.aiVersion={...i,ingredients:s(((p=n.aiVersion)==null?void 0:p.ingredients)||[]),instructions:(((m=n.aiVersion)==null?void 0:m.instructions)||[]).map(Or),prepTime:(w=n.aiVersion)!=null&&w.prep_time?`${n.aiVersion.prep_time} mins`:"30 mins",cookTime:(g=n.aiVersion)!=null&&g.cook_time?`${n.aiVersion.cook_time} mins`:"45 mins",servings:String(((b=n.aiVersion)==null?void 0:b.yield)||"4"),notes:"From blog content (AI extracted)"}),i}function lN(e){try{return new URL(e),!0}catch{return!1}}async function GO(e,t){try{console.log("[ImageStorage] Downloading image:",e);const r=e.includes("instagram.com")||e.includes("cdninstagram.com")||e.includes("fbcdn.net");let n=e;r&&(n=`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(e)}`);const s=await fetch(n);if(!s.ok)throw new Error(`Failed to fetch image: ${s.status}`);const a=await s.blob();console.log("[ImageStorage] Downloaded blob:",a.type,a.size);const i=a.type.split("/")[1]||"jpg",l=Date.now(),c=`recipes/${t}/${l}.${i}`;console.log("[ImageStorage] Uploading to:",c);const{data:u,error:h}=await L.storage.from("recipe-images").upload(c,a,{contentType:a.type,cacheControl:"31536000",upsert:!1});if(h)throw console.error("[ImageStorage] Upload error:",h),h;console.log("[ImageStorage] Upload successful:",u);const{data:{publicUrl:f}}=L.storage.from("recipe-images").getPublicUrl(c);return console.log("[ImageStorage]  Permanent URL:",f),f}catch(r){return console.error("[ImageStorage]  Failed to store image:",r),e}}function ll(e){if(typeof e=="number")return e;const t=String(e).trim();if(/^PT\d+[HM]$/i.test(t)){const n=t.match(/PT(\d+)H/i),s=t.match(/PT(\d+)M/i)||t.match(/(\d+)M/i);return(n?parseInt(n[1])*60:0)+(s?parseInt(s[1]):0)}const r=parseInt(t);return isNaN(r)?0:r}function Cx(e){if(typeof e=="number")return e;const t=String(e).trim(),r=t.match(/(\d+)/),n=parseInt(r?r[1]:t);return isNaN(n)?1:n}const YO=["cup","TBSP","tsp","oz","lb","g","kg","ml","l","piece(s)","whole","pinch","dash","egg(s)","to taste"],JO=["American","Chinese","Culinary/Baked Goods","French","Healing/Medicine","Indian","Italian","Juices/Smoothies","Japanese","Korean","Mediterranean","Mexican/Spanish","Other","Pet Meals","Supplements","Thai","Vegan/Vegetarian","Vietnamese"],XO=["Breakfast","Lunch","Dinner","Snack","Dessert"],QO=["Vegetarian","Vegan","Gluten-Free","Dairy-Free","Keto","Paleo","Low-Carb","High-Protein"];function ZO({onNavigate:e}={}){const{dispatch:t}=zs(),[r,n]=d.useState(""),[s,a]=d.useState([{quantity:"",unit:"cup",name:""}]),[i,l]=d.useState([""]),[c,u]=d.useState(""),[h,f]=d.useState(""),[p,m]=d.useState(""),[w,g]=d.useState(""),[b,v]=d.useState("Easy"),[x,y]=d.useState([]),[j,N]=d.useState([]),[_,k]=d.useState(""),[A,C]=d.useState(""),[E,M]=d.useState(""),[D,W]=d.useState({}),[J,X]=d.useState(!1),[F,P]=d.useState(""),[R,S]=d.useState(!1),[O,q]=d.useState(null),[K,V]=d.useState(!1),[Z,re]=d.useState(null),[ue,Q]=d.useState(""),[me,U]=d.useState(!1),[I,z]=d.useState(!1),se=()=>{a([...s,{quantity:"",unit:"cup",name:""}])},ge=B=>{s.length>1&&a(s.filter((ie,ve)=>ve!==B))},ke=(B,ie,ve)=>{const Ae=[...s];Ae[B]={...Ae[B],[ie]:ve},a(Ae)},Pe=()=>{l([...i,""])},Te=B=>{i.length>1&&l(i.filter((ie,ve)=>ve!==B))},H=(B,ie)=>{const ve=[...i];ve[B]=ie,l(ve)},ae=B=>{y(ie=>ie.includes(B)?ie.filter(ve=>ve!==B):[...ie,B])},G=B=>{N(ie=>ie.includes(B)?ie.filter(ve=>ve!==B):[...ie,B])},Se=async B=>{var ve;const ie=(ve=B.target.files)==null?void 0:ve[0];if(ie){if(!ie.type.startsWith("image/")){$.error("Please select an image file");return}if(ie.size>5*1024*1024){$.error("Image must be less than 5MB");return}U(!0);try{const{supabase:Ae}=await xa(async()=>{const{supabase:pr}=await Promise.resolve().then(()=>ed);return{supabase:pr}},void 0),{data:{user:yt}}=await Ae.auth.getUser();if(!yt){$.error("You must be logged in to upload images");return}const hn=ie.name.split(".").pop(),at=`${yt.id}/${Date.now()}.${hn}`,{error:mr}=await Ae.storage.from("recipe-images").upload(at,ie,{cacheControl:"3600",upsert:!1});if(mr)throw mr;const{data:{publicUrl:rr}}=Ae.storage.from("recipe-images").getPublicUrl(at);re(ie),Q(rr),k(""),$.success("Image uploaded successfully!")}catch(Ae){$.error(Ae.message||"Failed to upload image")}finally{U(!1)}}},ee=async()=>{if(!F.trim()){$.error("Please enter a URL");return}if(!lN(F)){$.error("Please enter a valid URL");return}if([".jpg",".jpeg",".png",".gif",".webp",".bmp"].some(ve=>F.toLowerCase().includes(ve))){$.error("Please paste a recipe page URL, not a direct image link.");return}S(!0);try{$.loading("Extracting recipe...",{id:"extract"});const ve=await kx(F);q(ve),ve.hasConflict?(z(!0),$.warning("Multiple recipe versions found! Please choose which to use.",{id:"extract"})):(V(!0),$.success("Recipe extracted! Review and edit before saving.",{id:"extract"})),S(!1)}catch(ve){ve.message.includes("waking up")?($.info("Server starting up... retrying in 30 seconds",{id:"extract",duration:3e4}),setTimeout(async()=>{try{$.loading("Retrying extraction...",{id:"extract"});const Ae=await kx(F);q(Ae),V(!0),$.success("Recipe extracted!",{id:"extract"})}catch(Ae){$.error(Ae.message||"Extraction failed. Please try again.",{id:"extract"})}finally{S(!1)}},3e4)):($.error(ve.message||"Failed to extract recipe.",{id:"extract"}),S(!1))}},he=()=>{if(!O)return;n(O.title.replace(/\s+on\s+instagram$/i,""));const B=O.ingredients.map(ve=>({quantity:ve.quantity||"",unit:ve.unit||"cup",name:ve.name||""}));a(B),l(O.instructions),u(String(ll(O.prepTime))),f(String(ll(O.cookTime))),m(String(Cx(O.servings))),g(O.cuisineType),v(O.difficulty),y(O.mealTypes),N(O.dietaryTags),O.imageUrl&&k(O.imageUrl),C(O.videoUrl||"");const ie=F?`Source: ${F}

`:"";M(ie+(O.notes||"")),V(!1),q(null),$.success("Recipe loaded! Edit any details as needed.")},we=()=>{V(!1),q(null)},$e=()=>{const B={};return r.trim()||(B.title="Title is required"),w||(B.cuisineType="Cuisine type is required"),(!c||parseInt(c)<=0)&&(B.prepTime="Valid prep time is required"),(!h||parseInt(h)<=0)&&(B.cookTime="Valid cook time is required"),(!p||parseInt(p)<=0)&&(B.servings="Valid servings count is required"),x.length===0&&(B.mealTypes="Select at least one meal type"),s.filter(Ae=>Ae.name.trim()).length===0&&(B.ingredients="Add at least one ingredient"),i.filter(Ae=>Ae.trim()).length===0&&(B.instructions="Add at least one instruction"),W(B),Object.keys(B).length===0},Tt=async B=>{if(B.preventDefault(),X(!0),!$e()){$.error("Please fill in all required fields");return}const ie=s.filter(at=>at.name.trim()),ve=i.filter(at=>at.trim());let Ae=ue||_.trim()||void 0,yt=null;const hn=Ae&&!ue&&(Ae.includes("instagram.com")||Ae.includes("cdninstagram.com")||Ae.includes("fbcdn.net"));try{const at=$.loading("Creating recipe..."),{createRecipe:mr}=await xa(async()=>{const{createRecipe:et}=await Promise.resolve().then(()=>Rb);return{createRecipe:et}},void 0),rr={title:r.trim(),ingredients:ie,instructions:ve,prepTime:ll(c),cookTime:ll(h),servings:Cx(p),tags:[...x,...j],cuisineType:w,difficulty:b,dietaryTags:j,mealType:x,imageUrl:Ae,videoUrl:A.trim()||void 0,sourceUrl:F.trim()||void 0,notes:E.trim()||void 0,isSaved:!0},pr=await mr(rr);if(console.log("[AddRecipe] Recipe created with ID:",pr.id),hn&&Ae)try{$.loading("Downloading and storing image permanently...",{id:at}),console.log("[AddRecipe] Downloading Instagram image:",Ae);const et=await GO(Ae,pr.id);if(console.log("[AddRecipe] Permanent URL:",et),et!==Ae){const{supabase:T}=await xa(async()=>{const{supabase:pe}=await Promise.resolve().then(()=>ed);return{supabase:pe}},void 0),{error:oe}=await T.from("public_recipes").update({image_url:et}).eq("id",pr.id);oe?console.error("[AddRecipe] Failed to update with permanent URL:",oe):(console.log("[AddRecipe]  Updated recipe with permanent URL"),Ae=et,yt=et)}}catch(et){console.error("[AddRecipe] Image storage failed, using original URL:",et)}try{const{supabase:et}=await xa(async()=>{const{supabase:oe}=await Promise.resolve().then(()=>ed);return{supabase:oe}},void 0),{data:{user:T}}=await et.auth.getUser();if(T){const oe=yt||ue||null,{error:pe}=await et.from("posts").insert({user_id:T.id,title:r.trim(),image_url:oe,video_url:A.trim()||null,caption:E.trim()||"Check out my recipe!",recipe_url:A.trim()||F.trim()||null,recipe_id:pr.id});pe?(console.error("[AddRecipe] Post creation failed:",pe),$.success("Recipe created successfully!",{id:at})):$.success("Recipe created and posted to your profile!",{id:at})}else $.success("Recipe created successfully!",{id:at})}catch(et){console.error("[AddRecipe] Post creation error:",et),$.success("Recipe created successfully!",{id:at})}t({type:"SAVE_RECIPE",payload:pr}),e&&e("my-recipes")}catch(at){console.error("[AddRecipe] Recipe creation failed:",at);const mr=(at==null?void 0:at.message)||"Failed to create recipe. Please try again.";$.error(mr)}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 pb-32",children:[o.jsx("div",{className:"sticky top-0 z-40 bg-white/95 backdrop-blur-sm border-b border-slate-200 pt-safe",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-slate-900 text-center",children:"Create New Recipe"}),o.jsx("p",{className:"text-sm sm:text-base text-slate-600 text-center mt-1",children:"See a recipe online you like, add it here!"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-4",children:[o.jsxs(He,{className:"border-slate-200 shadow-sm bg-gradient-to-br from-blue-50 to-white",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsxs(bt,{className:"flex items-center gap-2 text-lg",children:[o.jsx(rd,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),o.jsx("span",{className:"leading-tight",children:"Import from URL"})]}),o.jsx(Ct,{className:"text-xs leading-relaxed",children:o.jsxs("div",{className:"mt-2 space-y-2",children:[o.jsx("p",{className:"font-bold text-black pb-0.5 border-b-2 border-black inline-block",children:"INSTRUCTIONS"}),o.jsxs("ol",{className:"space-y-1.5 text-black ml-0.5",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold text-black-600 min-w-[14px]",children:"1."}),o.jsxs("span",{children:[o.jsx("span",{className:"font-bold text-black",children:"COPY"})," a link from online/social media &"," ",o.jsx("span",{className:"font-bold text-black",children:"PASTE"})," below"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold text-black-600 min-w-[14px]",children:"2."}),o.jsxs("span",{children:["Click ",o.jsx("span",{className:"font-bold text-blue-600",children:"Extract Recipe"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold text-black-600 min-w-[14px]",children:"3."}),o.jsx("span",{children:"Update as needed  AI does its best, some recipes may need manual editing"})]})]}),o.jsxs("div",{className:"mt-3 pt-2 border-t border-slate-200 space-y-1 text-xs",children:[o.jsx("p",{className:"text-emerald-600 font-semibold",children:"Supported: All recipe websites & most blogs"}),o.jsx("p",{className:"text-orange-600",children:"Warning: Instagram & TikTok (may take 3060 seconds)"}),o.jsx("p",{className:"text-slate-500",children:"Coming Soon: YouTube videos"})]})]})})]}),o.jsxs(Xe,{className:"space-y-3",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(SE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 flex-shrink-0"}),o.jsx(nt,{value:F,onChange:B=>P(B.target.value),placeholder:"Paste recipe link...",className:"pl-10 h-10 text-sm placeholder:text-slate-400",disabled:R,onKeyDown:B=>B.key==="Enter"&&ee()})]}),o.jsx(Y,{type:"button",onClick:async()=>{try{const B=await navigator.clipboard.readText();P(B),$.success("Pasted!")}catch{$.error("Failed to paste. Copy a URL first.")}},disabled:R,variant:"outline",className:"h-10",children:"Paste"})]}),o.jsx(Y,{type:"button",onClick:ee,disabled:R||!F.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white h-12",children:R?o.jsxs(o.Fragment,{children:[o.jsx(ri,{className:"w-5 h-5 mr-2 animate-spin"}),"Extracting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(rd,{className:"w-5 h-5 mr-2"}),"Extract Recipe"]})})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-slate-200"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-gradient-to-br from-slate-50 via-white to-slate-50 px-3 py-1 text-slate-500",children:"Or enter manually"})})]}),o.jsxs("form",{onSubmit:Tt,className:"space-y-4",children:[J&&Object.keys(D).length>0&&o.jsx(He,{className:"border-red-200 bg-red-50",children:o.jsx(Xe,{className:"pt-4 pb-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-red-100 flex items-center justify-center",children:o.jsx("span",{className:"text-red-600 text-sm font-bold",children:"!"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm font-semibold text-red-900 mb-2",children:"Please fix these errors:"}),o.jsx("ul",{className:"space-y-1",children:Object.values(D).map((B,ie)=>o.jsxs("li",{className:"text-sm text-red-700 break-words",children:[" ",B]},ie))})]})]})})}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-lg",children:"Basic Information"}),o.jsx(Ct,{className:"text-xs",children:"Review extracted info"})]}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"title",className:"text-sm font-medium",children:"Recipe Title *"}),o.jsx(nt,{id:"title",value:r,onChange:B=>n(B.target.value),placeholder:"ex. Chocolate Chip Cookies",className:`mt-1.5 text-base ${D.title?"border-red-500":""}`}),D.title&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:D.title})]}),(ue||_)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"relative w-full max-w-xs mx-auto aspect-square rounded-lg overflow-hidden border-2 border-slate-200 bg-slate-100",children:o.jsx("img",{src:ue||_,alt:r||"Recipe",className:"w-full h-full object-cover",onError:B=>{const ie=B.target.parentElement;ie&&(ie.innerHTML=`
                            <div class="w-full h-full flex flex-col items-center justify-center text-slate-500 p-4 text-center">
                              <svg class="w-12 h-12 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                              </svg>
                              <p class="text-xs font-medium">Image unavailable</p>
                              <p class="text-xs text-slate-400">(Instagram images may not work)</p>
                            </div>
                          `)}})}),ue&&o.jsx("div",{className:"text-center",children:o.jsxs(Y,{type:"button",variant:"ghost",size:"sm",onClick:()=>{re(null),Q("")},className:"text-red-600 hover:text-red-700 hover:bg-red-50 text-xs",children:[o.jsx(Zt,{className:"w-3 h-3 mr-1"}),"Remove image"]})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("div",{children:[o.jsxs(Fe,{htmlFor:"prepTime",className:"text-xs font-medium flex items-center gap-1",children:[o.jsx(en,{className:"w-3 h-3"}),"Prep (min) *"]}),o.jsx(nt,{id:"prepTime",type:"number",value:c,onChange:B=>u(B.target.value),placeholder:"15",className:`mt-1 text-base ${D.prepTime?"border-red-500":""}`})]}),o.jsxs("div",{children:[o.jsxs(Fe,{htmlFor:"cookTime",className:"text-xs font-medium flex items-center gap-1",children:[o.jsx(en,{className:"w-3 h-3"}),"Cook (min) *"]}),o.jsx(nt,{id:"cookTime",type:"number",value:h,onChange:B=>f(B.target.value),placeholder:"30",className:`mt-1 text-base ${D.cookTime?"border-red-500":""}`})]}),o.jsxs("div",{children:[o.jsxs(Fe,{htmlFor:"servings",className:"text-xs font-medium flex items-center gap-1",children:[o.jsx(Cs,{className:"w-3 h-3"}),"Servings *"]}),o.jsx(nt,{id:"servings",type:"number",value:p,onChange:B=>m(B.target.value),placeholder:"4",className:`mt-1 text-base ${D.servings?"border-red-500":""}`})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"cuisineType",className:"text-sm font-medium",children:"Cuisine Type *"}),o.jsxs(an,{value:w,onValueChange:g,children:[o.jsx(Vr,{className:`mt-1.5 ${D.cuisineType?"border-red-500":""}`,children:o.jsx(ln,{placeholder:"Select cuisine"})}),o.jsx(Wr,{children:JO.map(B=>o.jsx(ir,{value:B,children:B},B))})]})]}),o.jsxs("div",{children:[o.jsxs(Fe,{htmlFor:"difficulty",className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(ts,{className:"w-4 h-4"}),"Difficulty *"]}),o.jsxs(an,{value:b,onValueChange:B=>v(B),children:[o.jsx(Vr,{className:"mt-1.5",children:o.jsx(ln,{})}),o.jsxs(Wr,{children:[o.jsx(ir,{value:"Easy",children:"Easy"}),o.jsx(ir,{value:"Medium",children:"Medium"}),o.jsx(ir,{value:"Hard",children:"Hard"})]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs(Fe,{className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(Sh,{className:"w-4 h-4"}),"Recipe Image"]}),o.jsx("p",{className:"text-xs text-slate-500 mt-1 mb-2",children:"Upload or paste URL"}),o.jsx("input",{type:"file",id:"imageUpload",accept:"image/*",onChange:Se,className:"hidden",disabled:me}),o.jsx(Y,{type:"button",variant:"outline",onClick:()=>{var B;return(B=document.getElementById("imageUpload"))==null?void 0:B.click()},disabled:me,className:"w-full h-12",children:me?o.jsxs(o.Fragment,{children:[o.jsx(ri,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(cm,{className:"w-4 h-4 mr-2"}),"Upload Image"]})}),Z&&o.jsxs("p",{className:"text-xs text-emerald-600 mt-2 flex items-center gap-1 truncate",children:[o.jsx(Sh,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:Z.name})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-slate-200"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-slate-500",children:"or"})})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"imageUrl",className:"text-sm font-medium",children:"Image URL"}),o.jsx(nt,{id:"imageUrl",value:_,onChange:B=>{k(B.target.value),re(null),Q("")},placeholder:"https://example.com/image.jpg",className:"mt-1.5 text-base",disabled:!!Z}),Z&&o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Clear uploaded image to use URL"})]})]})]})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-lg",children:"Meal Types *"}),o.jsx(Ct,{className:"text-xs",children:"When is this served?"})]}),o.jsxs(Xe,{children:[o.jsx("div",{className:"flex flex-wrap gap-2",children:XO.map(B=>o.jsx(Je,{variant:x.includes(B)?"default":"outline",className:"cursor-pointer transition-all hover:scale-105 text-sm py-1.5 px-3",onClick:()=>ae(B),children:B},B))}),D.mealTypes&&o.jsx("p",{className:"text-xs text-red-500 mt-2",children:D.mealTypes})]})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-lg",children:"Dietary Tags"}),o.jsx(Ct,{className:"text-xs",children:"Select any that apply"})]}),o.jsx(Xe,{children:o.jsx("div",{className:"flex flex-wrap gap-2",children:QO.map(B=>o.jsx(Je,{variant:j.includes(B)?"default":"outline",className:"cursor-pointer transition-all hover:scale-105 text-sm py-1.5 px-3",onClick:()=>G(B),children:B},B))})})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-lg",children:"Ingredients *"}),o.jsx(Ct,{className:"text-xs",children:"List all ingredients"})]}),o.jsxs(Xe,{className:"space-y-3",children:[s.map((B,ie)=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(nt,{value:B.quantity,onChange:ve=>ke(ie,"quantity",ve.target.value),placeholder:"1",className:"w-16 text-center text-base"}),o.jsxs(an,{value:B.unit,onValueChange:ve=>ke(ie,"unit",ve),children:[o.jsx(Vr,{className:"w-24",children:o.jsx(ln,{})}),o.jsx(Wr,{children:YO.map(ve=>o.jsx(ir,{value:ve,children:ve},ve))})]}),o.jsx(Y,{type:"button",variant:"ghost",size:"icon",onClick:()=>ge(ie),disabled:s.length===1,className:"shrink-0",children:o.jsx(Zt,{className:"w-4 h-4"})})]}),o.jsx(nt,{value:B.name,onChange:ve=>ke(ie,"name",ve.target.value),placeholder:"Ingredient name",className:"text-base"})]},ie)),D.ingredients&&o.jsx("p",{className:"text-xs text-red-500",children:D.ingredients}),o.jsxs(Y,{type:"button",variant:"outline",onClick:se,className:"w-full mt-2 h-11",children:[o.jsx(sn,{className:"w-4 h-4 mr-2"}),"Add Ingredient"]})]})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-lg",children:"Instructions *"}),o.jsx(Ct,{className:"text-xs",children:"Step-by-step instructions"})]}),o.jsxs(Xe,{className:"space-y-3",children:[i.map((B,ie)=>o.jsxs("div",{className:"flex gap-2 items-start",children:[o.jsx("div",{className:"flex-shrink-0 w-7 h-7 rounded-full bg-slate-100 flex items-center justify-center text-sm font-semibold text-slate-700 mt-2",children:ie+1}),o.jsx(Sn,{value:B,onChange:ve=>H(ie,ve.target.value),placeholder:"Describe this step...",className:"flex-1 min-h-[100px] text-base"}),o.jsx(Y,{type:"button",variant:"ghost",size:"icon",onClick:()=>Te(ie),disabled:i.length===1,className:"shrink-0 mt-2",children:o.jsx(Zt,{className:"w-4 h-4"})})]},ie)),D.instructions&&o.jsx("p",{className:"text-xs text-red-500",children:D.instructions}),o.jsxs(Y,{type:"button",variant:"outline",onClick:Pe,className:"w-full mt-2 h-11",children:[o.jsx(sn,{className:"w-4 h-4 mr-2"}),"Add Step"]})]})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-lg",children:"Notes"}),o.jsx(Ct,{className:"text-xs",children:"Tips or variations"})]}),o.jsx(Xe,{children:o.jsx(Sn,{value:E,onChange:B=>M(B.target.value),placeholder:"Add any helpful notes...",className:"min-h-[120px] text-base"})})]})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-gradient-to-t from-white via-white to-transparent pt-4 pb-safe",children:o.jsxs("div",{className:"flex justify-center items-center gap-3 px-4 pb-4",children:[e&&o.jsx(Y,{type:"button",variant:"outline",onClick:()=>e("my-recipes"),className:"bg-white shadow-lg border-2 border-gray-300 hover:bg-gray-50 px-6 h-12 text-base font-semibold rounded-full",children:"Cancel"}),o.jsx(Y,{type:"submit",onClick:Tt,className:"bg-orange-500 hover:bg-orange-600 text-white px-8 h-12 text-base font-semibold shadow-lg rounded-full transition-all transform active:scale-95",children:"Create Recipe"})]})}),o.jsx(_t,{open:K,onOpenChange:V,children:o.jsxs(vt,{className:"max-w-[95vw] sm:max-w-4xl max-h-[90vh] p-0",children:[o.jsxs(Bt,{className:"p-4 pb-3 border-b",children:[o.jsxs(Dt,{className:"text-xl flex items-center gap-2",children:[o.jsx(rd,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),o.jsx("span",{className:"leading-tight",children:"Review Recipe"})]}),o.jsx(Nr,{className:"text-xs",children:"Review extracted details before adding"})]}),O&&o.jsx(Es,{className:"max-h-[calc(90vh-180px)]",children:o.jsxs("div",{className:"space-y-4 p-4",children:[O.imageUrl&&o.jsx("div",{className:"relative w-full max-w-xs mx-auto aspect-square rounded-lg overflow-hidden border-2 border-slate-200 bg-slate-100",children:o.jsx("img",{src:O.imageUrl,alt:O.title,className:"w-full h-full object-cover",onError:B=>{const ie=B.target.parentElement;ie&&(ie.innerHTML=`
                              <div class="w-full h-full flex flex-col items-center justify-center text-slate-500 p-4">
                                <svg class="w-12 h-12 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                                <p class="text-xs">No image</p>
                              </div>
                            `)}})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1 leading-tight",children:O.title}),O.description&&o.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:O.description})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 border border-slate-200",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-0.5",children:[o.jsx(en,{className:"w-3 h-3 text-slate-600"}),o.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Prep"})]}),o.jsxs("p",{className:"text-sm font-bold text-slate-900",children:[O.prepTime," min"]})]}),o.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 border border-slate-200",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-0.5",children:[o.jsx(en,{className:"w-3 h-3 text-slate-600"}),o.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Cook"})]}),o.jsxs("p",{className:"text-sm font-bold text-slate-900",children:[O.cookTime," min"]})]}),o.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 border border-slate-200",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-0.5",children:[o.jsx(Cs,{className:"w-3 h-3 text-slate-600"}),o.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Serves"})]}),o.jsx("p",{className:"text-sm font-bold text-slate-900",children:O.servings})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[o.jsx(Je,{variant:"secondary",className:"bg-blue-100 text-blue-700 text-xs",children:O.cuisineType}),o.jsx(Je,{variant:"secondary",className:"bg-emerald-100 text-emerald-700 text-xs",children:O.difficulty}),O.mealTypes.map(B=>o.jsx(Je,{variant:"outline",className:"text-xs",children:B},B)),O.dietaryTags.map(B=>o.jsx(Je,{variant:"outline",className:"bg-amber-50 text-amber-700 text-xs",children:B},B))]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-2 text-sm",children:"Ingredients"}),o.jsx("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:o.jsx("ul",{className:"space-y-1.5",children:O.ingredients.map((B,ie)=>o.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[o.jsx("span",{className:"text-slate-400 mt-0.5 flex-shrink-0",children:""}),o.jsxs("span",{className:"text-slate-700 break-words",children:[o.jsxs("span",{className:"font-semibold",children:[B.quantity," ",B.unit]})," ",B.name]})]},ie))})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-2 text-sm",children:"Instructions"}),o.jsx("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:o.jsx("ol",{className:"space-y-2",children:O.instructions.map((B,ie)=>o.jsxs("li",{className:"flex gap-2 text-xs",children:[o.jsx("span",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-slate-900 text-white flex items-center justify-center text-xs font-bold",children:ie+1}),o.jsx("span",{className:"text-slate-700 pt-0.5 break-words",children:B})]},ie))})})]}),O.notes&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-1.5 text-sm",children:"Notes"}),o.jsx("div",{className:"bg-amber-50 rounded-lg p-3 border border-amber-200",children:o.jsx("p",{className:"text-xs text-slate-700 break-words",children:O.notes})})]})]})]})}),o.jsxs(rs,{className:"flex-row justify-center gap-2 p-4 border-t",children:[o.jsx(Y,{type:"button",variant:"outline",onClick:we,className:"flex-1 sm:flex-none",children:"Cancel"}),o.jsx(Y,{type:"button",onClick:he,className:"bg-blue-600 hover:bg-blue-700 text-white flex-1 sm:flex-none",children:"Use This Recipe"})]})]})}),o.jsx(_t,{open:I,onOpenChange:z,children:o.jsxs(vt,{className:"max-w-[95vw] sm:max-w-5xl max-h-[90vh] p-0",children:[o.jsxs(Bt,{className:"p-4 pb-3 border-b",children:[o.jsx(Dt,{className:"text-lg leading-tight",children:"Multiple Versions Found"}),o.jsx(Nr,{className:"text-xs",children:"Choose which version to use:"})]}),o.jsx(Es,{className:"h-[60vh] p-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(O==null?void 0:O.structuredVersion)&&o.jsxs(He,{className:"cursor-pointer hover:border-blue-500 transition-colors",onClick:()=>{O.structuredVersion&&(q(O.structuredVersion),z(!1),V(!0),$.success("Using recipe card version"))},children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-base",children:"Recipe Card"}),o.jsx(Ct,{className:"text-xs",children:"From structured data"})]}),o.jsxs(Xe,{className:"space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap gap-1.5 text-xs",children:[o.jsxs(Je,{variant:"secondary",children:[O.structuredVersion.servings," servings"]}),o.jsxs(Je,{variant:"secondary",children:[O.structuredVersion.prepTime,"min"]}),o.jsxs(Je,{variant:"secondary",children:[O.structuredVersion.cookTime,"min"]})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-xs mb-1.5",children:["Ingredients (",O.structuredVersion.ingredients.length,"):"]}),o.jsxs("ul",{className:"space-y-1 text-xs text-slate-600 max-h-32 overflow-y-auto",children:[O.structuredVersion.ingredients.slice(0,6).map((B,ie)=>o.jsxs("li",{className:"break-words",children:[" ",B.quantity," ",B.unit," ",B.name]},ie)),O.structuredVersion.ingredients.length>6&&o.jsxs("li",{className:"text-slate-400",children:["+ ",O.structuredVersion.ingredients.length-6," more..."]})]})]})]})]}),(O==null?void 0:O.aiVersion)&&o.jsxs(He,{className:"cursor-pointer hover:border-green-500 transition-colors",onClick:()=>{O.aiVersion&&(q(O.aiVersion),z(!1),V(!0),$.success("Using blog content version"))},children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-base",children:"Blog Content"}),o.jsx(Ct,{className:"text-xs",children:"From blog post"})]}),o.jsxs(Xe,{className:"space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap gap-1.5 text-xs",children:[o.jsxs(Je,{variant:"secondary",children:[O.aiVersion.servings," servings"]}),o.jsxs(Je,{variant:"secondary",children:[O.aiVersion.prepTime,"min"]}),o.jsxs(Je,{variant:"secondary",children:[O.aiVersion.cookTime,"min"]})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-xs mb-1.5",children:["Ingredients (",O.aiVersion.ingredients.length,"):"]}),o.jsxs("ul",{className:"space-y-1 text-xs text-slate-600 max-h-32 overflow-y-auto",children:[O.aiVersion.ingredients.slice(0,6).map((B,ie)=>o.jsxs("li",{className:"break-words",children:[" ",B.quantity," ",B.unit," ",B.name]},ie)),O.aiVersion.ingredients.length>6&&o.jsxs("li",{className:"text-slate-400",children:["+ ",O.aiVersion.ingredients.length-6," more..."]})]})]})]})]})]})}),o.jsx(rs,{className:"p-4 border-t",children:o.jsx(Y,{variant:"outline",onClick:()=>z(!1),className:"w-full sm:w-auto",children:"Cancel"})})]})})]})]})}var hu="Collapsible",[eI,cN]=er(hu),[tI,Ym]=eI(hu),uN=d.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c,u]=Hr({prop:n,defaultProp:s??!1,onChange:i,caller:hu});return o.jsx(tI,{scope:r,disabled:a,contentId:Br(),open:c,onOpenToggle:d.useCallback(()=>u(h=>!h),[u]),children:o.jsx(_e.div,{"data-state":Xm(c),"data-disabled":a?"":void 0,...l,ref:t})})});uN.displayName=hu;var dN="CollapsibleTrigger",hN=d.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Ym(dN,r);return o.jsx(_e.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Xm(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:ce(e.onClick,s.onOpenToggle)})});hN.displayName=dN;var Jm="CollapsibleContent",fN=d.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Ym(Jm,e.__scopeCollapsible);return o.jsx(tr,{present:r||s.open,children:({present:a})=>o.jsx(rI,{...n,ref:t,present:a})})});fN.displayName=Jm;var rI=d.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,i=Ym(Jm,r),[l,c]=d.useState(n),u=d.useRef(null),h=Re(t,u),f=d.useRef(0),p=f.current,m=d.useRef(0),w=m.current,g=i.open||l,b=d.useRef(g),v=d.useRef(void 0);return d.useEffect(()=>{const x=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(x)},[]),St(()=>{const x=u.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const y=x.getBoundingClientRect();f.current=y.height,m.current=y.width,b.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),c(n)}},[i.open,n]),o.jsx(_e.div,{"data-state":Xm(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...a,ref:h,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:g&&s})});function Xm(e){return e?"open":"closed"}var nI=uN,sI=hN,oI=fN,Jr="Accordion",aI=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Qm,iI,lI]=_i(Jr),[fu]=er(Jr,[lI,cN]),Zm=cN(),mN=te.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,a=n;return o.jsx(Qm.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?o.jsx(hI,{...a,ref:t}):o.jsx(dI,{...s,ref:t})})});mN.displayName=Jr;var[pN,cI]=fu(Jr),[gN,uI]=fu(Jr,{collapsible:!1}),dI=te.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...i}=e,[l,c]=Hr({prop:r,defaultProp:n??"",onChange:s,caller:Jr});return o.jsx(pN,{scope:e.__scopeAccordion,value:te.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:te.useCallback(()=>a&&c(""),[a,c]),children:o.jsx(gN,{scope:e.__scopeAccordion,collapsible:a,children:o.jsx(xN,{...i,ref:t})})})}),hI=te.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[i,l]=Hr({prop:r,defaultProp:n??[],onChange:s,caller:Jr}),c=te.useCallback(h=>l((f=[])=>[...f,h]),[l]),u=te.useCallback(h=>l((f=[])=>f.filter(p=>p!==h)),[l]);return o.jsx(pN,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:o.jsx(gN,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(xN,{...a,ref:t})})})}),[fI,mu]=fu(Jr),xN=te.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...i}=e,l=te.useRef(null),c=Re(l,t),u=iI(r),f=Yo(s)==="ltr",p=ce(e.onKeyDown,m=>{var A;if(!aI.includes(m.key))return;const w=m.target,g=u().filter(C=>{var E;return!((E=C.ref.current)!=null&&E.disabled)}),b=g.findIndex(C=>C.ref.current===w),v=g.length;if(b===-1)return;m.preventDefault();let x=b;const y=0,j=v-1,N=()=>{x=b+1,x>j&&(x=y)},_=()=>{x=b-1,x<y&&(x=j)};switch(m.key){case"Home":x=y;break;case"End":x=j;break;case"ArrowRight":a==="horizontal"&&(f?N():_());break;case"ArrowDown":a==="vertical"&&N();break;case"ArrowLeft":a==="horizontal"&&(f?_():N());break;case"ArrowUp":a==="vertical"&&_();break}const k=x%v;(A=g[k].ref.current)==null||A.focus()});return o.jsx(fI,{scope:r,disabled:n,direction:s,orientation:a,children:o.jsx(Qm.Slot,{scope:r,children:o.jsx(_e.div,{...i,"data-orientation":a,ref:c,onKeyDown:n?void 0:p})})})}),yc="AccordionItem",[mI,ep]=fu(yc),vN=te.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,a=mu(yc,r),i=cI(yc,r),l=Zm(r),c=Br(),u=n&&i.value.includes(n)||!1,h=a.disabled||e.disabled;return o.jsx(mI,{scope:r,open:u,disabled:h,triggerId:c,children:o.jsx(nI,{"data-orientation":a.orientation,"data-state":_N(u),...l,...s,ref:t,disabled:h,open:u,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});vN.displayName=yc;var yN="AccordionHeader",wN=te.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=mu(Jr,r),a=ep(yN,r);return o.jsx(_e.h3,{"data-orientation":s.orientation,"data-state":_N(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});wN.displayName=yN;var Vh="AccordionTrigger",bN=te.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=mu(Jr,r),a=ep(Vh,r),i=uI(Vh,r),l=Zm(r);return o.jsx(Qm.ItemSlot,{scope:r,children:o.jsx(sI,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:t})})});bN.displayName=Vh;var jN="AccordionContent",NN=te.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=mu(Jr,r),a=ep(jN,r),i=Zm(r);return o.jsx(oI,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});NN.displayName=jN;function _N(e){return e?"open":"closed"}var pI=mN,gI=vN,xI=wN,SN=bN,kN=NN;const Ex=pI,Wh=d.forwardRef(({className:e,...t},r)=>o.jsx(gI,{ref:r,className:je("border-b",e),...t}));Wh.displayName="AccordionItem";const qh=d.forwardRef(({className:e,children:t,...r},n)=>o.jsx(xI,{className:"flex",children:o.jsxs(SN,{ref:n,className:je("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,o.jsx(eb,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));qh.displayName=SN.displayName;const Hh=d.forwardRef(({className:e,children:t,...r},n)=>o.jsx(kN,{ref:n,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:o.jsx("div",{className:je("pb-4 pt-0",e),children:t})}));Hh.displayName=kN.displayName;function Er(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function os(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function wa(e,t){const r=Er(e);return isNaN(t)?os(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const CN=6048e5,vI=864e5;let yI={};function pu(){return yI}function Ls(e,t){var l,c,u,h;const r=pu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=Er(e),a=s.getDay(),i=(a<n?7:0)+a-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function wc(e){return Ls(e,{weekStartsOn:1})}function EN(e){const t=Er(e),r=t.getFullYear(),n=os(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=wc(n),a=os(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const i=wc(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function bc(e){const t=Er(e);return t.setHours(0,0,0,0),t}function Rx(e){const t=Er(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function wI(e,t){const r=bc(e),n=bc(t),s=+r-Rx(r),a=+n-Rx(n);return Math.round((s-a)/vI)}function bI(e){const t=EN(e),r=os(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),wc(r)}function RN(e,t){const r=t*7;return wa(e,r)}function cl(e,t){const r=bc(e),n=bc(t);return+r==+n}function jI(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function NI(e){if(!jI(e)&&typeof e!="number")return!1;const t=Er(e);return!isNaN(Number(t))}function _I(e){const t=Er(e),r=os(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const SI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kI=(e,t,r)=>{let n;const s=SI[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function md(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const CI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PI={date:md({formats:CI,defaultWidth:"full"}),time:md({formats:EI,defaultWidth:"full"}),dateTime:md({formats:RI,defaultWidth:"full"})},TI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},AI=(e,t,r,n)=>TI[e];function ua(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const OI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},II={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},DI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$I={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},LI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UI=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},FI={ordinalNumber:UI,era:ua({values:OI,defaultWidth:"wide"}),quarter:ua({values:II,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ua({values:MI,defaultWidth:"wide"}),day:ua({values:DI,defaultWidth:"wide"}),dayPeriod:ua({values:$I,defaultWidth:"wide",formattingValues:LI,defaultFormattingWidth:"wide"})};function da(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?BI(l,f=>f.test(i)):zI(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const h=t.slice(i.length);return{value:u,rest:h}}}function zI(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function BI(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function VI(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const WI=/^(\d+)(th|st|nd|rd)?/i,qI=/\d+/i,HI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KI={any:[/^b/i,/^(a|c)/i]},GI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YI={any:[/1/i,/2/i,/3/i,/4/i]},JI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},QI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rM={ordinalNumber:VI({matchPattern:WI,parsePattern:qI,valueCallback:e=>parseInt(e,10)}),era:da({matchPatterns:HI,defaultMatchWidth:"wide",parsePatterns:KI,defaultParseWidth:"any"}),quarter:da({matchPatterns:GI,defaultMatchWidth:"wide",parsePatterns:YI,defaultParseWidth:"any",valueCallback:e=>e+1}),month:da({matchPatterns:JI,defaultMatchWidth:"wide",parsePatterns:XI,defaultParseWidth:"any"}),day:da({matchPatterns:QI,defaultMatchWidth:"wide",parsePatterns:ZI,defaultParseWidth:"any"}),dayPeriod:da({matchPatterns:eM,defaultMatchWidth:"any",parsePatterns:tM,defaultParseWidth:"any"})},nM={code:"en-US",formatDistance:kI,formatLong:PI,formatRelative:AI,localize:FI,match:rM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sM(e){const t=Er(e);return wI(t,_I(t))+1}function oM(e){const t=Er(e),r=+wc(t)-+bI(t);return Math.round(r/CN)+1}function PN(e,t){var h,f,p,m;const r=Er(e),n=r.getFullYear(),s=pu(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=os(e,0);i.setFullYear(n+1,0,a),i.setHours(0,0,0,0);const l=Ls(i,t),c=os(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Ls(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function aM(e,t){var l,c,u,h;const r=pu(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=PN(e,t),a=os(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Ls(a,t)}function iM(e,t){const r=Er(e),n=+Ls(r,t)-+aM(r,t);return Math.round(n/CN)+1}function Ve(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Mn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ve(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ve(r+1,2)},d(e,t){return Ve(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ve(e.getHours()%12||12,t.length)},H(e,t){return Ve(e.getHours(),t.length)},m(e,t){return Ve(e.getMinutes(),t.length)},s(e,t){return Ve(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ve(s,t.length)}},to={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Px={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Mn.y(e,t)},Y:function(e,t,r,n){const s=PN(e,n),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return Ve(i,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ve(a,t.length)},R:function(e,t){const r=EN(e);return Ve(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ve(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ve(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ve(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Mn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ve(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=iM(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ve(s,t.length)},I:function(e,t,r){const n=oM(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ve(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Mn.d(e,t)},D:function(e,t,r){const n=sM(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ve(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ve(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ve(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ve(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=to.noon:n===0?s=to.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=to.evening:n>=12?s=to.afternoon:n>=4?s=to.morning:s=to.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Mn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Mn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ve(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ve(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Mn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Mn.s(e,t)},S:function(e,t){return Mn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Ax(n);case"XXXX":case"XX":return vs(n);case"XXXXX":case"XXX":default:return vs(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Ax(n);case"xxxx":case"xx":return vs(n);case"xxxxx":case"xxx":default:return vs(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Tx(n,":");case"OOOO":default:return"GMT"+vs(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Tx(n,":");case"zzzz":default:return"GMT"+vs(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ve(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ve(n,t.length)}};function Tx(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+Ve(a,2)}function Ax(e,t){return e%60===0?(e>0?"-":"+")+Ve(Math.abs(e)/60,2):vs(e,t)}function vs(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ve(Math.trunc(n/60),2),a=Ve(n%60,2);return r+s+t+a}const Ox=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},TN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},lM=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Ox(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Ox(n,t)).replace("{{time}}",TN(s,t))},cM={p:TN,P:lM},uM=/^D+$/,dM=/^Y+$/,hM=["D","DD","YY","YYYY"];function fM(e){return uM.test(e)}function mM(e){return dM.test(e)}function pM(e,t,r){const n=gM(e,t,r);if(console.warn(n),hM.includes(e))throw new RangeError(n)}function gM(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yM=/^'([^]*?)'?$/,wM=/''/g,bM=/[a-zA-Z]/;function xr(e,t,r){var h,f,p,m;const n=pu(),s=n.locale??nM,a=n.firstWeekContainsDate??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,l=Er(e);if(!NI(l))throw new RangeError("Invalid time value");let c=t.match(vM).map(w=>{const g=w[0];if(g==="p"||g==="P"){const b=cM[g];return b(w,s.formatLong)}return w}).join("").match(xM).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const g=w[0];if(g==="'")return{isToken:!1,value:jM(w)};if(Px[g])return{isToken:!0,value:w};if(g.match(bM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const g=w.value;(mM(g)||fM(g))&&pM(g,t,String(e));const b=Px[g[0]];return b(l,g,s.localize,u)}).join("")}function jM(e){const t=e.match(yM);return t?t[1].replace(wM,"'"):e}function NM(e,t){return RN(e,-t)}const _M={cup:{type:"volume",toBase:240},cups:{type:"volume",toBase:240},c:{type:"volume",toBase:240},tablespoon:{type:"volume",toBase:15},tablespoons:{type:"volume",toBase:15},tbsp:{type:"volume",toBase:15},teaspoon:{type:"volume",toBase:5},teaspoons:{type:"volume",toBase:5},tsp:{type:"volume",toBase:5},milliliter:{type:"volume",toBase:1},milliliters:{type:"volume",toBase:1},ml:{type:"volume",toBase:1},liter:{type:"volume",toBase:1e3},liters:{type:"volume",toBase:1e3},l:{type:"volume",toBase:1e3},"fluid ounce":{type:"volume",toBase:30},"fluid ounces":{type:"volume",toBase:30},"fl oz":{type:"volume",toBase:30},pint:{type:"volume",toBase:480},pints:{type:"volume",toBase:480},pt:{type:"volume",toBase:480},quart:{type:"volume",toBase:960},quarts:{type:"volume",toBase:960},qt:{type:"volume",toBase:960},gallon:{type:"volume",toBase:3840},gallons:{type:"volume",toBase:3840},gal:{type:"volume",toBase:3840},gram:{type:"weight",toBase:1},grams:{type:"weight",toBase:1},g:{type:"weight",toBase:1},kilogram:{type:"weight",toBase:1e3},kilograms:{type:"weight",toBase:1e3},kg:{type:"weight",toBase:1e3},ounce:{type:"weight",toBase:28.35},ounces:{type:"weight",toBase:28.35},oz:{type:"weight",toBase:28.35},pound:{type:"weight",toBase:453.59},pounds:{type:"weight",toBase:453.59},lb:{type:"weight",toBase:453.59},lbs:{type:"weight",toBase:453.59},milligram:{type:"weight",toBase:.001},milligrams:{type:"weight",toBase:.001},mg:{type:"weight",toBase:.001},piece:{type:"count",toBase:1},pieces:{type:"count",toBase:1},whole:{type:"count",toBase:1},item:{type:"count",toBase:1},items:{type:"count",toBase:1},clove:{type:"count",toBase:1},cloves:{type:"count",toBase:1},slice:{type:"count",toBase:1},slices:{type:"count",toBase:1},"":{type:"count",toBase:1}};function AN(e){return e.toLowerCase().trim()}function jc(e){const t=AN(e);return _M[t]||null}function SM(e,t){const r=jc(e),n=jc(t);return!r||!n?!1:r.type===n.type}function Ix(e,t){const r=jc(t);return r?e*r.toBase:null}function kM(e,t){return t==="volume"?e>=3840?{quantity:e/3840,unit:"gallon"}:e>=960?{quantity:e/960,unit:"quart"}:e>=240?{quantity:e/240,unit:"cup"}:e>=15?{quantity:e/15,unit:"tbsp"}:{quantity:e/5,unit:"tsp"}:t==="weight"?e>=1e3?{quantity:e/1e3,unit:"kg"}:e>=453.59?{quantity:e/453.59,unit:"lb"}:e>=28.35?{quantity:e/28.35,unit:"oz"}:{quantity:e,unit:"g"}:{quantity:e,unit:""}}function CM(e){if(e=e.trim(),e.includes("/")){const r=e.split(/\s+/);let n=0;for(const s of r)if(s.includes("/")){const[a,i]=s.split("/").map(l=>parseFloat(l));!isNaN(a)&&!isNaN(i)&&i!==0&&(n+=a/i)}else{const a=parseFloat(s);isNaN(a)||(n+=a)}return n}const t=parseFloat(e);return isNaN(t)?0:t}function EM(e){if(e===Math.floor(e))return e.toString();const t={"0.25":"1/4","0.33":"1/3","0.5":"1/2","0.66":"2/3","0.67":"2/3","0.75":"3/4"},r=Math.floor(e),n=e-r,s=n.toFixed(2);return t[s]?r>0?`${r} ${t[s]}`:t[s]:n<.01?r.toString():e.toFixed(2).replace(/\.?0+$/,"")}const RM=[{name:"Produce",sortOrder:0},{name:"Meat & Seafood",sortOrder:1},{name:"Dairy & Eggs",sortOrder:2},{name:"Bakery",sortOrder:3},{name:"Pantry",sortOrder:4},{name:"Frozen",sortOrder:5},{name:"Beverages",sortOrder:6},{name:"Other",sortOrder:7}],PM={tomato:"Produce",tomatoes:"Produce",onion:"Produce",onions:"Produce",garlic:"Produce",carrot:"Produce",carrots:"Produce",potato:"Produce",potatoes:"Produce",lettuce:"Produce",spinach:"Produce",broccoli:"Produce","bell pepper":"Produce",peppers:"Produce",mushroom:"Produce",mushrooms:"Produce",cucumber:"Produce",zucchini:"Produce",apple:"Produce",apples:"Produce",banana:"Produce",bananas:"Produce",lemon:"Produce",lemons:"Produce",lime:"Produce",limes:"Produce",avocado:"Produce",cilantro:"Produce",parsley:"Produce",basil:"Produce",chicken:"Meat & Seafood",beef:"Meat & Seafood",pork:"Meat & Seafood",turkey:"Meat & Seafood",salmon:"Meat & Seafood",shrimp:"Meat & Seafood",fish:"Meat & Seafood",bacon:"Meat & Seafood",sausage:"Meat & Seafood","ground beef":"Meat & Seafood",milk:"Dairy & Eggs",cheese:"Dairy & Eggs",butter:"Dairy & Eggs",eggs:"Dairy & Eggs",egg:"Dairy & Eggs",yogurt:"Dairy & Eggs",cream:"Dairy & Eggs","sour cream":"Dairy & Eggs",cheddar:"Dairy & Eggs",mozzarella:"Dairy & Eggs",parmesan:"Dairy & Eggs",bread:"Bakery",tortilla:"Bakery",tortillas:"Bakery",buns:"Bakery",rolls:"Bakery",bagels:"Bakery",croissant:"Bakery",rice:"Pantry",pasta:"Pantry",flour:"Pantry",sugar:"Pantry",salt:"Pantry",pepper:"Pantry",oil:"Pantry","olive oil":"Pantry","vegetable oil":"Pantry",vinegar:"Pantry","soy sauce":"Pantry",beans:"Pantry",chickpeas:"Pantry",lentils:"Pantry","tomato sauce":"Pantry","tomato paste":"Pantry",broth:"Pantry",stock:"Pantry",honey:"Pantry","peanut butter":"Pantry","canned tomatoes":"Pantry","ice cream":"Frozen","frozen vegetables":"Frozen","frozen peas":"Frozen","frozen corn":"Frozen",water:"Beverages",juice:"Beverages",coffee:"Beverages",tea:"Beverages",soda:"Beverages"};function ON(e){return e.toLowerCase().trim().replace(/\s+/g," ").replace(/[^a-z0-9\s]/g,"")}function TM(e,t){var s;const r=ON(e);for(const[a,i]of Object.entries(PM))if(r.includes(a)){const l=t.find(c=>c.name===i);if(l)return l.id}const n=t.find(a=>a.name==="Other");return(n==null?void 0:n.id)||((s=t[0])==null?void 0:s.id)||""}function IN(){return RM.map((e,t)=>({id:`cat-${t}`,name:e.name,sortOrder:e.sortOrder}))}function AM(e,t){const r=IN(),n=new Map;for(const s of e){const a=t.find(l=>l.id===s.recipeId);if(!a)continue;const i=s.servings/a.servings;for(const l of a.ingredients){const c=CM(l.quantity)*i,h=`${ON(l.name)}-${AN(l.unit)}`,f=n.get(h);if(f){if(SM(f.unit,l.unit)){const p=Ix(f.quantity,f.unit)||0,m=Ix(c,l.unit)||0,w=p+m,g=jc(f.unit);if(g){const b=kM(w,g.type);f.quantity=b.quantity,f.unit=b.unit}}else f.quantity+=c;f.sourceRecipeIds.includes(a.id)||f.sourceRecipeIds.push(a.id)}else{const p=TM(l.name,r),m={id:`item-${Date.now()}-${Math.random()}`,name:l.name,quantity:c,unit:l.unit,categoryId:p,checked:!1,sourceRecipeIds:[a.id]};n.set(h,m)}}}return Array.from(n.values())}function OM(e,t){const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${s}`}function IM(e){const[t,r,n]=e.split("-").map(Number);return new Date(t,r-1,n,0,0,0,0)}const pd=["Breakfast","Lunch","Dinner","Snack"];function MM({onNavigate:e}={}){const{state:t,dispatch:r}=zs(),[n,s]=d.useState(Ls(new Date,{weekStartsOn:0})),[a,i]=d.useState(1),[l,c]=d.useState([]),[u,h]=d.useState(!0),[f,p]=d.useState(""),[m,w]=d.useState(!1),[g,b]=d.useState(null),[v,x]=d.useState(""),[y,j]=d.useState(""),[N,_]=d.useState(!1),[k,A]=d.useState(null),[C,E]=d.useState(null),[M,D]=d.useState(null),[W,J]=d.useState(!1),[X,F]=d.useState(window.innerWidth<768),[P,R]=d.useState(new Date);d.useEffect(()=>{const H=()=>F(window.innerWidth<768);return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]),d.useEffect(()=>{const H=localStorage.getItem("userId");H?p(H):h(!1)},[]),d.useEffect(()=>{O()},[f,n,a,t.mealPlan,t.savedRecipes]);const S=d.useMemo(()=>{const H={};return t.savedRecipes.forEach(ae=>{const G=ae.cuisineType||"Other";H[G]||(H[G]=[]),H[G].push(ae)}),Object.entries(H).sort(([ae],[G])=>ae.localeCompare(G)).map(([ae,G])=>({cuisine:ae,recipes:G}))},[t.savedRecipes]),O=async()=>{h(!0);try{const H=t.mealPlan.map(ae=>{const G=t.savedRecipes.find(Se=>Se.id===ae.recipeId);return{...ae,recipe:G}});c(H)}catch(H){console.error("Error loading meal plans:",H),$.error("Failed to load meal plans")}finally{h(!1)}},q=async()=>{try{const H=t.mealPlan.map(G=>({recipeId:G.recipeId,servings:G.servings||2})),ae=AM(H,t.savedRecipes);r({type:"UPDATE_GROCERY_LIST",payload:ae}),$.success("Grocery list updated!")}catch(H){console.error("Error syncing grocery list:",H),$.error("Failed to update grocery list")}},K=(H,ae)=>l.find(G=>cl(IM(G.date),H)&&G.mealType===ae),V=H=>{(M==null?void 0:M.id)===H.id?(D(null),$.info("Recipe deselected")):(D(H),$.success("Recipe selected - now click a meal slot to assign"),X&&J(!1))},Z=async(H,ae,G)=>{const Se=OM(H),ee=K(H,ae);try{r(ee?{type:"UPDATE_MEAL_PLAN",payload:{id:ee.id,recipeId:G.id,date:Se,mealType:ae,servings:G.servings}}:{type:"ADD_MEAL_PLAN",payload:{id:`meal-${Date.now()}`,recipeId:G.id,date:Se,mealType:ae,servings:G.servings}}),await O(),await q()}catch(he){throw console.error("Error adding meal:",he),he}},re=async(H,ae)=>{const G=M;if(G)try{await Z(H,ae,G),$.success("Meal assigned to calendar"),D(null)}catch{$.error("Failed to add meal")}},ue=async H=>{try{r({type:"REMOVE_MEAL_PLAN",payload:H}),$.success("Meal removed"),await O(),await q()}catch(ae){console.error("Error removing meal:",ae),$.error("Failed to remove meal")}},Q=()=>{s(H=>NM(H,a))},me=()=>{s(H=>RN(H,a))},U=H=>{b(H),w(!0)},I=async()=>{if(!g||!v||!y){$.error("Please select both date and meal type");return}const H=new Date(v);try{await Z(H,y,g),$.success("Meal added to calendar"),w(!1),b(null),x(""),j("")}catch{$.error("Failed to add meal")}},z=(H,ae)=>{A(H),E(ae),_(!0)},se=async H=>{if(!k||!C)return;const ae=t.savedRecipes.find(G=>G.id===H);if(ae)try{await Z(k,C,ae),$.success("Meal added to calendar"),_(!1),A(null),E(null)}catch{$.error("Failed to add meal")}},ge=()=>{const H=[],ae=a*7;for(let G=0;G<ae;G++)H.push(wa(n,G));return H},ke=()=>{const H=Ls(new Date,{weekStartsOn:0});s(H),R(new Date)},Pe=H=>{i(H),R(n)},Te=()=>o.jsx("div",{className:`${X?"fixed inset-0 z-40 bg-black/50":""}`,onClick:()=>X&&J(!1),children:o.jsxs("div",{className:`${X?"fixed left-0 top-0 bottom-0 w-80 bg-white shadow-lg":"w-80 border-r border-slate-200 bg-white shadow-sm"} flex flex-col`,onClick:H=>H.stopPropagation(),children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 bg-gradient-to-br from-blue-50 to-cyan-50 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:o.jsx(zg,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"My Recipes"}),o.jsx("p",{className:"text-xs text-slate-600",children:"Select & click slot"})]})]}),X&&o.jsx("button",{onClick:()=>J(!1),className:"p-1",children:o.jsx(Zt,{className:"w-6 h-6"})})]}),o.jsx(Es,{className:"flex-1",children:o.jsx("div",{className:"p-4",children:t.savedRecipes.length===0?o.jsxs("div",{className:"text-center py-8 px-4",children:[o.jsx(zg,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),o.jsx("p",{className:"text-sm text-slate-500",children:"No saved recipes yet. Save recipes from the Discover page."})]}):o.jsx(Ex,{type:"multiple",defaultValue:S.map(H=>H.cuisine),className:"space-y-2",children:S.map(({cuisine:H,recipes:ae})=>o.jsxs(Wh,{value:H,className:"border rounded-lg px-4 bg-slate-50",children:[o.jsx(qh,{className:"hover:no-underline py-3",children:o.jsxs("div",{className:"flex items-center justify-between w-full pr-2",children:[o.jsx("span",{className:"font-semibold text-slate-900",children:H}),o.jsx(Je,{variant:"secondary",children:ae.length})]})}),o.jsx(Hh,{className:"pb-3",children:o.jsx("div",{className:"space-y-3 pt-2",children:ae.map(G=>{var Se,ee;return o.jsx("div",{className:"group",children:o.jsx(He,{className:`overflow-hidden hover:shadow-md transition-all duration-200 ${(M==null?void 0:M.id)===G.id?"border-2 border-orange-500 bg-orange-50":"border-slate-200 hover:border-blue-300 bg-white"}`,children:o.jsxs(Xe,{className:"p-0",children:[o.jsxs("div",{onClick:()=>V(G),className:"flex gap-3 p-3 cursor-pointer",children:[G.imageUrl&&o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden shrink-0 bg-slate-100",children:o.jsx("img",{src:(Se=G.imageUrl)!=null&&Se.includes("instagram.com")||(ee=G.imageUrl)!=null&&ee.includes("cdninstagram.com")?`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(G.imageUrl.replace(/&amp;/g,"&"))}`:G.imageUrl,alt:G.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[o.jsx("h3",{className:"font-semibold text-sm text-slate-900 line-clamp-2",children:G.title}),(M==null?void 0:M.id)===G.id&&o.jsx(rc,{className:"w-4 h-4 text-orange-600 shrink-0"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(en,{className:"w-3 h-3"}),o.jsxs("span",{children:[G.prepTime+G.cookTime,"m"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Cs,{className:"w-3 h-3"}),o.jsx("span",{children:G.servings})]})]}),G.mealType.length>0&&o.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:G.mealType.slice(0,2).map(he=>o.jsx(Je,{variant:"secondary",className:"text-xs",children:he},he))})]})]}),o.jsx("div",{className:"px-3 pb-3",children:o.jsxs(Y,{variant:"outline",size:"sm",className:"w-full",onClick:he=>{he.stopPropagation(),U(G)},children:[o.jsx(sn,{className:"w-4 h-4 mr-1"}),"Add to Plan"]})})]})})},G.id)})})})]},H))})})})]})});return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex flex-col md:flex-row",children:[!X&&o.jsx(Te,{}),X&&W&&o.jsx(Te,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx("div",{className:"border-b border-slate-200 bg-white shadow-sm",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-blue-600 to-cyan-600 flex items-center justify-center",children:o.jsx(ti,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:"Meal Planner"}),o.jsx("p",{className:"text-xs md:text-sm text-slate-600",children:"Select recipe, click slot"})]})]}),X&&o.jsx("button",{onClick:()=>J(!W),className:"p-2 hover:bg-slate-100 rounded-lg",children:o.jsx(om,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-stretch sm:items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center",children:[o.jsxs(Y,{variant:"destructive",size:"sm",onClick:()=>{confirm("Clear all meal plans?")&&(r({type:"CLEAR_MEAL_PLAN"}),$.success("All meals cleared"))},className:"gap-2 text-xs md:text-sm",children:[o.jsx(Yt,{className:"w-4 h-4"}),"Clear"]}),!X&&o.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 rounded-lg p-1",children:[o.jsx(Y,{variant:a===1?"default":"ghost",size:"sm",onClick:()=>Pe(1),className:"h-8 text-xs",children:"1W"}),o.jsx(Y,{variant:a===4?"default":"ghost",size:"sm",onClick:()=>Pe(4),className:"h-8 text-xs",children:"4W"})]})]}),o.jsxs(Y,{onClick:()=>e==null?void 0:e("grocery-list"),className:"bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white font-medium shadow-lg text-xs md:text-sm",children:[o.jsx(Uo,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"Grocery List"]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Y,{variant:"outline",size:"sm",onClick:Q,className:"h-8 w-8 p-0",children:o.jsx(jh,{className:"w-4 h-4"})}),o.jsx(Y,{variant:"outline",size:"sm",onClick:ke,className:"h-8 text-xs px-2",children:"Today"}),o.jsx(Y,{variant:"outline",size:"sm",onClick:me,className:"h-8 w-8 p-0",children:o.jsx(Nh,{className:"w-4 h-4"})})]}),o.jsxs("h2",{className:"text-sm md:text-lg font-semibold text-slate-700 whitespace-nowrap",children:[xr(n,"MMM d")," - ",xr(wa(n,a*7-1),"MMM d")]})]})]})}),o.jsx(Es,{className:"flex-1",children:o.jsx("div",{className:"p-4 md:p-6",children:u?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):X?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 -mx-4 px-4",children:[o.jsx(Y,{variant:"outline",size:"sm",onClick:Q,className:"h-8",children:o.jsx(jh,{className:"w-4 h-4"})}),o.jsxs("span",{className:"text-sm font-medium text-slate-600 whitespace-nowrap",children:[xr(n,"MMM d")," - ",xr(wa(n,6),"MMM d")]}),o.jsx(Y,{variant:"outline",size:"sm",onClick:me,className:"h-8",children:o.jsx(Nh,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"overflow-x-auto -mx-4 px-4",children:o.jsx("div",{className:"flex gap-2 pb-2",children:Array.from({length:7}).map((H,ae)=>{const G=wa(n,ae);return o.jsxs("button",{onClick:()=>R(G),className:`flex-shrink-0 rounded-lg p-3 transition-all ${cl(G,P)?"bg-blue-600 text-white shadow-lg":cl(G,new Date)?"bg-blue-100 text-blue-600 border-2 border-blue-300":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[o.jsx("div",{className:"text-xs font-medium text-center",children:xr(G,"EEE")}),o.jsx("div",{className:"text-lg font-bold text-center",children:xr(G,"d")})]},G.toISOString())})})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:xr(P,"EEEE, MMMM d")}),pd.map(H=>{var G,Se;const ae=K(P,H);return o.jsx("div",{onClick:()=>{M&&!ae&&re(P,H)},className:`rounded-lg border-2 overflow-hidden transition-all ${ae?"bg-white border-slate-200 shadow-sm":M?"border-orange-400 bg-orange-50 border-dashed cursor-pointer active:bg-orange-100":"border-slate-200 bg-slate-50 border-dashed"}`,children:ae&&ae.recipe?o.jsxs("div",{className:"group",children:[ae.recipe.imageUrl&&o.jsxs("div",{className:"w-full h-48 overflow-hidden bg-slate-100 relative",children:[o.jsx("img",{src:(G=ae.recipe.imageUrl)!=null&&G.includes("instagram.com")||(Se=ae.recipe.imageUrl)!=null&&Se.includes("cdninstagram.com")?`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(ae.recipe.imageUrl.replace(/&amp;/g,"&"))}`:ae.recipe.imageUrl,alt:ae.recipe.title,className:"w-full h-full object-cover"}),o.jsx("button",{onClick:ee=>{ee.stopPropagation(),ue(ae.id)},className:"absolute top-2 right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Zt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"text-sm font-medium text-slate-500 mb-2",children:H}),o.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-2",children:ae.recipe.title}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(en,{className:"w-4 h-4"}),o.jsxs("span",{children:[ae.recipe.prepTime+ae.recipe.cookTime,"m"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Cs,{className:"w-4 h-4"}),o.jsxs("span",{children:[ae.recipe.servings," servings"]})]})]})]})]}):o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"text-sm font-medium text-slate-500 mb-2",children:H}),o.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"No meal planned"}),o.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>z(P,H),className:"gap-2",children:[o.jsx(sn,{className:"w-4 h-4"}),"Add Meal"]})]})},H)})]})]}):o.jsx("div",{className:"grid gap-4 grid-cols-7",children:ge().map((H,ae)=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-center pb-2 border-b-2 border-slate-200",children:[o.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:xr(H,"EEE")}),o.jsx("div",{className:`text-lg font-bold ${cl(H,new Date)?"text-blue-600":"text-slate-900"}`,children:xr(H,"d")})]}),o.jsx("div",{className:"space-y-2",children:pd.map(G=>{var ee,he;const Se=K(H,G);return o.jsx("div",{onClick:()=>{M&&re(H,G)},className:`
                              min-h-[100px] rounded-lg border-2 p-2
                              transition-all relative group
                              ${M&&!Se?"border-orange-400 bg-orange-50 cursor-pointer hover:bg-orange-100 hover:border-orange-500 border-dashed":"border-slate-200 bg-slate-50/50"}
                              ${Se?"border-solid bg-white hover:shadow-md":"border-dashed"}
                            `,children:Se&&Se.recipe?o.jsxs("div",{className:"relative h-full",children:[o.jsx("button",{onClick:we=>{we.stopPropagation(),ue(Se.id)},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-10 shadow-sm",children:o.jsx(Zt,{className:"w-3 h-3"})}),Se.recipe.imageUrl&&o.jsx("div",{className:"w-full h-16 rounded-md overflow-hidden mb-2 bg-slate-100",children:o.jsx("img",{src:(ee=Se.recipe.imageUrl)!=null&&ee.includes("instagram.com")||(he=Se.recipe.imageUrl)!=null&&he.includes("cdninstagram.com")?`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(Se.recipe.imageUrl.replace(/&amp;/g,"&"))}`:Se.recipe.imageUrl,alt:Se.recipe.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"text-xs",children:[o.jsx("div",{className:"font-medium text-slate-500 mb-1",children:G}),o.jsx("div",{className:"font-semibold text-slate-900 line-clamp-2 text-xs",children:Se.recipe.title}),o.jsxs("div",{className:"flex items-center gap-1 mt-1 text-slate-500 text-xs",children:[o.jsx(en,{className:"w-3 h-3"}),o.jsxs("span",{children:[Se.recipe.prepTime+Se.recipe.cookTime,"m"]})]})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center gap-1",children:[o.jsx("div",{className:"text-xs font-medium text-slate-400",children:G}),o.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>z(H,G),className:"h-6 text-xs px-2 gap-1 hover:bg-blue-50 hover:text-blue-600 transition-colors",children:[o.jsx(sn,{className:"w-3 h-3"}),"Add"]})]})},`${ae}-${G}`)})})]},ae))})})})]}),o.jsx(_t,{open:m,onOpenChange:w,children:o.jsxs(vt,{className:"w-[95vw] max-w-sm",children:[o.jsxs(Bt,{children:[o.jsx(Dt,{children:"Add Meal to Plan"}),o.jsx(Nr,{children:g&&`Add "${g.title}" to your meal plan`})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Date"}),o.jsxs(an,{value:v,onValueChange:x,children:[o.jsx(Vr,{children:o.jsx(ln,{placeholder:"Select date"})}),o.jsx(Wr,{children:ge().map(H=>o.jsx(ir,{value:xr(H,"yyyy-MM-dd"),children:xr(H,"EEE, MMM d")},H.toISOString()))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Meal Type"}),o.jsxs(an,{value:y,onValueChange:H=>j(H),children:[o.jsx(Vr,{children:o.jsx(ln,{placeholder:"Select meal type"})}),o.jsx(Wr,{children:pd.map(H=>o.jsx(ir,{value:H,children:H},H))})]})]})]}),o.jsxs(rs,{className:"flex gap-2",children:[o.jsx(Y,{variant:"outline",onClick:()=>{w(!1),b(null),x(""),j("")},children:"Cancel"}),o.jsx(Y,{onClick:I,disabled:!v||!y,children:"Add"})]})]})}),o.jsx(_t,{open:N,onOpenChange:_,children:o.jsxs(vt,{className:"w-[95vw] max-w-2xl max-h-[80vh]",children:[o.jsxs(Bt,{children:[o.jsx(Dt,{children:"Select Recipe"}),o.jsx(Nr,{children:k&&C&&`Add a recipe for ${C} on ${xr(k,"EEE, MMM d")}`})]}),o.jsx(Es,{className:"max-h-[50vh]",children:o.jsx("div",{className:"space-y-4 py-4 pr-4",children:S.length===0?o.jsx("div",{className:"text-center py-8 text-slate-500",children:"No saved recipes. Save recipes from the Discover page first."}):o.jsx(Ex,{type:"multiple",defaultValue:S.map(H=>H.cuisine),children:S.map(({cuisine:H,recipes:ae})=>o.jsxs(Wh,{value:H,children:[o.jsx(qh,{children:o.jsxs("div",{className:"flex items-center justify-between w-full pr-2",children:[o.jsx("span",{className:"font-semibold",children:H}),o.jsx(Je,{variant:"secondary",children:ae.length})]})}),o.jsx(Hh,{children:o.jsx("div",{className:"space-y-2 pt-2",children:ae.map(G=>{var Se,ee;return o.jsx("button",{onClick:()=>se(G.id),className:"w-full text-left p-3 rounded-lg border border-slate-200 hover:border-blue-300 hover:bg-blue-50 transition-all",children:o.jsxs("div",{className:"flex gap-3",children:[G.imageUrl&&o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden shrink-0 bg-slate-100",children:o.jsx("img",{src:(Se=G.imageUrl)!=null&&Se.includes("instagram.com")||(ee=G.imageUrl)!=null&&ee.includes("cdninstagram.com")?`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(G.imageUrl.replace(/&amp;/g,"&"))}`:G.imageUrl,alt:G.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm text-slate-900 mb-1",children:G.title}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(en,{className:"w-3 h-3"}),o.jsxs("span",{children:[G.prepTime+G.cookTime,"m"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Cs,{className:"w-3 h-3"}),o.jsx("span",{children:G.servings})]})]})]})]})},G.id)})})})]},H))})})}),o.jsx(rs,{children:o.jsx(Y,{variant:"outline",onClick:()=>{_(!1),A(null),E(null)},children:"Cancel"})})]})})]})}function DM({onNavigate:e}={}){const{state:t,dispatch:r}=zs(),[n,s]=d.useState(IN()),[a,i]=d.useState(!1),[l,c]=d.useState(null),[u,h]=d.useState(null),[f,p]=d.useState(""),[m,w]=d.useState(""),[g,b]=d.useState(""),[v,x]=d.useState(""),[y,j]=d.useState(!1),[N,_]=d.useState(""),[k,A]=d.useState(new Date().toISOString().split("T")[0]),[C,E]=d.useState(new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0]),[M,D]=d.useState(!1),[W,J]=d.useState(null),[X,F]=d.useState(null),P=t.groceryList;d.useEffect(()=>{R()},[k,C]);function R(){const ee=new Date(k);ee.setHours(0,0,0,0);const he=new Date(C);he.setHours(23,59,59,999);const we=t.mealPlan.filter(ie=>{const ve=new Date(ie.date);return ve.setHours(0,0,0,0),ve>=ee&&ve<=he}),$e={};we.forEach(ie=>{const ve=t.savedRecipes.find(Ae=>Ae.id===ie.recipeId);ve&&ve.ingredients.forEach(Ae=>{const yt=`${Ae.name.toLowerCase()}-${Ae.unit}`;if($e[yt])$e[yt].quantity+=parseFloat(Ae.quantity)||0,$e[yt].sourceRecipeIds.includes(ve.id)||$e[yt].sourceRecipeIds.push(ve.id);else{const hn=S(Ae.name);$e[yt]={id:`item-${Date.now()}-${Math.random()}`,name:Ae.name,quantity:parseFloat(Ae.quantity)||1,unit:Ae.unit||"",categoryId:hn,checked:!1,sourceRecipeIds:[ve.id]}}})});const Tt=new Set(P.map(ie=>`${ie.name.toLowerCase()}-${ie.unit}`)),B=Object.values($e).filter(ie=>!Tt.has(`${ie.name.toLowerCase()}-${ie.unit}`));B.length>0&&r({type:"UPDATE_GROCERY_LIST",payload:[...P,...B]})}function S(ee){const he=ee.toLowerCase();return he.includes("milk")||he.includes("cheese")||he.includes("yogurt")||he.includes("butter")||he.includes("cream")?"dairy":he.includes("chicken")||he.includes("beef")||he.includes("pork")||he.includes("fish")||he.includes("meat")?"meat":he.includes("apple")||he.includes("banana")||he.includes("orange")||he.includes("berry")||he.includes("fruit")||he.includes("lettuce")||he.includes("tomato")||he.includes("carrot")||he.includes("onion")||he.includes("vegetable")?"produce":he.includes("bread")||he.includes("pasta")||he.includes("rice")||he.includes("cereal")?"pantry":"other"}function O(ee){r({type:"TOGGLE_GROCERY_ITEM",payload:ee})}function q(ee){r({type:"REMOVE_GROCERY_ITEM",payload:ee}),F(null)}function K(){const ee=P.filter(he=>!he.checked);r({type:"UPDATE_GROCERY_LIST",payload:ee})}function V(){window.confirm("Are you sure you want to clear all items from your grocery list?")&&r({type:"UPDATE_GROCERY_LIST",payload:[]})}function Z(){if(!f.trim()||!v)return;const ee={id:`item-${Date.now()}-${Math.random()}`,name:f.trim(),quantity:parseFloat(m)||1,unit:g||"",categoryId:v,checked:!1,sourceRecipeIds:[]};r({type:"ADD_GROCERY_ITEM",payload:ee}),i(!1),p(""),w(""),b(""),x("")}function re(){if(!N)return;const ee=t.savedRecipes.find(we=>we.id===N);if(!ee){$.error("Recipe not found");return}const he=ee.ingredients.map((we,$e)=>{const Tt=S(we.name);return{id:`item-${Date.now()}-${$e}`,name:we.name,quantity:parseFloat(we.quantity)||1,unit:we.unit||"",categoryId:Tt,checked:!1,sourceRecipeIds:[ee.id]}});r({type:"UPDATE_GROCERY_LIST",payload:[...P,...he]}),$.success(`Added ${he.length} ingredients from ${ee.title}`),j(!1),_("")}function ue(ee,he){const we=P.map($e=>$e.id===ee?{...$e,categoryId:he}:$e);r({type:"UPDATE_GROCERY_LIST",payload:we})}function Q(ee){J(ee),D(!0)}function me(ee){c(ee)}function U(ee){ee.preventDefault()}function I(ee){l&&(ue(l,ee),c(null))}function z(ee){h(ee)}async function se(ee){if(!u||u===ee){h(null);return}const he=n.findIndex(ie=>ie.id===u),we=n.findIndex(ie=>ie.id===ee);if(he===-1||we===-1)return;const $e=[...n],[Tt]=$e.splice(he,1);$e.splice(we,0,Tt);const B=$e.map((ie,ve)=>({...ie,sortOrder:ve}));s(B),h(null)}async function ge(){try{const{data:ee}=await L.auth.getUser();if(!ee.user){$.error("Please sign in to add items to cart");return}if(P.length===0){$.error("No items to send to cart");return}const he=P.map($e=>({user_id:ee.user.id,product_name:$e.name,quantity:`${$e.quantity} ${$e.unit}`.trim(),price:"0.00",image_url:null,affiliate_link:null})),{error:we}=await L.from("cart_items").insert(he);if(we)throw we;$.success(`Added ${P.length} items to cart!`),e&&setTimeout(()=>e("cart"),1e3)}catch(ee){console.error("Failed to send to cart:",ee),$.error("Failed to send items to cart")}}let ke=0,Pe=0;function Te(ee,he){ke=ee.targetTouches[0].clientX}function H(ee,he){Pe=ee.changedTouches[0].clientX;const we=ke-Pe;we>100?F(he):we<-50&&F(null)}const ae=n.reduce((ee,he)=>(ee[he.id]=P.filter(we=>we.categoryId===he.id),ee),{}),G=P.filter(ee=>ee.checked).length,Se=P.length;return o.jsxs("div",{className:"max-w-4xl mx-auto p-4 pb-24",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex flex-col gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Grocery List"}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[G," of ",Se," items checked"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(Y,{onClick:()=>i(!0),className:"flex-1 min-w-[140px] h-12",children:[o.jsx(sn,{className:"w-4 h-4 mr-2"}),"Add Item"]}),o.jsxs(Y,{variant:"outline",onClick:()=>j(!0),className:"flex-1 min-w-[140px] h-12",children:[o.jsx(ts,{className:"w-4 h-4 mr-2"}),"Add Recipe"]})]}),(G>0||Se>0)&&o.jsxs("div",{className:"flex flex-wrap gap-2",children:[G>0&&o.jsxs(Y,{variant:"outline",onClick:K,className:"flex-1 h-12",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Clear Checked"]}),Se>0&&o.jsxs(o.Fragment,{children:[o.jsxs(Y,{variant:"destructive",onClick:V,className:"flex-1 h-12",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Clear All"]}),o.jsxs(Y,{onClick:ge,className:"w-full h-12 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",children:[o.jsx(Uo,{className:"w-4 h-4 mr-2"}),"Send to Cart"]})]})]})]}),o.jsx(He,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:o.jsx(Xe,{className:"pt-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ti,{className:"w-5 h-5 text-blue-600"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Auto-populate from Meal Planner"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Fe,{className:"text-xs text-gray-600",children:"From:"}),o.jsx(nt,{type:"date",value:k,onChange:ee=>A(ee.target.value),className:"w-full h-12"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Fe,{className:"text-xs text-gray-600",children:"To:"}),o.jsx(nt,{type:"date",value:C,onChange:ee=>E(ee.target.value),className:"w-full h-12"})]}),o.jsx(Y,{onClick:R,className:"h-12 sm:self-end",children:"Refresh"})]})]})})})]}),Se===0?o.jsx(He,{children:o.jsxs(Xe,{className:"py-12 text-center",children:[o.jsx("p",{className:"text-gray-500 mb-4",children:"Your grocery list is empty. Add recipes to your meal plan to automatically generate a grocery list."}),o.jsxs(Y,{onClick:()=>e==null?void 0:e("meal-planner"),className:"h-12",children:[o.jsx(ti,{className:"w-4 h-4 mr-2"}),"Go to Meal Planner"]})]})}):o.jsx("div",{className:"space-y-4",children:n.map(ee=>{const he=ae[ee.id]||[];return he.length===0?null:o.jsxs(He,{draggable:!0,onDragStart:()=>z(ee.id),onDragOver:U,onDrop:()=>se(ee.id),className:`transition-all ${u===ee.id?"opacity-50":""}`,children:[o.jsx(wt,{className:"pb-3 cursor-move",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(td,{className:"w-4 h-4 text-gray-400"}),o.jsx(bt,{className:"text-lg",children:ee.name}),o.jsx(Je,{variant:"secondary",children:he.length})]})})}),o.jsx(Xe,{onDragOver:U,onDrop:()=>I(ee.id),children:o.jsx("div",{className:"space-y-2",children:he.map(we=>o.jsxs("div",{draggable:!0,onDragStart:()=>me(we.id),onTouchStart:$e=>Te($e,we.id),onTouchEnd:$e=>H($e,we.id),className:`relative flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-all ${l===we.id?"opacity-50":""} ${we.checked?"opacity-60":""} ${X===we.id?"bg-red-50":""}`,children:[o.jsx(td,{className:"w-4 h-4 text-gray-400 cursor-move hidden md:block"}),o.jsx("button",{onClick:()=>Q(we),className:"md:hidden p-2 -ml-2",children:o.jsx(td,{className:"w-5 h-5 text-gray-400"})}),o.jsx(ni,{checked:we.checked,onCheckedChange:()=>O(we.id),className:"h-6 w-6"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:`font-medium text-base ${we.checked?"line-through text-gray-500":"text-gray-900"}`,children:we.name}),we.sourceRecipeIds.length>1&&o.jsxs(Je,{variant:"outline",className:"text-xs",children:[we.sourceRecipeIds.length," recipes"]})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[EM(we.quantity)," ",we.unit]})]}),o.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>q(we.id),className:"shrink-0 h-10 w-10",children:o.jsx(Yt,{className:"w-5 h-5 text-red-500"})})]},we.id))})})]},ee.id)})}),o.jsx(_t,{open:M,onOpenChange:D,children:o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsx(Dt,{children:"Move to Category"}),o.jsxs(Nr,{children:['Select a new category for "',W==null?void 0:W.name,'"']})]}),o.jsx("div",{className:"space-y-2 py-4",children:n.map(ee=>o.jsx(Y,{variant:"outline",className:"w-full h-14 justify-start text-left",onClick:()=>{W&&ue(W.id,ee.id),D(!1),J(null)},children:o.jsx("span",{className:"text-base font-medium",children:ee.name})},ee.id))})]})}),o.jsx(_t,{open:a,onOpenChange:i,children:o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsx(Dt,{children:"Add Item"}),o.jsx(Nr,{children:"Add a new item to your grocery list."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"itemName",children:"Item Name *"}),o.jsx(nt,{id:"itemName",value:f,onChange:ee=>p(ee.target.value),placeholder:"e.g., Milk, Eggs",className:"h-12"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"itemQuantity",children:"Quantity"}),o.jsx(nt,{id:"itemQuantity",type:"number",value:m,onChange:ee=>w(ee.target.value),placeholder:"1",className:"h-12"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"itemUnit",children:"Unit"}),o.jsx(nt,{id:"itemUnit",value:g,onChange:ee=>b(ee.target.value),placeholder:"e.g., cups, lbs",className:"h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"itemCategory",children:"Category *"}),o.jsxs(an,{value:v,onValueChange:x,children:[o.jsx(Vr,{className:"h-12",children:o.jsx(ln,{placeholder:"Select category"})}),o.jsx(Wr,{children:n.map(ee=>o.jsx(ir,{value:ee.id,children:ee.name},ee.id))})]})]})]}),o.jsxs(rs,{children:[o.jsx(Y,{variant:"outline",onClick:()=>i(!1),className:"h-12",children:"Cancel"}),o.jsx(Y,{onClick:Z,disabled:!f.trim()||!v,className:"h-12",children:"Add Item"})]})]})}),o.jsx(_t,{open:y,onOpenChange:j,children:o.jsxs(vt,{children:[o.jsxs(Bt,{children:[o.jsx(Dt,{children:"Add Recipe to Grocery List"}),o.jsx(Nr,{children:"Select a recipe to add its ingredients to your grocery list."})]}),o.jsx("div",{className:"space-y-4 py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"recipeSelect",children:"Recipe *"}),o.jsxs(an,{value:N,onValueChange:_,children:[o.jsx(Vr,{className:"h-12",children:o.jsx(ln,{placeholder:"Select a recipe"})}),o.jsx(Wr,{children:t.savedRecipes.map(ee=>o.jsx(ir,{value:ee.id,children:ee.title},ee.id))})]})]})}),o.jsxs(rs,{children:[o.jsx(Y,{variant:"outline",onClick:()=>j(!1),className:"h-12",children:"Cancel"}),o.jsx(Y,{onClick:re,disabled:!N,className:"h-12",children:"Add Ingredients"})]})]})})]})}function $M({onNavigate:e}={}){const[t,r]=d.useState([]),[n,s]=d.useState(!0),[a,i]=d.useState(null),[l,c]=d.useState(window.innerWidth<768);d.useEffect(()=>{const g=()=>c(window.innerWidth<768);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),d.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:g}=await L.auth.getUser();if(!g.user)return;i(g.user.id);const{data:b,error:v}=await L.from("cart_items").select("*").eq("user_id",g.user.id).order("created_at",{ascending:!1});if(v)throw v;r(b||[])}catch(g){console.error("Error loading cart:",g),$.error("Failed to load cart")}finally{s(!1)}},h=async(g,b)=>{try{const{error:v}=await L.from("cart_items").update({quantity:b}).eq("id",g);if(v)throw v;r(x=>x.map(y=>y.id===g?{...y,quantity:b}:y)),$.success("Quantity updated")}catch(v){console.error("Error updating quantity:",v),$.error("Failed to update quantity")}},f=async g=>{try{const{error:b}=await L.from("cart_items").delete().eq("id",g);if(b)throw b;r(v=>v.filter(x=>x.id!==g)),$.success("Item removed from cart")}catch(b){console.error("Error removing item:",b),$.error("Failed to remove item")}},p=async()=>{if(a&&confirm("Are you sure you want to clear your entire cart?"))try{const{error:g}=await L.from("cart_items").delete().eq("user_id",a);if(g)throw g;r([]),$.success("Cart cleared")}catch(g){console.error("Error clearing cart:",g),$.error("Failed to clear cart")}},m=()=>t.reduce((g,b)=>{const v=b.price||0,x=parseFloat(b.quantity)||1;return g+v*x},0),w=()=>{$.info("Stripe checkout coming soon!")};return n?o.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-slate-50 via-white to-orange-50",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-orange-50",children:[o.jsx("div",{className:"sticky top-0 z-30 bg-white border-b border-slate-200 shadow-sm",children:o.jsx("div",{className:"p-4 md:p-6",children:o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[o.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center",children:o.jsx(Uo,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl md:text-3xl font-bold text-slate-900",children:"Your Cart"}),o.jsxs("p",{className:"text-xs md:text-sm text-slate-600",children:[t.length," ",t.length===1?"item":"items"]})]})]}),t.length>0&&o.jsx(Y,{variant:"ghost",size:"sm",onClick:p,className:"text-xs md:text-sm hover:bg-red-50 hover:text-red-600",children:"Clear"})]})})}),t.length===0?o.jsx("div",{className:"p-4 md:p-6 flex items-center justify-center min-h-[calc(100vh-200px)]",children:o.jsx(He,{className:"w-full max-w-sm",children:o.jsxs(Xe,{className:"flex flex-col items-center justify-center py-12 px-6",children:[o.jsx(Uo,{className:"w-16 h-16 text-gray-300 mb-4"}),o.jsx("p",{className:"text-gray-500 text-center mb-4 text-sm md:text-base",children:"Your cart is empty. Soon you will be able to order your ingredients and get them delivered!"}),o.jsx(Y,{onClick:()=>e==null?void 0:e("meal-planner"),className:"bg-orange-600 hover:bg-orange-700 text-white",children:"Add Items from Meal Planner"})]})})}):o.jsxs("div",{className:"p-4 md:p-6 pb-32 md:pb-24",children:[o.jsx("div",{className:"space-y-3 md:space-y-4 mb-6 max-w-4xl mx-auto",children:t.map(g=>o.jsx(He,{className:"overflow-hidden hover:shadow-md transition-shadow",children:o.jsx(Xe,{className:"p-3 md:p-4",children:o.jsxs("div",{className:"flex gap-3 md:gap-4",children:[g.image_url&&o.jsx("div",{className:"shrink-0",children:o.jsx("img",{src:g.image_url,alt:g.amazon_product_name||g.ingredient_name,className:"w-20 h-20 md:w-24 md:h-24 object-cover rounded-lg bg-slate-100"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm md:text-lg text-slate-900 line-clamp-2 mb-1",children:g.amazon_product_name||g.ingredient_name}),g.ingredient_name!==g.amazon_product_name&&o.jsx("p",{className:"text-xs md:text-sm text-gray-600 italic mb-2 line-clamp-1",children:g.ingredient_name}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 rounded-lg w-fit p-1",children:[o.jsx(Y,{size:"sm",variant:"ghost",onClick:()=>{const b=parseFloat(g.quantity)||1;b>1&&h(g.id,(b-1).toString())},className:"h-7 w-7 p-0 hover:bg-slate-200",children:o.jsx(uw,{className:"w-3 h-3"})}),o.jsx(nt,{type:"text",value:g.quantity,onChange:b=>h(g.id,b.target.value),className:"w-12 md:w-16 text-center text-sm h-7 border-0 bg-transparent"}),o.jsx(Y,{size:"sm",variant:"ghost",onClick:()=>{const b=parseFloat(g.quantity)||1;h(g.id,(b+1).toString())},className:"h-7 w-7 p-0 hover:bg-slate-200",children:o.jsx(sn,{className:"w-3 h-3"})})]}),o.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:g.unit})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2 justify-between",children:[g.price&&o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-sm md:text-lg font-semibold text-orange-600",children:["$",(g.price*(parseFloat(g.quantity)||1)).toFixed(2)]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["$",g.price.toFixed(2)," each"]})]}),o.jsxs("div",{className:"flex gap-1 flex-col",children:[g.amazon_product_url&&o.jsxs("a",{href:g.amazon_product_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-1 text-xs md:text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded px-2 py-1 transition-colors",children:[o.jsx(nm,{className:"w-3 h-3"}),o.jsx("span",{className:"hidden sm:inline",children:"View"})]}),o.jsxs(Y,{size:"sm",variant:"ghost",onClick:()=>f(g.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 text-xs md:text-sm h-7 px-2",children:[o.jsx(Yt,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),o.jsx("span",{className:"hidden sm:inline",children:"Remove"})]})]})]})]})})},g.id))}),o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx(He,{className:"mb-4 bg-slate-50 border-slate-200",children:o.jsx(Xe,{className:"p-4 md:p-6",children:o.jsxs("div",{className:"space-y-2 text-sm md:text-base",children:[o.jsxs("div",{className:"flex justify-between text-slate-700",children:[o.jsxs("span",{children:["Subtotal (",t.length," items)"]}),o.jsxs("span",{className:"font-medium",children:["$",m().toFixed(2)]})]}),o.jsx("div",{className:"flex justify-between text-slate-600 text-xs md:text-sm",children:o.jsx("span",{children:"Shipping & taxes calculated at checkout"})})]})})}),o.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 md:relative md:p-0 bg-white md:bg-transparent border-t md:border-t-0 border-slate-200",children:[o.jsxs(Y,{className:"w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-medium text-sm md:text-base h-12 md:h-14",size:"lg",onClick:w,children:[o.jsx(vE,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"Proceed to Checkout"]}),o.jsx("p",{className:"text-xs text-center text-gray-500 mt-2",children:"Stripe checkout integration coming soon"})]})]})]})]})}var MN=["PageUp","PageDown"],DN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$N={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Zo="Slider",[Kh,LM,UM]=_i(Zo),[LN]=er(Zo,[UM]),[FM,gu]=LN(Zo),UN=d.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:h,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:m=!1,form:w,...g}=e,b=d.useRef(new Set),v=d.useRef(0),y=i==="horizontal"?zM:BM,[j=[],N]=Hr({prop:h,defaultProp:u,onChange:M=>{var W;(W=[...b.current][v.current])==null||W.focus(),f(M)}}),_=d.useRef(j);function k(M){const D=KM(j,M);E(M,D)}function A(M){E(M,v.current)}function C(){const M=_.current[v.current];j[v.current]!==M&&p(j)}function E(M,D,{commit:W}={commit:!1}){const J=XM(a),X=QM(Math.round((M-n)/a)*a+n,J),F=si(X,[n,s]);N((P=[])=>{const R=qM(P,F,D);if(JM(R,c*a)){v.current=R.indexOf(F);const S=String(R)!==String(P);return S&&W&&p(R),S?R:P}else return P})}return o.jsx(FM,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:v,thumbs:b.current,values:j,orientation:i,form:w,children:o.jsx(Kh.Provider,{scope:e.__scopeSlider,children:o.jsx(Kh.Slot,{scope:e.__scopeSlider,children:o.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:ce(g.onPointerDown,()=>{l||(_.current=j)}),min:n,max:s,inverted:m,onSlideStart:l?void 0:k,onSlideMove:l?void 0:A,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&E(n,0,{commit:!0}),onEndKeyDown:()=>!l&&E(s,j.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:D})=>{if(!l){const X=MN.includes(M.key)||M.shiftKey&&DN.includes(M.key)?10:1,F=v.current,P=j[F],R=a*X*D;E(P+R,F,{commit:!0})}}})})})})});UN.displayName=Zo;var[FN,zN]=LN(Zo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),zM=d.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...h}=e,[f,p]=d.useState(null),m=Re(t,y=>p(y)),w=d.useRef(void 0),g=Yo(s),b=g==="ltr",v=b&&!a||!b&&a;function x(y){const j=w.current||f.getBoundingClientRect(),N=[0,j.width],k=tp(N,v?[r,n]:[n,r]);return w.current=j,k(y-j.left)}return o.jsx(FN,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:o.jsx(BN,{dir:g,"data-orientation":"horizontal",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const j=x(y.clientX);i==null||i(j)},onSlideMove:y=>{const j=x(y.clientX);l==null||l(j)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:y=>{const N=$N[v?"from-left":"from-right"].includes(y.key);u==null||u({event:y,direction:N?-1:1})}})})}),BM=d.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,h=d.useRef(null),f=Re(t,h),p=d.useRef(void 0),m=!s;function w(g){const b=p.current||h.current.getBoundingClientRect(),v=[0,b.height],y=tp(v,m?[n,r]:[r,n]);return p.current=b,y(g-b.top)}return o.jsx(FN,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:o.jsx(BN,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const b=w(g.clientY);a==null||a(b)},onSlideMove:g=>{const b=w(g.clientY);i==null||i(b)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:g=>{const v=$N[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:v?-1:1})}})})}),BN=d.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,h=gu(Zo,r);return o.jsx(_e.span,{...u,ref:t,onKeyDown:ce(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):MN.concat(DN).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ce(e.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(p)?p.focus():n(f)}),onPointerMove:ce(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:ce(e.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),a(f))})})}),VN="SliderTrack",WN=d.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=gu(VN,r);return o.jsx(_e.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});WN.displayName=VN;var Gh="SliderRange",qN=d.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=gu(Gh,r),a=zN(Gh,r),i=d.useRef(null),l=Re(t,i),c=s.values.length,u=s.values.map(p=>GN(p,s.min,s.max)),h=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(_e.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:h+"%",[a.endEdge]:f+"%"}})});qN.displayName=Gh;var Yh="SliderThumb",HN=d.forwardRef((e,t)=>{const r=LM(e.__scopeSlider),[n,s]=d.useState(null),a=Re(t,l=>s(l)),i=d.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(VM,{...e,ref:a,index:i})}),VM=d.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...a}=e,i=gu(Yh,r),l=zN(Yh,r),[c,u]=d.useState(null),h=Re(t,x=>u(x)),f=c?i.form||!!c.closest("form"):!0,p=Jc(c),m=i.values[n],w=m===void 0?0:GN(m,i.min,i.max),g=HM(n,i.values.length),b=p==null?void 0:p[l.size],v=b?GM(b,w,l.direction):0;return d.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${v}px)`},children:[o.jsx(Kh.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(_e.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":i.min,"aria-valuenow":m,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:h,style:m===void 0?{display:"none"}:e.style,onFocus:ce(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&o.jsx(KN,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:m},n)]})});HN.displayName=Yh;var WM="RadioBubbleInput",KN=d.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=d.useRef(null),a=Re(s,n),i=Yc(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(_e.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});KN.displayName=WM;function qM(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,a)=>s-a)}function GN(e,t,r){const a=100/(r-t)*(e-t);return si(a,[0,100])}function HM(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function KM(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function GM(e,t,r){const n=e/2,a=tp([0,50],[0,n]);return(n-a(t)*r)*r}function YM(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function JM(e,t){if(t>0){const r=YM(e);return Math.min(...r)>=t}return!0}function tp(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function XM(e){return(String(e).split(".")[1]||"").length}function QM(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var YN=UN,ZM=WN,e6=qN,t6=HN;const JN=d.forwardRef(({className:e,...t},r)=>o.jsxs(YN,{ref:r,className:je("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(ZM,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:o.jsx(e6,{className:"absolute h-full bg-primary"})}),o.jsx(t6,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));JN.displayName=YN.displayName;var xu="Switch",[r6]=er(xu),[n6,s6]=r6(xu),XN=d.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=e,[p,m]=d.useState(null),w=Re(t,y=>m(y)),g=d.useRef(!1),b=p?h||!!p.closest("form"):!0,[v,x]=Hr({prop:s,defaultProp:a??!1,onChange:u,caller:xu});return o.jsxs(n6,{scope:r,checked:v,disabled:l,children:[o.jsx(_e.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":t_(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:ce(e.onClick,y=>{x(j=>!j),b&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),b&&o.jsx(e_,{control:p,bubbles:!g.current,name:n,value:c,checked:v,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});XN.displayName=xu;var QN="SwitchThumb",ZN=d.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=s6(QN,r);return o.jsx(_e.span,{"data-state":t_(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});ZN.displayName=QN;var o6="SwitchBubbleInput",e_=d.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const i=d.useRef(null),l=Re(i,a),c=Yc(r),u=Jc(t);return d.useEffect(()=>{const h=i.current;if(!h)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const w=new Event("click",{bubbles:n});m.call(h,r),h.dispatchEvent(w)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});e_.displayName=o6;function t_(e){return e?"checked":"unchecked"}var r_=XN,a6=ZN;const n_=d.forwardRef(({className:e,...t},r)=>o.jsx(r_,{className:je("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(a6,{className:je("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));n_.displayName=r_.displayName;const i6=[{label:"Eastern Time (ET)",value:"America/New_York"},{label:"Central Time (CT)",value:"America/Chicago"},{label:"Mountain Time (MT)",value:"America/Denver"},{label:"Pacific Time (PT)",value:"America/Los_Angeles"}];function l6({onNavigate:e}){const[t,r]=d.useState("user-demo123@mealscrape.app"),[n,s]=d.useState(!1),[a,i]=d.useState(!1),[l,c]=d.useState(!1),[u,h]=d.useState(""),[f,p]=d.useState(!1),[m,w]=d.useState({speechRate:1,voiceIndex:0,autoRead:!0}),[g,b]=d.useState([]),[v,x]=d.useState(!1),[y,j]=d.useState("America/New_York"),[N,_]=d.useState(!1),[k,A]=d.useState(!1),[C,E]=d.useState(""),[M,D]=d.useState(""),[W,J]=d.useState(!1);d.useEffect(()=>{if("speechSynthesis"in window){const P=window.speechSynthesis.getVoices();b(P)}},[]);const X=async()=>{try{await navigator.clipboard.writeText(t),i(!0),setTimeout(()=>i(!1),2e3)}catch{console.error("Failed to copy")}},F=()=>{if("speechSynthesis"in window){x(!0),window.speechSynthesis.cancel();const P=new SpeechSynthesisUtterance("This is how I will read your recipe steps. Next, preheat the oven to 350 degrees Fahrenheit.");P.rate=m.speechRate,g.length>0&&m.voiceIndex<g.length&&(P.voice=g[m.voiceIndex]),P.onend=()=>x(!1),P.onerror=()=>x(!1),window.speechSynthesis.speak(P)}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[o.jsxs("div",{className:"w-full max-w-5xl mx-auto px-4 py-4 pb-20 sm:px-6 sm:py-6 md:px-8 md:py-8",children:[o.jsxs("div",{className:"mb-4 sm:mb-6 md:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-slate-900 mb-1 sm:mb-2",children:"Settings"}),o.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your account and preferences"})]}),o.jsxs("div",{className:"space-y-4 sm:space-y-5 md:space-y-6",children:[o.jsx(He,{className:"border-slate-200 shadow-sm overflow-hidden",children:o.jsx(wt,{className:"bg-gradient-to-br from-orange-50 to-red-50 border-b border-orange-100 p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-orange-600 flex items-center justify-center shrink-0",children:o.jsx(sc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(bt,{className:"text-lg sm:text-xl md:text-2xl text-slate-900 truncate",children:"Account"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600 truncate",children:"user@example.com"})]}),o.jsxs(Y,{onClick:()=>console.log("Logout"),variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-50 shrink-0 text-xs sm:text-sm",children:[o.jsx(kE,{className:"w-3 h-3 sm:w-4 sm:h-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Log Out"})]})]})})}),o.jsxs(He,{className:"border-slate-200 shadow-sm overflow-hidden",children:[o.jsx(wt,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-b border-emerald-100 p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-emerald-600 flex items-center justify-center shrink-0",children:o.jsx(lw,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx(bt,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"Timezone"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600",children:"Set your timezone for accurate meal planning"})]})]})}),o.jsx(Xe,{className:"p-4 sm:p-6",children:o.jsx("div",{className:"space-y-3 sm:space-y-4",children:o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"timezone-select",className:"text-xs sm:text-sm font-medium text-slate-700 mb-2 block",children:"Select Timezone"}),o.jsxs(an,{value:y,onValueChange:j,disabled:N,children:[o.jsx(Vr,{id:"timezone-select",className:"w-full h-10 sm:h-11 text-sm sm:text-base",children:o.jsx(ln,{placeholder:"Select your timezone"})}),o.jsx(Wr,{children:i6.map(P=>o.jsx(ir,{value:P.value,className:"text-sm sm:text-base",children:P.label},P.value))})]}),o.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 mt-2",children:["Current: ",o.jsx("span",{className:"font-medium text-slate-700",children:y})]})]})})})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm overflow-hidden",children:[o.jsx(wt,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-b border-purple-100 p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-purple-600 flex items-center justify-center shrink-0",children:o.jsx(nc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx(bt,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"Change Password"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600",children:"Update your account password"})]})]})}),o.jsx(Xe,{className:"p-4 sm:p-6",children:o.jsxs(Y,{onClick:()=>A(!0),className:"w-full bg-purple-600 hover:bg-purple-700 h-10 sm:h-11 text-sm sm:text-base",children:[o.jsx(nc,{className:"w-4 h-4 mr-2"}),"Change Password"]})})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm overflow-hidden",children:[o.jsx(wt,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-b border-blue-100 p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-600 flex items-center justify-center shrink-0",children:o.jsx(sc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx(bt,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"Your Forwarding Email"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600",children:"Coming soon... Email recipes to your personal inbox"})]})]})}),o.jsxs(Xe,{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 sm:p-4 border-2 border-slate-200",children:[o.jsx(Fe,{className:"text-xs font-medium text-slate-600 uppercase tracking-wide mb-2 block",children:"Your Unique Email Address"}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("code",{className:"flex-1 text-xs sm:text-sm md:text-base font-mono font-semibold text-slate-900 bg-white px-3 py-2 sm:px-4 sm:py-3 rounded-md border border-slate-200 overflow-x-auto",children:t}),o.jsx(Y,{onClick:X,variant:"outline",size:"icon",className:"h-10 w-10 sm:h-12 sm:w-12 shrink-0",children:a?o.jsx(rc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"}):o.jsx(_h,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),o.jsxs("div",{className:"mt-4 sm:mt-6 space-y-3",children:[o.jsx("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-100",children:o.jsxs("p",{className:"text-xs sm:text-sm text-slate-700",children:[o.jsx("span",{className:"font-semibold",children:"How it works:"})," Forward any recipe to this email, and it will automatically be saved to your collection."]})}),o.jsxs(Y,{onClick:()=>c(!0),variant:"outline",className:"w-full border-blue-200 hover:bg-blue-50 h-10 sm:h-11 text-sm sm:text-base",children:[o.jsx(Bg,{className:"w-4 h-4 mr-2"}),"Test Email Import"]})]})]})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"p-4 sm:p-6",children:[o.jsx(bt,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"How to Save Recipes"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600",children:"Multiple ways to add recipes automatically"})]}),o.jsxs(Xe,{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"space-y-4 md:grid md:grid-cols-2 md:gap-6 md:space-y-0",children:[o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-pink-500 to-purple-600 flex items-center justify-center shrink-0",children:o.jsx(NE,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),o.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-slate-900",children:"From Instagram DMs - Feature Coming Soon..."})]}),o.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 sm:p-4 border border-slate-200",children:[o.jsx("div",{className:"aspect-video bg-gradient-to-br from-pink-100 to-purple-100 rounded-md flex items-center justify-center mb-3",children:o.jsx(CE,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-purple-600"})}),o.jsxs("ol",{className:"space-y-2 text-xs sm:text-sm text-slate-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"1."}),o.jsx("span",{children:"Long-press on recipe post"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"2."}),o.jsx("span",{children:'Tap "Forward"  "Email"'})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"3."}),o.jsx("span",{children:"Paste forwarding email"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"4."}),o.jsx("span",{children:"Send and auto-save!"})]})]})]})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-blue-500 to-cyan-600 flex items-center justify-center shrink-0",children:o.jsx(_o,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),o.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-slate-900",children:"From Photos - Feature Coming Soon..."})]}),o.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 sm:p-4 border border-slate-200",children:[o.jsx("div",{className:"aspect-video bg-gradient-to-br from-blue-100 to-cyan-100 rounded-md flex items-center justify-center mb-3",children:o.jsx(_o,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-cyan-600"})}),o.jsxs("ol",{className:"space-y-2 text-xs sm:text-sm text-slate-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"1."}),o.jsx("span",{children:"Screenshot recipe"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"2."}),o.jsx("span",{children:"Open photos, select screenshot"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"3."}),o.jsx("span",{children:'Share  "Mail"'})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"4."}),o.jsx("span",{children:"Send to forwarding email"})]})]})]})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4 md:col-span-2",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shrink-0",children:o.jsx(_h,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),o.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-slate-900",children:"Copy & Paste Link"})]}),o.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 sm:p-4 border border-slate-200",children:[o.jsxs("ol",{className:"space-y-2 text-xs sm:text-sm text-slate-700 mb-3",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"1."}),o.jsx("span",{children:"Copy recipe URL from any website"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"2."}),o.jsx("span",{children:"Click button below to go to Add Recipe"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"3."}),o.jsx("span",{children:"Paste link and let AI extract!"})]})]}),o.jsxs(Y,{onClick:()=>e("add-recipe"),className:"w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 font-semibold shadow-lg h-12 text-base",children:[o.jsx(_o,{className:"w-5 h-5 mr-3"}),"Go to Add Recipe"]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 rounded-lg p-3 sm:p-4 md:p-5 border-2 border-blue-200",children:o.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-blue-600 flex items-center justify-center shrink-0",children:o.jsx(ow,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-1 sm:mb-2 text-sm sm:text-base",children:"Pro Tip"}),o.jsx("p",{className:"text-xs sm:text-sm text-slate-700 leading-relaxed",children:"Save your forwarding email as a contact for quick access. Set up auto-forwarding rules to automatically send recipes."})]})]})})]})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsx(wt,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-emerald-600 flex items-center justify-center shrink-0",children:o.jsx(cw,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx(bt,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"Voice Control"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600",children:"Customize voice commands in Cook Mode"})]})]})}),o.jsx(Xe,{className:"p-4 sm:p-6",children:"speechSynthesis"in window?o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-gradient-to-br from-emerald-50 to-teal-50 rounded-lg border border-emerald-200",children:[o.jsxs("div",{className:"flex-1 min-w-0 mr-3",children:[o.jsx(Fe,{htmlFor:"auto-read",className:"text-sm sm:text-base font-semibold text-slate-900 cursor-pointer",children:"Auto-Read Steps"}),o.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mt-1",children:"Auto-read each step aloud"})]}),o.jsx(n_,{id:"auto-read",checked:m.autoRead,onCheckedChange:P=>w(R=>({...R,autoRead:P}))})]}),o.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[o.jsxs(Fe,{className:"text-sm sm:text-base font-semibold text-slate-900",children:["Speech Rate: ",m.speechRate.toFixed(1),"x"]}),o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("span",{className:"text-xs sm:text-sm text-slate-600 w-10 sm:w-12",children:"Slow"}),o.jsx(JN,{value:[m.speechRate],onValueChange:P=>w(R=>({...R,speechRate:P[0]})),min:.5,max:2,step:.1,className:"flex-1"}),o.jsx("span",{className:"text-xs sm:text-sm text-slate-600 w-10 sm:w-12 text-right",children:"Fast"})]})]}),g.length>0&&o.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[o.jsx(Fe,{className:"text-sm sm:text-base font-semibold text-slate-900",children:"Voice Selection"}),o.jsxs(an,{value:m.voiceIndex.toString(),onValueChange:P=>w(R=>({...R,voiceIndex:parseInt(P)})),children:[o.jsx(Vr,{className:"w-full h-10 sm:h-11 text-sm sm:text-base",children:o.jsx(ln,{})}),o.jsx(Wr,{children:g.map((P,R)=>o.jsxs(ir,{value:R.toString(),className:"text-sm sm:text-base",children:[P.name," (",P.lang,")"]},R))})]})]}),o.jsxs(Y,{onClick:F,disabled:v,variant:"outline",className:"w-full border-emerald-300 hover:bg-emerald-50 h-10 sm:h-11 text-sm sm:text-base",children:[o.jsx(mw,{className:"w-4 h-4 mr-2"}),v?"Playing...":"Test Voice Settings"]}),o.jsx("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-200",children:o.jsxs("p",{className:"text-xs sm:text-sm text-slate-700",children:[o.jsx("span",{className:"font-semibold",children:"Voice commands in Cook Mode:"}),o.jsx("br",{}),'"Next", "Previous", "Repeat", "Read ingredients", and more.']})})]}):o.jsx("div",{className:"p-3 sm:p-4 bg-amber-50 rounded-lg border border-amber-300",children:o.jsx("p",{className:"text-xs sm:text-sm text-amber-900",children:"Voice control not supported in your browser. Try Chrome, Edge, or Safari."})})})]})]})]}),o.jsx(_t,{open:l,onOpenChange:c,children:o.jsxs(vt,{className:"w-[95vw] max-w-2xl max-h-[85vh] overflow-y-auto mx-auto",children:[o.jsxs(Bt,{children:[o.jsxs(Dt,{className:"text-lg sm:text-xl md:text-2xl flex items-center gap-2",children:[o.jsx(Bg,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),"Test Email Import"]}),o.jsx(Nr,{className:"text-xs sm:text-sm",children:"Paste recipe text to simulate email import"})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4 mt-4",children:[o.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 sm:p-4 border border-slate-200",children:[o.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-2",children:o.jsx("span",{className:"font-semibold",children:"Example format:"})}),o.jsx("pre",{className:"text-[10px] sm:text-xs text-slate-700 bg-white p-2 sm:p-3 rounded border border-slate-200 overflow-x-auto",children:`Chocolate Chip Cookies

Ingredients:
2 cups flour
1 tsp baking soda
1 cup butter
2 eggs
2 cups chocolate chips

Instructions:
1. Preheat oven to 375F
2. Mix dry ingredients
3. Cream butter and sugar
4. Fold in chips
5. Bake 10-12 minutes`})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"recipe-text",className:"text-sm sm:text-base font-semibold mb-2 block",children:"Paste Recipe Text"}),o.jsx(Sn,{id:"recipe-text",placeholder:"Paste your recipe here...",value:u,onChange:P=>h(P.target.value),className:"min-h-[200px] sm:min-h-[300px] font-mono text-xs sm:text-sm"})]}),o.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[o.jsx(Y,{onClick:()=>{p(!0),setTimeout(()=>{p(!1),c(!1),h("")},1e3)},disabled:f||!u.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 h-10 sm:h-11 text-sm sm:text-base",children:f?o.jsxs(o.Fragment,{children:[o.jsx(ri,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):"Import Recipe"}),o.jsx(Y,{onClick:()=>{c(!1),h("")},variant:"outline",disabled:f,className:"h-10 sm:h-11 text-sm sm:text-base",children:"Cancel"})]})]})]})}),o.jsx(_t,{open:k,onOpenChange:A,children:o.jsxs(vt,{className:"w-[95vw] max-w-md mx-auto",children:[o.jsxs(Bt,{children:[o.jsx(Dt,{className:"text-lg sm:text-xl",children:"Change Password"}),o.jsx(Nr,{className:"text-xs sm:text-sm",children:"Enter your new password. Must be at least 6 characters."})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"new-password",className:"text-sm sm:text-base",children:"New Password"}),o.jsx("input",{id:"new-password",type:"password",value:C,onChange:P=>E(P.target.value),className:"w-full px-3 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter new password"})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"confirm-password",className:"text-sm sm:text-base",children:"Confirm Password"}),o.jsx("input",{id:"confirm-password",type:"password",value:M,onChange:P=>D(P.target.value),className:"w-full px-3 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Confirm new password"})]}),o.jsxs("div",{className:"flex gap-2 sm:gap-3 pt-2",children:[o.jsx(Y,{onClick:()=>{if(C!==M){alert("Passwords do not match");return}if(C.length<6){alert("Password must be at least 6 characters");return}J(!0),setTimeout(()=>{J(!1),A(!1),E(""),D("")},1e3)},disabled:W||!C||!M,className:"flex-1 bg-purple-600 hover:bg-purple-700 h-10 sm:h-11 text-sm sm:text-base",children:W?o.jsxs(o.Fragment,{children:[o.jsx(ri,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update Password"}),o.jsx(Y,{onClick:()=>{A(!1),E(""),D("")},variant:"outline",disabled:W,className:"h-10 sm:h-11 text-sm sm:text-base",children:"Cancel"})]})]})]})})]})}function c6({onNavigate:e}){var Z;const[t,r]=d.useState(null),[n,s]=d.useState(null),[a,i]=d.useState(null),[l,c]=d.useState("post"),[u,h]=d.useState(""),[f,p]=d.useState(""),[m,w]=d.useState(""),[g,b]=d.useState([]),[v,x]=d.useState(!1),[y,j]=d.useState(0),[N,_]=d.useState(!1),[k,A]=d.useState(""),[C,E]=d.useState([]),[M,D]=d.useState(null),[W,J]=d.useState(!1),[X,F]=d.useState(!1),P=te.useRef(null);d.useEffect(()=>{R()},[]);const R=async()=>{try{const{data:re}=await L.auth.getUser();if(!re.user)return;const{data:ue,error:Q}=await L.from("public_recipes").select("id, title, image_url").eq("user_id",re.user.id).order("created_at",{ascending:!1});if(Q)throw Q;b(ue||[])}catch(re){console.error("Error loading recipes:",re)}},S=re=>{var Q;const ue=(Q=re.target.files)==null?void 0:Q[0];if(ue)if(ue.type.startsWith("image/")){if(ue.size>10*1024*1024){$.error("Image size must be less than 10MB");return}i("image"),r(ue),s(URL.createObjectURL(ue))}else if(ue.type.startsWith("video/")){const me=document.createElement("video");me.preload="metadata",me.onloadedmetadata=()=>{window.URL.revokeObjectURL(me.src);const U=Math.floor(me.duration);if(j(U),l==="daily"&&U>30){$.error("Daily videos must be 30 seconds or less");return}i("video"),r(ue),s(URL.createObjectURL(ue))},me.src=URL.createObjectURL(ue)}else $.error("Please select an image or video file")},O=()=>{r(null),i(null),n&&(URL.revokeObjectURL(n),s(null))},q=()=>{P.current&&(X?P.current.pause():P.current.play(),F(!X))},K=async re=>{if(!re.trim()){E([]);return}J(!0);try{const me=((await(await fetch(`https://itunes.apple.com/search?term=${encodeURIComponent(re)}&media=music&entity=song&limit=20`)).json()).results||[]).map(U=>{var I;return{id:U.trackId.toString(),name:U.trackName||"Unknown Song",artists:[{name:U.artistName||"Unknown Artist"}],album:{images:[{url:((I=U.artworkUrl100)==null?void 0:I.replace("100x100","300x300"))||"https://via.placeholder.com/300"}]},preview_url:U.previewUrl||null}});E(me)}catch(ue){console.error("Music search failed:",ue),$.error("Search failed  try again"),E([])}finally{J(!1)}},V=async()=>{var re,ue,Q,me,U,I;if(!t){$.error("Please select an image or video");return}if(l==="post"&&!u.trim()){$.error("Please enter a title");return}if(l==="daily"&&a==="video"&&y>30){$.error("Daily videos must be 30 seconds or less");return}x(!0);try{const{data:z}=await L.auth.getUser();if(!z.user)throw new Error("Not authenticated");const{data:se}=await L.from("profiles").select("id").eq("id",z.user.id).maybeSingle();se||await L.from("profiles").insert({id:z.user.id,username:((re=z.user.email)==null?void 0:re.split("@")[0])||"user",avatar_url:null});const ge=t.name.split(".").pop(),ke=`${z.user.id}/${Date.now()}.${ge}`,{error:Pe}=await L.storage.from("posts").upload(ke,t,{cacheControl:"3600",upsert:!1});if(Pe)throw Pe;const{data:Te}=L.storage.from("posts").getPublicUrl(ke),H={spotify_track_id:(M==null?void 0:M.id)||null,spotify_track_name:(M==null?void 0:M.name)||null,spotify_artist_name:((Q=(ue=M==null?void 0:M.artists)==null?void 0:ue[0])==null?void 0:Q.name)||null,spotify_album_art:((I=(U=(me=M==null?void 0:M.album)==null?void 0:me.images)==null?void 0:U[0])==null?void 0:I.url)||null,spotify_preview_url:(M==null?void 0:M.preview_url)||null};if(l==="daily"){const ae={user_id:z.user.id,media_url:Te.publicUrl,media_type:a==="image"?"photo":"video",caption:f.trim()||null,duration:a==="video"?y:null,...H},{error:G}=await L.from("dailies").insert(ae);if(G)throw G;await L.from("posts").insert({user_id:z.user.id,title:"Daily",caption:f.trim()||null,[a==="image"?"image_url":"video_url"]:Te.publicUrl,...H}),$.success("Daily posted successfully!")}else{let ae=m?`${window.location.origin}/#recipe/${m}`:null;const G={user_id:z.user.id,title:u.trim(),caption:f.trim()||null,recipe_url:ae,[a==="image"?"image_url":"video_url"]:Te.publicUrl,...H},{data:Se,error:ee}=await L.from("posts").insert(G).select().single();if(ee)throw ee;const he=D5(f);if(he.length>0&&Se)for(const we of he){const{data:$e}=await L.from("hashtags").select("id, usage_count").eq("tag",we).maybeSingle();let Tt;if($e)Tt=$e.id,await L.from("hashtags").update({usage_count:$e.usage_count+1}).eq("id",$e.id);else{const{data:B}=await L.from("hashtags").insert({tag:we,usage_count:1}).select().single();Tt=B.id}await L.from("post_hashtags").insert({post_id:Se.id,hashtag_id:Tt})}$.success("Post uploaded successfully!")}O(),h(""),p(""),w(""),D(null),e("discover")}catch(z){console.error("Upload error:",z),$.error(z.message||"Failed to upload")}finally{x(!1)}};return o.jsxs("div",{className:"min-h-screen bg-gray-50 pb-40 overflow-x-hidden",style:{paddingBottom:"max(10rem, env(safe-area-inset-bottom))"},children:[o.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-40",style:{paddingTop:"env(safe-area-inset-top)"},children:o.jsxs("div",{className:"max-w-lg mx-auto px-4 h-14 flex items-center justify-between",children:[o.jsx("button",{onClick:()=>e("discover"),className:"text-gray-600 hover:text-gray-900 font-medium",children:"Cancel"}),o.jsxs("h1",{className:"text-lg font-semibold",children:["New ",l==="daily"?"Daily":"Post"]}),o.jsx("div",{className:"w-16"})]})}),o.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[o.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Post Type"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>c("post"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${l==="post"?"bg-gradient-to-r from-orange-600 to-red-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Post"}),o.jsx("button",{onClick:()=>c("daily"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${l==="daily"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Daily"})]}),l==="daily"&&o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Dailies expire after 24 hours. Videos must be 30 seconds or less."})]}),n?o.jsxs("div",{className:"relative",children:[a==="image"?o.jsx("img",{src:n,alt:"Preview",className:"w-full aspect-square object-cover rounded-xl"}):o.jsx("video",{src:n,controls:!0,className:"w-full aspect-square object-cover rounded-xl"}),o.jsx("button",{onClick:O,className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white rounded-full p-2",children:o.jsx(Zt,{className:"w-5 h-5"})})]}):o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 sm:p-12 text-center hover:border-orange-500 transition-colors cursor-pointer",children:o.jsxs("label",{className:"cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*,video/*",onChange:S,className:"hidden"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-3 sm:gap-4 justify-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl shadow-lg",children:o.jsx(Sh,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl shadow-lg",children:o.jsx(LE,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-1",children:"Upload a photo or video"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Click to select a file from your device"})]})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Add Music (optional)"}),o.jsxs("button",{onClick:()=>_(!0),className:"text-sm font-medium text-orange-600 hover:text-orange-700 flex items-center gap-1.5",children:[o.jsx(RE,{className:"w-5 h-5"}),M?"Change Music":"Add Music"]})]}),M&&o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("img",{src:(Z=M.album.images[0])==null?void 0:Z.url,alt:"album",className:"w-12 h-12 rounded object-cover"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-sm truncate",children:M.name}),o.jsx("p",{className:"text-xs text-gray-600 truncate",children:M.artists[0].name})]}),o.jsx("button",{onClick:q,className:"bg-green-600 hover:bg-green-700 text-white rounded-full p-2 transition-colors",children:X?o.jsx(im,{className:"w-4 h-4"}):o.jsx(lm,{className:"w-4 h-4 ml-0.5"})}),o.jsx("button",{onClick:()=>D(null),className:"text-red-600",children:o.jsx(Zt,{className:"w-5 h-5"})}),o.jsx("audio",{ref:P,src:M.preview_url,onEnded:()=>F(!1),onPlay:()=>F(!0),onPause:()=>F(!1)})]})]}),o.jsxs("div",{className:"space-y-4 bg-white rounded-xl p-4 shadow-sm",children:[l==="post"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:u,onChange:re=>h(re.target.value),placeholder:"Enter a title for your post",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",maxLength:200}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[u.length,"/200"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caption"}),o.jsx(Sn,{value:f,onChange:re=>p(re.target.value),placeholder:"Write a caption...",className:"min-h-24 resize-none",maxLength:2200}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[f.length,"/2200"]})]}),l==="post"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link to Recipe (optional)"}),o.jsxs(an,{value:m,onValueChange:w,children:[o.jsx(Vr,{children:o.jsx(ln,{placeholder:"Select a recipe from your collection"})}),o.jsx(Wr,{children:g.length===0?o.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No recipes yet. Add some recipes first!"}):g.map(re=>o.jsx(ir,{value:re.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[re.image_url&&o.jsx("img",{src:re.image_url,alt:re.title,className:"w-8 h-8 rounded object-cover"}),o.jsx("span",{children:re.title})]})},re.id))})]})]})]}),t&&o.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(cm,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Ready to post"}),o.jsx("p",{className:"text-xs text-orange-700 mt-1 truncate",children:t.name})]})]})})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 px-4 pb-6 bg-gradient-to-t from-white via-white to-transparent z-40",style:{paddingBottom:"max(1.5rem, env(safe-area-inset-bottom))"},children:o.jsx("div",{className:"max-w-lg mx-auto flex justify-center",children:o.jsx(Y,{onClick:V,disabled:!t||l==="post"&&!u.trim()||v,className:"px-12 sm:px-16 py-5 sm:py-6 text-base sm:text-lg font-semibold bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 shadow-lg rounded-full",children:v?"Submitting...":"Submit"})})}),N&&o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-end md:items-center justify-center",children:o.jsxs("div",{className:"bg-white w-full md:max-w-lg md:rounded-2xl flex flex-col",style:{maxHeight:"85vh",paddingBottom:"env(safe-area-inset-bottom)"},children:[o.jsxs("div",{className:"p-4 border-b flex items-center justify-between flex-shrink-0",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Choose Music"}),o.jsx("button",{onClick:()=>_(!1),children:o.jsx(Zt,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"p-4 flex-shrink-0",children:o.jsx("input",{type:"text",value:k,onChange:re=>{A(re.target.value),K(re.target.value)},placeholder:"Search any song...",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-500",autoFocus:!0})}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-4 pb-4 space-y-2",children:[W&&o.jsx("p",{className:"text-center text-gray-500 py-8",children:"Searching..."}),C.map(re=>{var ue;return o.jsxs("button",{onClick:()=>{D(re),_(!1),$.success("Music added!")},className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 transition text-left",children:[o.jsx("img",{src:((ue=re.album.images[0])==null?void 0:ue.url)||"/placeholder.png",alt:"album",className:"w-12 h-12 rounded flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-sm truncate",children:re.name}),o.jsx("p",{className:"text-xs text-gray-600 truncate",children:re.artists.map(Q=>Q.name).join(", ")})]}),o.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded flex-shrink-0",children:"30s Preview"})]},re.id)}),k&&C.length===0&&!W&&o.jsx("p",{className:"text-center text-gray-500 py-8",children:"No tracks found"})]})]})})]})}const u6=e=>{const t=e.trim();return t.length===0?"Username required":t.length>10?"Max 10 characters":t.includes(" ")?"No spaces allowed":/^[a-zA-Z0-9._]+$/.test(t)?/^[._]/.test(t)||/[._]$/.test(t)?"Cannot start or end with _ or .":null:"Only letters, numbers, _ . allowed"},Mx=(e,t,r,n=.85)=>new Promise(s=>{const a=new Image,i=document.createElement("canvas"),l=i.getContext("2d");a.onload=()=>{let c=a.width,u=a.height;c>u?c>t&&(u=Math.round(u*t/c),c=t):u>r&&(c=Math.round(c*r/u),u=r),i.width=c,i.height=u,l.drawImage(a,0,0,c,u),i.toBlob(h=>{if(!h)return s(e);const f=new File([h],e.name,{type:e.type||"image/jpeg",lastModified:Date.now()});s(f)},e.type||"image/jpeg",n)},a.onerror=()=>s(e),a.src=URL.createObjectURL(e)});function Dx({username:e}){var U;const[t,r]=d.useState([]),[n,s]=d.useState(null),[a,i]=d.useState(!0),[l,c]=d.useState(!1),[u,h]=d.useState(null),[f,p]=d.useState(null),[m,w]=d.useState(!1),[g,b]=d.useState(!1),[v,x]=d.useState(""),[y,j]=d.useState(""),[N,_]=d.useState(""),[k,A]=d.useState(null),[C,E]=d.useState(!1),[M,D]=d.useState(!1),[W,J]=d.useState(null),[X,F]=d.useState(null),[P,R]=d.useState(!1),[S,O]=d.useState(null);d.useEffect(()=>{let I=!0;return(async()=>{var se;if(I)try{const{data:{user:ge}}=await L.auth.getUser();if(!ge){$.error("Please log in"),window.history.pushState({},"","/");return}h(ge.id);let ke=null,Pe=null;if(e){const{data:G,error:Se}=await L.from("profiles").select("id, username, avatar_url, banner_url, bio, link").ilike("username",e).single();if(!I)return;if(Se||!G){I&&$.error("User not found"),I&&window.history.pushState({},"","/discover"),I&&i(!1);return}ke=G,Pe=G.id}else{const{data:G}=await L.from("profiles").select("id, username, avatar_url, banner_url, bio, link").eq("id",ge.id).single();if(G)ke=G;else{const Se=((se=ge.email)==null?void 0:se.split("@")[0])||"user";await L.from("profiles").insert({id:ge.id,username:Se}),ke={id:ge.id,username:Se,avatar_url:null}}Pe=ge.id}if(!I)return;p(Pe),w(ge.id===Pe);const{count:Te}=await L.from("follows").select("*",{count:"exact",head:!0}).eq("following_id",Pe),{count:H}=await L.from("follows").select("*",{count:"exact",head:!0}).eq("follower_id",Pe);if(ge.id!==Pe){const{data:G}=await L.from("follows").select("id").eq("follower_id",ge.id).eq("following_id",Pe).maybeSingle();I&&D(!!G)}I&&s({...ke,followers_count:Te||0,following_count:H||0});const{data:ae}=await L.from("posts").select("id, user_id, title, image_url, video_url, caption, recipe_url, recipe_id, created_at").eq("user_id",Pe).order("created_at",{ascending:!1});I&&r(ae||[]),!e&&(ke!=null&&ke.username)&&window.history.replaceState({},"",`/profile/${ke.username}`),I&&E(await tc())}catch{I&&$.error("Failed to load profile")}finally{I&&i(!1)}})(),()=>{I=!1}},[e]),d.useEffect(()=>{const z=new URLSearchParams(window.location.search).get("post");z&&(A(z),window.history.replaceState({},"",window.location.pathname))},[]);const q=async I=>{var se;const z=(se=I.target.files)==null?void 0:se[0];if(!(!z||!u)){if(!z.type.startsWith("image/")){$.error("Please select an image");return}c(!0),$.loading("Resizing & uploading avatar...",{duration:0});try{const ge=await Mx(z,1080,1080,.9),ke=ge.name.split(".").pop()||"jpg",Pe=`${u}/avatar.${ke}`,{error:Te}=await L.storage.from("avatars").upload(Pe,ge,{upsert:!0});if(Te)throw Te;const{data:{publicUrl:H}}=L.storage.from("avatars").getPublicUrl(Pe),{error:ae}=await L.from("profiles").update({avatar_url:H+"?t="+Date.now()}).eq("id",u);if(ae)throw ae;s(G=>G?{...G,avatar_url:H+"?t="+Date.now()}:null),$.dismiss(),$.success("Avatar updated instantly!")}catch(ge){$.dismiss(),$.error("Upload failed: "+ge.message)}finally{c(!1)}}},K=async I=>{var se;const z=(se=I.target.files)==null?void 0:se[0];if(!(!z||!u)){if(!z.type.startsWith("image/")){$.error("Please select an image");return}c(!0),$.loading("Resizing & uploading banner...",{duration:0});try{const ge=await Mx(z,1920,600,.9),ke=ge.name.split(".").pop()||"jpg",Pe=`${u}/banner.${ke}`,{error:Te}=await L.storage.from("banners").upload(Pe,ge,{upsert:!0});if(Te)throw Te;const{data:{publicUrl:H}}=L.storage.from("banners").getPublicUrl(Pe),{error:ae}=await L.from("profiles").update({banner_url:H+"?t="+Date.now()}).eq("id",u);if(ae)throw ae;s(G=>G?{...G,banner_url:H+"?t="+Date.now()}:null),$.dismiss(),$.success("Banner updated instantly!")}catch(ge){$.dismiss(),$.error("Upload failed: "+ge.message)}finally{c(!1)}}},V=async()=>{u&&(await L.from("profiles").update({avatar_url:null}).eq("id",u),s(I=>I?{...I,avatar_url:null}:null),$.success("Avatar removed"))},Z=async()=>{u&&(await L.from("profiles").update({banner_url:null}).eq("id",u),s(I=>I?{...I,banner_url:null}:null),$.success("Banner removed"))},re=async()=>{if(!u)return;const I=u6(v);if(I){J(I),$.error(I);return}J(null);const z=y.trim().split(`
`);if(z.length>3){$.error("Maximum 3 lines allowed");return}if(z.some(ke=>ke.length>40)){$.error("Maximum 40 characters per line");return}const se={},ge=v.trim();if(ge!==(n==null?void 0:n.username)&&(se.username=ge),y.trim()!==((n==null?void 0:n.bio)||"").trim()&&(se.bio=y.trim()||null),N.trim()!==((n==null?void 0:n.link)||"").trim()&&(se.link=N.trim()||null),Object.keys(se).length>0){const{error:ke}=await L.from("profiles").update(se).eq("id",u);if(ke){ke.message.includes("profiles_username_key")?$.error("Username already taken"):$.error("Failed to update profile");return}s(Pe=>Pe?{...Pe,...se}:null),$.success("Profile updated!"),se.username&&window.history.replaceState({},"",`/profile/${se.username}`)}b(!1)},ue=async I=>{var se;const z=(se=I.target.files)==null?void 0:se[0];if(!(!z||!X)){R(!0);try{const ge=z.name.split(".").pop(),ke=`${Math.random()}.${ge}`,Pe=`${u}/${ke}`,{error:Te}=await L.storage.from("posts").upload(Pe,z);if(Te)throw Te;const{data:{publicUrl:H}}=L.storage.from("posts").getPublicUrl(Pe);F(ae=>ae?{...ae,photoUrl:H}:null),$.success("Photo uploaded!")}catch(ge){console.error("Upload error:",ge),$.error("Failed to upload photo")}finally{R(!1)}}},Q=async()=>{if(X)try{const{error:I}=await L.from("posts").update({caption:X.caption.trim()||null,recipe_url:X.recipeUrl.trim()||null,image_url:X.photoUrl.trim()||null}).eq("id",X.id);if(I)throw I;r(z=>z.map(se=>se.id===X.id?{...se,caption:X.caption.trim()||null,image_url:X.photoUrl.trim()||null,recipe_url:X.recipeUrl.trim()||null}:se)),$.success("Post updated!"),F(null)}catch(I){console.error("Edit error:",I),$.error("Failed to update post")}},me=async()=>{if(S)try{const{error:I}=await L.from("posts").delete().eq("id",S);if(I)throw I;r(z=>z.filter(se=>se.id!==S)),$.success("Post deleted!"),O(null)}catch(I){console.error("Delete error:",I),$.error("Failed to delete post")}};return a?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pb-32",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})}):n?o.jsxs("div",{className:"min-h-screen bg-gray-50 pb-32 overflow-x-hidden",style:{paddingBottom:"max(8rem, env(safe-area-inset-bottom))"},children:[o.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-40",style:{paddingTop:"env(safe-area-inset-top)"},children:o.jsxs("div",{className:"max-w-lg mx-auto px-4 h-14 flex items-center gap-3",children:[o.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(Lo,{className:"w-6 h-6"})}),o.jsxs("h1",{className:"text-lg font-semibold",children:["@",n.username]})]})}),")",o.jsxs("div",{className:"max-w-lg mx-auto w-full",children:[o.jsxs("div",{className:"bg-white border-b border-gray-200",children:[o.jsxs("div",{className:"relative h-28 sm:h-32",children:[n.banner_url?o.jsx("img",{src:n.banner_url,alt:"Banner",className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-orange-100 to-amber-100"}),m&&o.jsxs("label",{className:"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:K,disabled:l,className:"hidden"}),o.jsx(_o,{className:"w-4 h-4 text-gray-600"})]})]}),o.jsxs("div",{className:"relative px-4 pb-3",children:[o.jsxs("div",{className:"flex items-start gap-3 -mt-10",children:[o.jsxs("div",{className:"flex-shrink-0",children:[o.jsxs("div",{className:"relative z-10 w-16 h-16 sm:w-20 sm:h-20",children:[n.avatar_url?o.jsx("img",{src:n.avatar_url,alt:n.username,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover border-4 border-white shadow-lg"}):o.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-white text-xl sm:text-2xl font-bold border-4 border-white shadow-lg",children:n.username[0].toUpperCase()}),m&&o.jsxs("label",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-1.5 shadow-md cursor-pointer hover:bg-gray-50 z-20",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:q,disabled:l,className:"hidden"}),o.jsx(_o,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-700"})]})]}),o.jsx("div",{className:"mt-1",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:n.username}),C&&o.jsx(Ia,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-500 fill-yellow-500"})]})})]}),o.jsxs("div",{className:"flex-1 pt-8 sm:pt-11 text-center min-w-0 max-w-[60%]",children:[n.bio?o.jsx("div",{className:"space-y-1 sm:space-y-2 mt-2",children:n.bio.split(`
`).slice(0,3).map((I,z)=>o.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-800 italic tracking-wide leading-snug",style:{wordBreak:"break-word"},children:I.slice(0,40)},z))}):o.jsx("p",{className:"text-xs sm:text-sm text-gray-400 italic font-light mt-3",children:m?"Tap Edit Profile to add a bio":"No bio yet"}),n.link&&o.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 mt-2 block underline break-all",children:n.link})]})]}),m&&o.jsx("div",{className:"mt-4 flex justify-center px-2",children:o.jsxs("button",{onClick:()=>{x(n.username||""),j(n.bio||""),_(n.link||""),b(!0)},className:"inline-flex items-center gap-2 px-4 sm:px-6 py-2 sm:py-2.5 bg-orange-600 text-white text-sm sm:text-base font-medium rounded-full hover:bg-orange-700 shadow-md",children:[o.jsx(PE,{className:"w-4 h-4"}),"Edit Profile"]})})]}),!m&&o.jsx("div",{className:"px-4 py-3 border-t border-gray-200",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Y,{onClick:async()=>{if(!(!u||!f))try{M?(await L.from("follows").delete().eq("follower_id",u).eq("following_id",f),D(!1),s(I=>I?{...I,followers_count:(I.followers_count||0)-1}:null),$.success("Unsupported")):(await L.from("follows").insert({follower_id:u,following_id:f}),D(!0),s(I=>I?{...I,followers_count:(I.followers_count||0)+1}:null),$.success("Supporting!"))}catch{$.error("Failed to update")}},className:`flex-1 h-10 text-sm ${M?"bg-gray-200 text-gray-900 hover:bg-gray-300":"bg-gradient-to-r from-orange-500 to-red-500 text-white hover:from-orange-600 hover:to-red-600"}`,children:M?"Supporting":"Support"}),o.jsx(Y,{onClick:handleSendMessage,className:"flex-1 h-10 text-sm bg-white border-2 border-gray-300 text-gray-900 hover:bg-gray-50",children:"Message"})]})}),o.jsx("div",{className:"px-4 py-3 sm:py-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-center gap-8 sm:gap-10",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg sm:text-xl font-bold",children:t.length}),o.jsx("div",{className:"text-xs text-gray-500",children:"posts"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg sm:text-xl font-bold",children:n.followers_count||0}),o.jsx("div",{className:"text-xs text-gray-500",children:"supporters"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg sm:text-xl font-bold",children:n.following_count||0}),o.jsx("div",{className:"text-xs text-gray-500",children:"supporting"})]})]})})]}),o.jsx("div",{className:"border-b border-gray-200 bg-white",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 py-3",children:[o.jsx(wE,{className:"w-5 h-5 text-gray-900"}),o.jsx("span",{className:"text-sm font-semibold uppercase tracking-wider",children:"Posts"})]})}),t.length===0?o.jsxs("div",{className:"text-center py-12 sm:py-16 px-4",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl shadow-lg mb-4",children:o.jsx(cm,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),o.jsx("p",{className:"text-gray-900 font-semibold text-base sm:text-lg mb-2",children:"No posts yet"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Share your first recipe!"})]}):o.jsx("div",{className:"grid grid-cols-3 gap-0.5 sm:gap-1",children:t.map(I=>{let z=I.image_url;return z&&!z.includes("image-proxy")&&(z.includes("instagram.com")||z.includes("cdninstagram.com")||z.includes("fbcdn.net"))&&(z=`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(z)}`),o.jsxs("div",{className:"aspect-square bg-gray-100 overflow-hidden relative group",children:[o.jsxs("div",{onClick:()=>A(I.id),className:"cursor-pointer hover:opacity-90 w-full h-full",children:[z?o.jsx("img",{src:z,alt:I.title||"Post",className:"w-full h-full object-cover",onError:se=>{console.error("[Profile] Image failed to load:",z),se.target.src="https://via.placeholder.com/400?text=No+Image"}}):I.video_url?o.jsx("video",{src:I.video_url,className:"w-full h-full object-cover"}):null,I.title&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2",children:o.jsx("p",{className:"text-white text-xs font-semibold truncate",children:I.title})})]}),(m||C)&&o.jsx("div",{className:"absolute top-2 right-2 z-10",onClick:se=>se.stopPropagation(),children:o.jsxs(ej,{children:[o.jsx(tj,{asChild:!0,children:o.jsx("button",{className:"p-1.5 bg-black/50 hover:bg-black/70 rounded-full backdrop-blur-sm",children:o.jsx(iw,{className:"w-4 h-4 text-white"})})}),o.jsxs(Km,{align:"end",children:[o.jsxs(ci,{onClick:()=>{F({id:I.id,title:I.title||"",caption:I.caption||"",recipeUrl:I.recipe_url||"",photoUrl:I.image_url||I.video_url||""})},className:"cursor-pointer",children:[o.jsx(kh,{className:"w-4 h-4 mr-2"}),"Edit post"]}),o.jsxs(ci,{onClick:()=>O(I.id),className:"cursor-pointer text-red-600",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Delete post"]})]})]})})]},I.id)})})]}),o.jsx(_t,{open:g,onOpenChange:b,children:o.jsxs(vt,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[o.jsxs(Bt,{children:[o.jsx(Dt,{children:"Edit Profile"}),o.jsx(Nr,{children:"Max 40 characters per line  Max 3 lines"})]}),o.jsxs("div",{className:"space-y-4 sm:space-y-5 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"username",children:"Username"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(nt,{id:"username",value:v,onChange:I=>{x(I.target.value),J(null)},placeholder:"max 20 chars, no spaces",maxLength:20,className:W?"border-red-500":""}),W&&o.jsx("p",{className:"text-xs text-red-600 font-medium",children:W}),o.jsxs("p",{className:"text-xs text-gray-500",children:[v.length,"/20  letters, numbers, _ ."]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Fe,{htmlFor:"bio",children:"Bio"}),o.jsxs("span",{className:`text-xs font-medium ${y.length>120||y.split(`
`).length>3?"text-red-600":"text-gray-500"}`,children:[y.length,"/120  ",y.split(`
`).length,"/3 lines"]})]}),o.jsx(Sn,{id:"bio",value:y,onChange:I=>{let z=I.target.value;const se=z.split(`
`);se.length>3&&(z=se.slice(0,3).join(`
`)),z=z.split(`
`).map(ge=>ge.slice(0,40)).join(`
`),j(z)},placeholder:"i love peegi love peegi love peegi\\ni love peegi love peegi love peegi\\ni love peegi love peegi snguyen7",className:"min-h-[110px] resize-none text-center font-medium",rows:3}),o.jsx("p",{className:"text-xs text-gray-500 text-center -mt-2",children:"Press Enter for new line"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"link",children:"Link"}),o.jsx(nt,{id:"link",value:N,onChange:I=>_(I.target.value),placeholder:"https://example.com",type:"url"})]}),o.jsxs("div",{className:"flex gap-2",children:[n.avatar_url&&o.jsxs(Y,{variant:"outline",onClick:V,disabled:l,className:"flex-1 text-red-600",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"})," Remove Avatar"]}),n.banner_url&&o.jsxs(Y,{variant:"outline",onClick:Z,disabled:l,className:"flex-1 text-red-600",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"})," Remove Banner"]})]})]}),o.jsxs(rs,{children:[o.jsx(Y,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),o.jsx(Y,{onClick:re,children:"Save Changes"})]})]})}),k&&o.jsx(_t,{open:!!k,onOpenChange:()=>A(null),children:o.jsxs(vt,{className:"max-w-lg p-0 overflow-hidden bg-black relative max-h-[90vh]",children:[o.jsx(eu,{postId:k,isOpen:!0,onClose:()=>A(null)}),o.jsxs("div",{className:"absolute inset-x-0 top-0 z-[100] flex items-center justify-between px-4 pt-4 pb-6 pointer-events-none",children:[o.jsx("button",{onClick:()=>A(null),className:"pointer-events-auto p-2 sm:p-3 bg-black/50 backdrop-blur-md hover:bg-black/70 rounded-full transition-all shadow-lg",children:o.jsx(Lo,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(m||C)&&u===((U=t.find(I=>I.id===k))==null?void 0:U.user_id)&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{const I=t.find(z=>z.id===k);I&&F({id:I.id,title:I.title||"",caption:I.caption||"",recipeUrl:I.recipe_url||"",photoUrl:I.image_url||I.video_url||""}),A(null)},className:"pointer-events-auto p-2 sm:p-3 bg-black/50 backdrop-blur-md hover:bg-orange-600/70 rounded-full transition-all shadow-lg",title:"Edit post",children:o.jsx(kh,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),o.jsx("button",{onClick:()=>{O(k),A(null)},className:"pointer-events-auto p-2 sm:p-3 bg-black/50 backdrop-blur-md hover:bg-red-600/70 rounded-full transition-all shadow-lg",title:"Delete post",children:o.jsx(Yt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]})]})]})}),o.jsx(xc,{open:!!X,onOpenChange:I=>!I&&F(null),children:o.jsxs(ui,{className:"max-h-[85vh] overflow-y-auto",children:[o.jsxs(di,{children:[o.jsx(fi,{children:"Edit post"}),o.jsx(mi,{children:"Update your caption and recipe link."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Caption"}),o.jsx(Sn,{value:(X==null?void 0:X.caption)||"",onChange:I=>F(z=>z?{...z,caption:I.target.value}:null),placeholder:"Write a caption...",className:"resize-none",rows:3})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Recipe URL"}),o.jsx("input",{type:"url",value:(X==null?void 0:X.recipeUrl)||"",onChange:I=>F(z=>z?{...z,recipeUrl:I.target.value}:null),placeholder:"https://...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Change Photo/Video (Upload from device)"}),o.jsx("input",{type:"file",accept:"image/*,video/*",onChange:ue,disabled:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"}),P&&o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Uploading..."}),(X==null?void 0:X.photoUrl)&&o.jsx("img",{src:X.photoUrl,alt:"Preview",className:"mt-2 w-32 h-32 object-cover rounded-lg",onError:I=>{I.currentTarget.style.display="none"}})]})]}),o.jsxs(hi,{children:[o.jsx(gi,{children:"Cancel"}),o.jsx(pi,{onClick:Q,className:"bg-orange-600 hover:bg-orange-700",children:"Save changes"})]})]})}),o.jsx(xc,{open:!!S,onOpenChange:I=>!I&&O(null),children:o.jsxs(ui,{children:[o.jsxs(di,{children:[o.jsx(fi,{children:"Delete post"}),o.jsx(mi,{children:"Are you sure you want to delete this post? This action cannot be undone."})]}),o.jsxs(hi,{children:[o.jsx(gi,{children:"Cancel"}),o.jsx(pi,{onClick:me,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]}):o.jsx("div",{className:"text-center py-20 text-gray-500",children:"Profile not found"})}function d6(){const[e,t]=d.useState(!1),[r,n]=d.useState(null),[s,a]=d.useState(null),{user:i}=zc(),l=async()=>{if(i!=null&&i.email){t(!0),a(null),n(null);try{const{error:c}=await L.auth.resend({type:"signup",email:i.email});if(c)throw c;n("Verification email sent! Check your inbox.")}catch(c){a(c.message||"Failed to resend verification email")}finally{t(!1)}}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-amber-50 flex items-center justify-center px-4 overflow-hidden",style:{paddingTop:"max(1rem, env(safe-area-inset-top))",paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:[o.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-bl from-red-200/30 to-transparent rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-orange-200/30 to-transparent rounded-full blur-3xl"}),o.jsx("div",{className:"relative z-10 w-full max-w-md",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 sm:p-8 border border-red-100",children:[o.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-lg mb-4",children:o.jsx(sc,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Verify Your Email"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Check your email and click the link to verify."})]}),o.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(aw,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-orange-800 min-w-0",children:[o.jsx("p",{className:"font-medium mb-1",children:"Email sent to:"}),o.jsx("p",{className:"font-mono text-xs sm:text-sm text-orange-900 break-all",children:i==null?void 0:i.email})]})]})}),o.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-4 sm:mb-6",children:[o.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-700",children:[o.jsx(jl,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{children:"Check your inbox and spam folder"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-700",children:[o.jsx(jl,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{children:"Click the verification link in the email"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-700",children:[o.jsx(jl,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{children:"Return to this page after verifying"})]})]}),s&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm mb-4",children:s}),r&&o.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm mb-4",children:r}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Y,{onClick:l,disabled:e,className:"w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-semibold h-11 sm:h-12 text-sm sm:text-base shadow-lg",children:e?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Ch,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Ch,{className:"w-4 h-4"}),"Resend Verification Email"]})}),o.jsx(Y,{onClick:()=>window.location.reload(),variant:"outline",className:"w-full border-orange-300 text-orange-700 hover:bg-orange-50 h-11 sm:h-12 text-sm sm:text-base",children:"I've Verified - Refresh Page"})]}),o.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:o.jsx("button",{onClick:async()=>{await L.auth.signOut(),window.location.reload()},className:"text-xs sm:text-sm text-gray-600 hover:text-gray-700",children:"Sign out"})})]})})]})}function h6({recipientUserId:e,recipientUsername:t,onBack:r}){const[n,s]=d.useState(null),[a,i]=d.useState([]),[l,c]=d.useState(null),[u,h]=d.useState([]),[f,p]=d.useState(""),[m,w]=d.useState(!0),g=d.useRef(null);d.useEffect(()=>{(async()=>{const{data:E}=await L.auth.getUser();E.user&&(s(E.user.id),await b(E.user.id),e&&t?await x(e,t,E.user.id):await v(E.user.id)),w(!1)})()},[e]);const b=async C=>{try{await L.from("notifications").update({read:!0}).eq("user_id",C).eq("type","message").eq("read",!1)}catch(E){console.error("Error marking notifications as read:",E)}};d.useEffect(()=>{if(!l||!n)return;const C=L.channel(`messages:${l.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages",filter:`conversation_id=eq.${l.id}`},async E=>{const M=E.new;h(D=>D.find(J=>J.id===M.id)?D:[...D,M]),M.sender_id!==n&&await L.from("direct_messages").update({read:!0}).eq("id",M.id)}).subscribe();return()=>{L.removeChannel(C)}},[l,n]),d.useEffect(()=>{l&&(y(l.id),j(l.id))},[l]),d.useEffect(()=>{var C;(C=g.current)==null||C.scrollIntoView({behavior:"smooth"})},[u]);const v=async C=>{const{data:E,error:M}=await L.from("conversations").select("*").or(`user1_id.eq.${C},user2_id.eq.${C}`).order("last_message_at",{ascending:!1});if(M){console.error("Error loading conversations:",M);return}const D=await Promise.all((E||[]).map(async W=>{const J=W.user1_id===C?W.user2_id:W.user1_id,{data:X}=await L.from("profiles").select("id, username, avatar_url").eq("id",J).maybeSingle(),{data:F}=await L.from("direct_messages").select("content, created_at").eq("conversation_id",W.id).order("created_at",{ascending:!1}).limit(1).maybeSingle(),{count:P}=await L.from("direct_messages").select("*",{count:"exact",head:!0}).eq("conversation_id",W.id).eq("read",!1).neq("sender_id",C);return{...W,other_user:X||{id:J,username:"Unknown",avatar_url:null},last_message:F,unread_count:P||0}}));i(D)},x=async(C,E,M)=>{const D=M||n;if(!D)return;const[W,J]=D<C?[D,C]:[C,D];let{data:X}=await L.from("conversations").select("*").eq("user1_id",W).eq("user2_id",J).maybeSingle();if(!X){const{data:P,error:R}=await L.from("conversations").insert({user1_id:W,user2_id:J}).select().single();if(R){console.error("Error creating conversation:",R),$.error("Failed to start conversation");return}X=P}const{data:F}=await L.from("profiles").select("id, username, avatar_url").eq("id",C).maybeSingle();c({...X,other_user:F||{id:C,username:E,avatar_url:null},unread_count:0})},y=async C=>{const{data:E,error:M}=await L.from("direct_messages").select("*").eq("conversation_id",C).order("created_at",{ascending:!0});if(M){console.error("Error loading messages:",M);return}h(E||[])},j=async C=>{n&&await L.from("direct_messages").update({read:!0}).eq("conversation_id",C).neq("sender_id",n).eq("read",!1)},N=async()=>{if(!f.trim()||!l||!n)return;const C=f.trim();p("");const{error:E,data:M}=await L.from("direct_messages").insert({conversation_id:l.id,sender_id:n,content:C}).select();if(E){console.error("Error sending message:",E),$.error("Failed to send message"),p(C);return}M&&M[0]&&h(W=>[...W,M[0]]),await L.from("conversations").update({last_message_at:new Date().toISOString()}).eq("id",l.id);const D=l.user1_id===n?l.user2_id:l.user1_id;D!==n&&await L.from("notifications").insert({user_id:D,actor_id:n,type:"message",conversation_id:l.id})},_=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),N())},k=C=>{const E=/(https?:\/\/[^\s]+)/g;return C.split(E).map((D,W)=>D.match(E)?o.jsx("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",onClick:J=>J.stopPropagation(),children:D},W):o.jsx("span",{children:D},W))},A=async C=>{if(!n)return;h(M=>M.filter(D=>D.id!==C));const{error:E}=await L.from("direct_messages").delete().eq("id",C).eq("sender_id",n);E?(console.error("Failed to delete message:",E),$.error("Could not delete message"),l&&y(l.id)):$.success("Message deleted")};return m?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pb-20",children:o.jsx("div",{className:"text-gray-600",children:"Loading messages..."})}):l?o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[o.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>{c(null),h([]),r&&e?r():n&&v(n)},className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(Lo,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-red-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:l.other_user.avatar_url?o.jsx("img",{src:l.other_user.avatar_url,alt:l.other_user.username,className:"w-full h-full object-cover"}):l.other_user.username.charAt(0).toUpperCase()}),o.jsx("span",{className:"font-semibold",children:l.other_user.username})]})]})}),o.jsx("div",{className:"pt-16 flex-1 overflow-y-auto px-4 pb-[88px]",children:o.jsxs("div",{className:"space-y-4 py-4",children:[u.map(C=>o.jsx("div",{className:"flex justify-end",children:o.jsxs("div",{className:"relative group max-w-[75%]",onTouchStart:E=>{if(C.sender_id!==n)return;const M=setTimeout(()=>{var J;(J=E.target.closest(".group"))==null||J.classList.add("show-delete")},400),D=()=>{clearTimeout(M),document.removeEventListener("touchend",D)};document.addEventListener("touchend",D)},children:[o.jsxs("div",{className:`rounded-2xl px-4 py-2.5 text-sm leading-tight break-words shadow-sm ${C.sender_id===n?"bg-gray-200 text-gray-900":"bg-orange-500 text-white"}`,children:[o.jsx("p",{className:"whitespace-pre-wrap",children:k(C.content)}),o.jsx("span",{className:"text-xs opacity-70 mt-1 block text-right",children:new Date(C.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),C.sender_id===n&&o.jsx("button",{onClick:E=>{E.stopPropagation(),A(C.id)},className:`
                absolute -top-3 -right-3 
                w-9 h-9 rounded-full 
                bg-red-500 text-white 
                flex items-center justify-center 
                shadow-lg text-lg
                opacity-0 
                group-hover:opacity-100 
                group-[.show-delete]:opacity-100 
                transition-all duration-200 
                hover:bg-red-600 active:scale-95
                z-10
              `,children:""})]})},C.id)),o.jsx("div",{ref:g})]})}),o.jsx("div",{className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 w-80 bg-white border-t border-gray-200 px-4 py-3 z-50",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:f,onChange:C=>p(C.target.value),onKeyPress:_,placeholder:"Type a message...",className:"w-[80%] px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500"}),o.jsx(Y,{onClick:N,disabled:!f.trim(),className:"rounded-full bg-orange-500 hover:bg-orange-600 text-white px-6",children:o.jsx(So,{className:"w-5 h-5"})})]})})]}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[r&&o.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(Lo,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:r?"Social Feed":"Messages"})]})}),o.jsx("div",{className:"pt-16 pb-20 px-4",children:a.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-500 mb-4",children:"No conversations yet"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Start a conversation from a user's profile"})]}):o.jsx("div",{className:"space-y-2",children:a.map(C=>o.jsxs("button",{onClick:()=>c(C),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-400 to-red-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:C.other_user.avatar_url?o.jsx("img",{src:C.other_user.avatar_url,alt:C.other_user.username,className:"w-full h-full object-cover"}):C.other_user.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1 text-left min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-semibold truncate",children:C.other_user.username}),C.last_message&&o.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:new Date(C.last_message.created_at).toLocaleDateString()})]}),C.last_message&&o.jsx("p",{className:"text-sm text-gray-600 truncate",children:C.last_message.content}),C.unread_count>0&&o.jsx("span",{className:"inline-block mt-1 bg-orange-500 text-white text-xs px-2 py-0.5 rounded-full",children:C.unread_count})]})]},C.id))})})]})}var $x=["light","dark"],f6="(prefers-color-scheme: dark)",m6=d.createContext(void 0),p6={setTheme:e=>{},themes:[]},g6=()=>{var e;return(e=d.useContext(m6))!=null?e:p6};d.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let u=a==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?$x.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(w,g=!1,b=!0)=>{let v=i?i[w]:w,x=g?w+"|| ''":`'${v}'`,y="";return s&&b&&!g&&$x.includes(w)&&(y+=`d.style.colorScheme = '${w}';`),r==="class"?g||v?y+=`c.add(${x})`:y+="null":v&&(y+=`d[s](n,${x})`),y},m=e?`!function(){${h}${p(e)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${f6}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${u?"":"else{"+p(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(a,!1,!1)};}${f}}catch(t){}}();`;return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});const x6=({...e})=>{const{theme:t="system"}=g6();return o.jsx(v5,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},v6=Bc("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),s_=d.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:je(v6({variant:t}),e),...r}));s_.displayName="Alert";const y6=d.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:je("mb-1 font-medium leading-none tracking-tight",e),...t}));y6.displayName="AlertTitle";const o_=d.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("text-sm [&_p]:leading-relaxed",e),...t}));o_.displayName="AlertDescription";function w6(){const[e,t]=d.useState(!0),[r,n]=d.useState(!1),[s,a]=d.useState(""),[i,l]=d.useState({email:"",password:"",confirmPassword:"",name:""}),c=()=>{if(a(""),!i.email||!i.password){a("Please fill in all required fields");return}if(!e){if(!i.name){a("Please enter your name");return}if(i.password!==i.confirmPassword){a("Passwords do not match");return}if(i.password.length<6){a("Password must be at least 6 characters");return}}n(!0),setTimeout(()=>{n(!1),console.log(e?"Login":"Sign up",i)},1500)},u=(p,m)=>{l(w=>({...w,[p]:m})),a("")},h=()=>{t(!e),a(""),l({email:"",password:"",confirmPassword:"",name:""})},f=p=>{p.key==="Enter"&&c()};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-pink-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gradient-to-br from-orange-500 to-red-600 shadow-lg mb-3 sm:mb-4",children:o.jsx(ts,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-slate-900 mb-1 sm:mb-2",children:"Meal Scrape"}),o.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Your AI-powered recipe companion"})]}),o.jsxs(He,{className:"border-slate-200 shadow-xl overflow-hidden",children:[o.jsxs(wt,{className:"bg-gradient-to-br from-orange-50 to-red-50 border-b border-orange-100 p-4 sm:p-6",children:[o.jsx(bt,{className:"text-xl sm:text-2xl text-slate-900 text-center",children:e?"Welcome Back":"Create Account"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600 text-center",children:e?"Sign in to access your recipes":"Join to start saving and organizing recipes"})]}),o.jsx(Xe,{className:"p-4 sm:p-6",children:o.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[s&&o.jsxs(s_,{variant:"destructive",className:"bg-red-50 border-red-200",children:[o.jsx(aw,{className:"h-4 w-4"}),o.jsx(o_,{className:"text-xs sm:text-sm",children:s})]}),!e&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"name",className:"text-sm sm:text-base font-medium text-slate-700",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(fw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-slate-400"}),o.jsx(nt,{id:"name",type:"text",placeholder:"John Doe",value:i.name,onChange:p=>u("name",p.target.value),onKeyPress:f,className:"pl-10 sm:pl-11 h-11 sm:h-12 text-sm sm:text-base",disabled:r})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"email",className:"text-sm sm:text-base font-medium text-slate-700",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(sc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-slate-400"}),o.jsx(nt,{id:"email",type:"email",placeholder:"you@example.com",value:i.email,onChange:p=>u("email",p.target.value),onKeyPress:f,className:"pl-10 sm:pl-11 h-11 sm:h-12 text-sm sm:text-base",disabled:r,autoComplete:"email"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"password",className:"text-sm sm:text-base font-medium text-slate-700",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(nc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-slate-400"}),o.jsx(nt,{id:"password",type:"password",placeholder:e?"Enter password":"Min. 6 characters",value:i.password,onChange:p=>u("password",p.target.value),onKeyPress:f,className:"pl-10 sm:pl-11 h-11 sm:h-12 text-sm sm:text-base",disabled:r,autoComplete:e?"current-password":"new-password"})]})]}),!e&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"confirmPassword",className:"text-sm sm:text-base font-medium text-slate-700",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(nc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-slate-400"}),o.jsx(nt,{id:"confirmPassword",type:"password",placeholder:"Re-enter password",value:i.confirmPassword,onChange:p=>u("confirmPassword",p.target.value),onKeyPress:f,className:"pl-10 sm:pl-11 h-11 sm:h-12 text-sm sm:text-base",disabled:r,autoComplete:"new-password"})]})]}),e&&o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",className:"text-xs sm:text-sm text-orange-600 hover:text-orange-700 font-medium",onClick:()=>console.log("Forgot password"),children:"Forgot password?"})}),o.jsx(Y,{onClick:c,disabled:r,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 h-11 sm:h-12 text-sm sm:text-base font-semibold shadow-lg",children:r?o.jsxs(o.Fragment,{children:[o.jsx(ri,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 animate-spin"}),e?"Signing in...":"Creating account..."]}):o.jsxs(o.Fragment,{children:[e?"Sign In":"Create Account",o.jsx(ow,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2"})]})}),o.jsxs("div",{className:"relative my-4 sm:my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-slate-200"})}),o.jsx("div",{className:"relative flex justify-center text-xs sm:text-sm",children:o.jsx("span",{className:"px-2 bg-white text-slate-500",children:"OR"})})]}),o.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[o.jsxs(Y,{variant:"outline",className:"w-full h-11 sm:h-12 text-sm sm:text-base border-slate-300 hover:bg-slate-50",onClick:()=>console.log("Google login"),disabled:r,children:[o.jsxs("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),o.jsxs(Y,{variant:"outline",className:"w-full h-11 sm:h-12 text-sm sm:text-base border-slate-300 hover:bg-slate-50",onClick:()=>console.log("Apple login"),disabled:r,children:[o.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Continue with Apple"]})]})]})}),o.jsx("div",{className:"bg-slate-50 px-4 py-4 sm:px-6 sm:py-5 border-t border-slate-200",children:o.jsxs("p",{className:"text-xs sm:text-sm text-center text-slate-600",children:[e?"Don't have an account? ":"Already have an account? ",o.jsx("button",{onClick:h,disabled:r,className:"font-semibold text-orange-600 hover:text-orange-700 disabled:opacity-50",children:e?"Sign up":"Sign in"})]})})]}),!e&&o.jsxs("p",{className:"text-[10px] sm:text-xs text-center text-slate-500 mt-4 sm:mt-6 px-4",children:["By creating an account, you agree to our"," ",o.jsx("button",{className:"underline hover:text-slate-700",children:"Terms of Service"})," ","and"," ",o.jsx("button",{className:"underline hover:text-slate-700",children:"Privacy Policy"})]}),o.jsx("div",{className:"mt-4 sm:mt-6",children:o.jsx(Y,{variant:"ghost",className:"w-full text-xs sm:text-sm text-slate-600 hover:text-slate-900 hover:bg-white/50",onClick:()=>console.log("Continue as guest"),children:"Continue as Guest "})})]})})}function b6({onNavigate:e}){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-orange-25 to-amber-50 overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-bl from-orange-200/30 to-transparent rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-amber-200/30 to-transparent rounded-full blur-3xl"}),o.jsx("div",{className:"relative z-10 h-screen flex flex-col items-center justify-center px-4 sm:px-6 pb-safe overflow-y-auto",style:{paddingTop:"max(2rem, env(safe-area-inset-top))",paddingBottom:"max(2rem, env(safe-area-inset-bottom))"},children:o.jsxs("div",{className:"text-center max-w-4xl mx-auto w-full",children:[o.jsxs("div",{className:"mb-8 sm:mb-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 sm:w-44 sm:h-44 bg-gradient-to-br from-orange-500 to-amber-500 rounded-2xl shadow-lg mb-4 sm:mb-6 p-0",children:o.jsx("img",{src:"/favicon.ico.jpg",alt:"Meal Scrape Logo",className:"w-48 h-48 sm:w-64 sm:h-64 object-contain"})}),o.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-gray-900 mb-3 px-4",children:"Meal Scrape"}),o.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-700 max-w-2xl mx-auto leading-relaxed px-4",children:["Automate your ",o.jsx("span",{className:"font-semibold text-orange-700",children:"Recipe"}),","," ",o.jsx("span",{className:"font-semibold text-amber-700",children:"Grocery List"}),", and"," ",o.jsx("span",{className:"font-semibold text-orange-600",children:"Cooking"})," all in one place."]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center mb-12 sm:mb-16 px-4",children:[o.jsxs(Y,{onClick:()=>e("discover"),size:"lg",className:"w-full sm:w-auto min-w-48 h-14 sm:h-16 text-base font-semibold bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 gap-3",children:[o.jsx(ac,{className:"w-5 h-5"}),o.jsx("span",{children:"Social Feed"})]}),o.jsxs(Y,{onClick:()=>e("my-recipes"),size:"lg",className:"w-full sm:w-auto min-w-48 h-14 sm:h-16 text-base font-semibold bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 gap-3",children:[o.jsx(hE,{className:"w-5 h-5"}),o.jsx("span",{children:"My Recipes"})]}),o.jsxs(Y,{onClick:()=>e("add-recipe"),size:"lg",className:"w-full sm:w-auto min-w-48 h-14 sm:h-16 text-base font-semibold bg-gradient-to-r from-orange-600 to-amber-500 hover:from-orange-700 hover:to-amber-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 gap-3",children:[o.jsx(sn,{className:"w-5 h-5"}),o.jsx("span",{children:"Add Recipe"})]})]}),o.jsxs("div",{className:"mt-6 sm:mt-8 pt-6 sm:pt-8 border-t border-orange-200/50 px-4",children:[o.jsxs("p",{className:"text-sm sm:text-base md:text-lg text-gray-600 max-w-3xl mx-auto leading-relaxed",children:["See a recipe online? ",o.jsx("span",{className:"font-bold text-red-600",children:'"I want that!"'}),o.jsx("br",{}),"Just ",o.jsx("span",{className:"font-semibold text-orange-600",children:"paste the link"})," in ",o.jsx("span",{className:"font-bold text-red-600",children:'"Add Recipe"'}),"  done.",o.jsx("br",{}),"Then plan, shop, and ",o.jsx("span",{className:"font-bold text-red-600",children:"COOK!"})]}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4 sm:gap-6 text-xs sm:text-sm text-gray-600 mt-4 sm:mt-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),o.jsx("span",{children:"Meal Planning"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),o.jsx("span",{children:"Smart Grocery Lists"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-600"}),o.jsx("span",{children:"Hands-Free Cooking"})]})]})]})]})})]})}const j6=({children:e})=>o.jsx("div",{className:"min-h-screen pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)] bg-gradient-to-br from-orange-50 to-amber-50",children:e});function N6(){const{user:e,loading:t,isEmailVerified:r}=zc(),[n,s]=d.useState(()=>{const l=window.location.pathname;if(l.match(/^\/post\/[a-f0-9]{36}$/))return"discover";if(l==="/"||l==="/discover-recipes")return"discover-recipes";if(l==="/discover")return"discover";if(l==="/recipes"||l==="/my-recipes")return"my-recipes";if(l==="/add-recipe")return"add-recipe";if(l==="/meal-planner")return"meal-planner";if(l==="/grocery-list")return"grocery-list";if(l==="/cart")return"cart";if(l==="/upload")return"upload";if(l==="/profile")return"profile";if(l==="/messages")return"messages";if(l==="/settings")return"settings";if(l==="/onboarding")return"onboarding";if(l.startsWith("/profile/")&&l!=="/profile"){const c=l.split("/profile/")[1];if(c)return`profile:${c}`}if(l!=="/"&&l.length>1&&!l.includes(".")){const c=l.substring(1);if(c&&!c.includes("/"))return`profile:${c}`}return"discover-recipes"});d.useEffect(()=>{const c=window.location.pathname.match(/^\/post\/([a-f0-9]{36})$/);if(c){const u=c[1];s("discover"),window.dispatchEvent(new CustomEvent("open-shared-post",{detail:u})),window.history.replaceState({},"","/discover")}},[]),d.useEffect(()=>{const l=()=>{const c=window.location.pathname;if(c==="/"||c==="/discover-recipes")s("discover-recipes");else if(c==="/discover")s("discover");else if(c==="/recipes"||c==="/my-recipes")s("my-recipes");else if(c==="/profile")s("profile");else if(c.startsWith("/profile/")&&c!=="/profile"){const u=c.split("/profile/")[1];u&&s(`profile:${u}`)}else if(c!=="/"&&c.length>1&&!c.includes(".")){const u=c.substring(1);u&&!u.includes("/")&&s(`profile:${u}`)}};return window.addEventListener("popstate",l),()=>window.removeEventListener("popstate",l)},[]);const a=l=>{const c={"discover-recipes":"/",discover:"/discover","my-recipes":"/recipes","add-recipe":"/add-recipe","meal-planner":"/meal-planner","grocery-list":"/grocery-list",cart:"/cart",upload:"/upload",profile:"/profile",messages:"/messages",settings:"/settings",onboarding:"/onboarding"};if(l.startsWith("profile:")){const h=l.split("profile:")[1];window.history.pushState({},"",`/${h}`),s(l);return}const u=c[l]||"/";window.history.pushState({},"",u),s(l)},i=()=>{if(n.startsWith("profile:")){const l=n.split("profile:")[1];return o.jsx(Dx,{username:l})}switch(n){case"discover-recipes":return o.jsx(O5,{onNavigate:a});case"discover":return o.jsx(rO,{onNavigate:a});case"my-recipes":return o.jsx(nO,{});case"add-recipe":return o.jsx(ZO,{onNavigate:a});case"meal-planner":return o.jsx(MM,{onNavigate:a});case"grocery-list":return o.jsx(DM,{onNavigate:a});case"cart":return o.jsx($M,{onNavigate:a});case"upload":return o.jsx(c6,{onNavigate:a});case"profile":return o.jsx(Dx,{});case"messages":return o.jsx(h6,{onBack:()=>a("discover")});case"settings":return o.jsx(l6,{onNavigate:a});default:return o.jsx(b6,{onNavigate:a})}};return t||e&&r===void 0?o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-orange-50 to-amber-50 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"relative w-20 h-28",children:[o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-16 h-12 border-8 border-orange-300 rounded-t-full"}),o.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-16 h-12 border-8 border-orange-300 rounded-b-full"}),o.jsx("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 w-1 bg-orange-600 origin-top animate-sand"})]}),o.jsx("p",{className:"mt-8 text-lg font-medium text-orange-800",children:"Preparing your kitchen"})]}),o.jsx("style",{children:`
          @keyframes sand {
            0%, 100% { height: 0; opacity: 1; }
            50% { height: 40px; opacity: 1; }
          }
          .animate-sand { animation: sand 2.4s infinite ease-in-out; }
        `})]}):e?r?o.jsx(j6,{children:o.jsxs(ER,{currentPage:n,onNavigate:a,children:[i(),o.jsx(x6,{})]})}):o.jsx(d6,{}):o.jsx(w6,{})}function _6(){return o.jsx(aE,{children:o.jsx(F2,{children:o.jsx(N6,{})})})}class S6 extends d.Component{constructor(r){super(r);vu(this,"handleReload",()=>{window.location.reload()});vu(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return console.error("ErrorBoundary caught error:",r),{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary componentDidCatch:",r,n),this.setState({errorInfo:n})}render(){var r;if(this.state.hasError){const n=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-pink-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-2xl",children:o.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden border-2 border-red-200",children:[o.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-600 p-4 sm:p-6",children:[o.jsx("div",{className:"flex items-center justify-center mb-3",children:o.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center",children:o.jsx(ME,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white",strokeWidth:2.5})})}),o.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white text-center mb-2",children:"Oops! Something Went Wrong"}),o.jsx("p",{className:"text-sm sm:text-base text-white/90 text-center",children:"Don't worry, we're here to help you get back on track"})]}),o.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[o.jsx("div",{className:"bg-orange-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-orange-200",children:o.jsx("p",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed",children:"We encountered an unexpected error. This has been logged and we'll look into it. In the meantime, try refreshing the page or returning to the home screen."})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[o.jsxs("button",{onClick:this.handleReload,className:"flex items-center justify-center gap-2 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white font-semibold rounded-lg sm:rounded-xl px-4 py-3 sm:py-4 transition-all hover:scale-105 active:scale-95 shadow-lg",children:[o.jsx(Ch,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"text-sm sm:text-base",children:"Reload Page"})]}),o.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center justify-center gap-2 bg-white hover:bg-gray-50 text-gray-700 font-semibold rounded-lg sm:rounded-xl px-4 py-3 sm:py-4 transition-all hover:scale-105 active:scale-95 shadow-md border-2 border-gray-200",children:[o.jsx(jE,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"text-sm sm:text-base",children:"Go Home"})]})]}),n&&this.state.error&&o.jsxs("details",{className:"bg-gray-50 rounded-lg sm:rounded-xl border border-gray-200",children:[o.jsxs("summary",{className:"px-3 py-2 sm:px-4 sm:py-3 cursor-pointer hover:bg-gray-100 rounded-lg sm:rounded-xl transition-colors flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700",children:[o.jsx(mE,{className:"w-4 h-4"}),o.jsx("span",{children:"Developer Info (Click to expand)"})]}),o.jsxs("div",{className:"p-3 sm:p-4 border-t border-gray-200 space-y-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-semibold text-gray-700 mb-1 uppercase tracking-wide",children:"Error Message"}),o.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 sm:p-3",children:o.jsx("code",{className:"text-[10px] sm:text-xs text-red-800 break-words",children:this.state.error.toString()})})]}),this.state.error.stack&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-semibold text-gray-700 mb-1 uppercase tracking-wide",children:"Stack Trace"}),o.jsx("div",{className:"bg-gray-900 rounded p-2 sm:p-3 overflow-x-auto max-h-48 sm:max-h-64",children:o.jsx("pre",{className:"text-[9px] sm:text-[10px] text-green-400 font-mono whitespace-pre-wrap break-words",children:this.state.error.stack})})]}),((r=this.state.errorInfo)==null?void 0:r.componentStack)&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-semibold text-gray-700 mb-1 uppercase tracking-wide",children:"Component Stack"}),o.jsx("div",{className:"bg-gray-900 rounded p-2 sm:p-3 overflow-x-auto max-h-48 sm:max-h-64",children:o.jsx("pre",{className:"text-[9px] sm:text-[10px] text-blue-400 font-mono whitespace-pre-wrap break-words",children:this.state.errorInfo.componentStack})})]})]})]}),!n&&o.jsxs("div",{className:"bg-blue-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-blue-200",children:[o.jsxs("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Need Help?"})]}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:"If this problem persists, please contact our support team."}),o.jsx("button",{onClick:()=>window.location.href="mailto:support@mealscrape.app",className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 font-semibold underline",children:"Contact Support "})]}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-purple-200",children:[o.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900 mb-2",children:" Quick Fixes"}),o.jsxs("ul",{className:"text-xs sm:text-sm text-gray-600 space-y-1.5 sm:space-y-2",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 shrink-0",children:""}),o.jsx("span",{children:"Try refreshing the page"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 shrink-0",children:""}),o.jsx("span",{children:"Clear your browser cache and cookies"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 shrink-0",children:""}),o.jsx("span",{children:"Check your internet connection"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 shrink-0",children:""}),o.jsx("span",{children:"Update your browser to the latest version"})]})]})]})]}),o.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:py-4 border-t border-gray-200",children:o.jsxs("p",{className:"text-[10px] sm:text-xs text-center text-gray-500",children:["Error ID: ",Date.now(),"  Meal Scrape v1.0"]})})]})})})}return this.props.children}}const a_=document.getElementById("root");if(!a_)throw new Error("Root element not found");Zv(a_).render(o.jsx(d.StrictMode,{children:o.jsx(S6,{children:o.jsx(_6,{})})}));
