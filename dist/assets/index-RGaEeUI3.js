var c_=Object.defineProperty;var d_=(e,t,r)=>t in e?c_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var yd=(e,t,r)=>d_(e,typeof t!="symbol"?t+"":t,r);function zx(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function Bx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function u_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Vx={exports:{}},Nc={},Wx={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=Symbol.for("react.element"),h_=Symbol.for("react.portal"),f_=Symbol.for("react.fragment"),m_=Symbol.for("react.strict_mode"),p_=Symbol.for("react.profiler"),g_=Symbol.for("react.provider"),x_=Symbol.for("react.context"),v_=Symbol.for("react.forward_ref"),y_=Symbol.for("react.suspense"),w_=Symbol.for("react.memo"),b_=Symbol.for("react.lazy"),sp=Symbol.iterator;function j_(e){return e===null||typeof e!="object"?null:(e=sp&&e[sp]||e["@@iterator"],typeof e=="function"?e:null)}var qx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hx=Object.assign,Kx={};function qo(e,t,r){this.props=e,this.context=t,this.refs=Kx,this.updater=r||qx}qo.prototype.isReactComponent={};qo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gx(){}Gx.prototype=qo.prototype;function Xh(e,t,r){this.props=e,this.context=t,this.refs=Kx,this.updater=r||qx}var Qh=Xh.prototype=new Gx;Qh.constructor=Xh;Hx(Qh,qo.prototype);Qh.isPureReactComponent=!0;var op=Array.isArray,Yx=Object.prototype.hasOwnProperty,Zh={current:null},Jx={key:!0,ref:!0,__self:!0,__source:!0};function Xx(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Yx.call(t,n)&&!Jx.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:yi,type:e,key:a,ref:i,props:s,_owner:Zh.current}}function N_(e,t){return{$$typeof:yi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ef(e){return typeof e=="object"&&e!==null&&e.$$typeof===yi}function __(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ap=/\/+/g;function wd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?__(""+e.key):t.toString(36)}function hl(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case yi:case h_:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+wd(i,0):n,op(s)?(r="",e!=null&&(r=e.replace(ap,"$&/")+"/"),hl(s,t,r,"",function(d){return d})):s!=null&&(ef(s)&&(s=N_(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(ap,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",op(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+wd(a,l);i+=hl(a,t,r,c,s)}else if(c=j_(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+wd(a,l++),i+=hl(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ti(e,t,r){if(e==null)return e;var n=[],s=0;return hl(e,n,"","",function(a){return t.call(r,a,s++)}),n}function S_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wt={current:null},fl={transition:null},k_={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:fl,ReactCurrentOwner:Zh};function Qx(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Ti,forEach:function(e,t,r){Ti(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ti(e,function(){t++}),t},toArray:function(e){return Ti(e,function(t){return t})||[]},only:function(e){if(!ef(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=qo;De.Fragment=f_;De.Profiler=p_;De.PureComponent=Xh;De.StrictMode=m_;De.Suspense=y_;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k_;De.act=Qx;De.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Hx({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Zh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Yx.call(t,c)&&!Jx.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:yi,type:e.type,key:s,ref:a,props:n,_owner:i}};De.createContext=function(e){return e={$$typeof:x_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:g_,_context:e},e.Consumer=e};De.createElement=Xx;De.createFactory=function(e){var t=Xx.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:v_,render:e}};De.isValidElement=ef;De.lazy=function(e){return{$$typeof:b_,_payload:{_status:-1,_result:e},_init:S_}};De.memo=function(e,t){return{$$typeof:w_,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=fl.transition;fl.transition={};try{e()}finally{fl.transition=t}};De.unstable_act=Qx;De.useCallback=function(e,t){return Wt.current.useCallback(e,t)};De.useContext=function(e){return Wt.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return Wt.current.useDeferredValue(e)};De.useEffect=function(e,t){return Wt.current.useEffect(e,t)};De.useId=function(){return Wt.current.useId()};De.useImperativeHandle=function(e,t,r){return Wt.current.useImperativeHandle(e,t,r)};De.useInsertionEffect=function(e,t){return Wt.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return Wt.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return Wt.current.useMemo(e,t)};De.useReducer=function(e,t,r){return Wt.current.useReducer(e,t,r)};De.useRef=function(e){return Wt.current.useRef(e)};De.useState=function(e){return Wt.current.useState(e)};De.useSyncExternalStore=function(e,t,r){return Wt.current.useSyncExternalStore(e,t,r)};De.useTransition=function(){return Wt.current.useTransition()};De.version="18.3.1";Wx.exports=De;var u=Wx.exports;const re=Bx(u),tf=zx({__proto__:null,default:re},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_=u,E_=Symbol.for("react.element"),R_=Symbol.for("react.fragment"),P_=Object.prototype.hasOwnProperty,T_=C_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A_={key:!0,ref:!0,__self:!0,__source:!0};function Zx(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)P_.call(t,n)&&!A_.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:E_,type:e,key:a,ref:i,props:s,_owner:T_.current}}Nc.Fragment=R_;Nc.jsx=Zx;Nc.jsxs=Zx;Vx.exports=Nc;var o=Vx.exports,e0={exports:{}},hr={},t0={exports:{}},r0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,N){var R=O.length;O.push(N);e:for(;0<R;){var z=R-1>>>1,H=O[z];if(0<s(H,N))O[z]=N,O[R]=H,R=z;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var N=O[0],R=O.pop();if(R!==N){O[0]=R;e:for(var z=0,H=O.length,B=H>>>1;z<B;){var te=2*(z+1)-1,Z=O[te],ie=te+1,Q=O[ie];if(0>s(Z,R))ie<H&&0>s(Q,Z)?(O[z]=Q,O[ie]=R,z=ie):(O[z]=Z,O[te]=R,z=te);else if(ie<H&&0>s(Q,R))O[z]=Q,O[ie]=R,z=ie;else break e}}return N}function s(O,N){var R=O.sortIndex-N.sortIndex;return R!==0?R:O.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],h=1,f=null,p=3,m=!1,w=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var N=r(d);N!==null;){if(N.callback===null)n(d);else if(N.startTime<=O)n(d),N.sortIndex=N.expirationTime,t(c,N);else break;N=r(d)}}function j(O){if(g=!1,y(O),!w)if(r(c)!==null)w=!0,F(_);else{var N=r(d);N!==null&&$(j,N.startTime-O)}}function _(O,N){w=!1,g&&(g=!1,v(T),T=-1),m=!0;var R=p;try{for(y(N),f=r(c);f!==null&&(!(f.expirationTime>N)||O&&!I());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var H=z(f.expirationTime<=N);N=e.unstable_now(),typeof H=="function"?f.callback=H:f===r(c)&&n(c),y(N)}else n(c);f=r(c)}if(f!==null)var B=!0;else{var te=r(d);te!==null&&$(j,te.startTime-N),B=!1}return B}finally{f=null,p=R,m=!1}}var S=!1,k=null,T=-1,C=5,E=-1;function I(){return!(e.unstable_now()-E<C)}function M(){if(k!==null){var O=e.unstable_now();E=O;var N=!0;try{N=k(!0,O)}finally{N?q():(S=!1,k=null)}}else S=!1}var q;if(typeof x=="function")q=function(){x(M)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,X=J.port2;J.port1.onmessage=M,q=function(){X.postMessage(null)}}else q=function(){b(M,0)};function F(O){k=O,S||(S=!0,q())}function $(O,N){T=b(function(){O(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,F(_))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(p){case 1:case 2:case 3:var N=3;break;default:N=p}var R=p;p=N;try{return O()}finally{p=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,N){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var R=p;p=O;try{return N()}finally{p=R}},e.unstable_scheduleCallback=function(O,N,R){var z=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?z+R:z):R=z,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=R+H,O={id:h++,callback:N,priorityLevel:O,startTime:R,expirationTime:H,sortIndex:-1},R>z?(O.sortIndex=R,t(d,O),r(c)===null&&O===r(d)&&(g?(v(T),T=-1):g=!0,$(j,R-z))):(O.sortIndex=H,t(c,O),w||m||(w=!0,F(_))),O},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(O){var N=p;return function(){var R=p;p=N;try{return O.apply(this,arguments)}finally{p=R}}}})(r0);t0.exports=r0;var O_=t0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_=u,ur=O_;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n0=new Set,$a={};function Fs(e,t){Oo(e,t),Oo(e+"Capture",t)}function Oo(e,t){for($a[e]=t,e=0;e<t.length;e++)n0.add(t[e])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xu=Object.prototype.hasOwnProperty,M_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ip={},lp={};function D_(e){return xu.call(lp,e)?!0:xu.call(ip,e)?!1:M_.test(e)?lp[e]=!0:(ip[e]=!0,!1)}function $_(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L_(e,t,r,n){if(t===null||typeof t>"u"||$_(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qt(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pt[e]=new qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pt[t]=new qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pt[e]=new qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pt[e]=new qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pt[e]=new qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pt[e]=new qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pt[e]=new qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pt[e]=new qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pt[e]=new qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var rf=/[\-:]([a-z])/g;function nf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rf,nf);Pt[t]=new qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rf,nf);Pt[t]=new qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rf,nf);Pt[t]=new qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pt[e]=new qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pt[e]=new qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function sf(e,t,r,n){var s=Pt.hasOwnProperty(t)?Pt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(L_(t,r,s,n)&&(r=null),n||s===null?D_(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var En=I_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ai=Symbol.for("react.element"),oo=Symbol.for("react.portal"),ao=Symbol.for("react.fragment"),of=Symbol.for("react.strict_mode"),vu=Symbol.for("react.profiler"),s0=Symbol.for("react.provider"),o0=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),yu=Symbol.for("react.suspense"),wu=Symbol.for("react.suspense_list"),lf=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),a0=Symbol.for("react.offscreen"),cp=Symbol.iterator;function na(e){return e===null||typeof e!="object"?null:(e=cp&&e[cp]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,bd;function pa(e){if(bd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);bd=t&&t[1]||""}return`
`+bd+e}var jd=!1;function Nd(e,t){if(!e||jd)return"";jd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{jd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?pa(e):""}function U_(e){switch(e.tag){case 5:return pa(e.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 2:case 15:return e=Nd(e.type,!1),e;case 11:return e=Nd(e.type.render,!1),e;case 1:return e=Nd(e.type,!0),e;default:return""}}function bu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ao:return"Fragment";case oo:return"Portal";case vu:return"Profiler";case of:return"StrictMode";case yu:return"Suspense";case wu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case o0:return(e.displayName||"Context")+".Consumer";case s0:return(e._context.displayName||"Context")+".Provider";case af:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lf:return t=e.displayName||null,t!==null?t:bu(e.type)||"Memo";case $n:t=e._payload,e=e._init;try{return bu(e(t))}catch{}}return null}function F_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bu(t);case 8:return t===of?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function i0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z_(e){var t=i0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oi(e){e._valueTracker||(e._valueTracker=z_(e))}function l0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=i0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ju(e,t){var r=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function c0(e,t){t=t.checked,t!=null&&sf(e,"checked",t,!1)}function Nu(e,t){c0(e,t);var r=Zn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_u(e,t.type,r):t.hasOwnProperty("defaultValue")&&_u(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function up(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _u(e,t,r){(t!=="number"||Rl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ga=Array.isArray;function wo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Su(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(ga(r)){if(1<r.length)throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zn(r)}}function d0(e,t){var r=Zn(t.value),n=Zn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function fp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function u0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ku(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?u0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ii,h0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ii=Ii||document.createElement("div"),Ii.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ii.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function La(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B_=["Webkit","ms","Moz","O"];Object.keys(Na).forEach(function(e){B_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Na[t]=Na[e]})});function f0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Na.hasOwnProperty(e)&&Na[e]?(""+t).trim():t+"px"}function m0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=f0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var V_=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cu(e,t){if(t){if(V_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function Eu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=null;function cf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pu=null,bo=null,jo=null;function mp(e){if(e=ji(e)){if(typeof Pu!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Ec(t),Pu(e.stateNode,e.type,t))}}function p0(e){bo?jo?jo.push(e):jo=[e]:bo=e}function g0(){if(bo){var e=bo,t=jo;if(jo=bo=null,mp(e),t)for(e=0;e<t.length;e++)mp(t[e])}}function x0(e,t){return e(t)}function v0(){}var _d=!1;function y0(e,t,r){if(_d)return e(t,r);_d=!0;try{return x0(e,t,r)}finally{_d=!1,(bo!==null||jo!==null)&&(v0(),g0())}}function Ua(e,t){var r=e.stateNode;if(r===null)return null;var n=Ec(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var Tu=!1;if(bn)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{Tu=!1}function W_(e,t,r,n,s,a,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(h){this.onError(h)}}var _a=!1,Pl=null,Tl=!1,Au=null,q_={onError:function(e){_a=!0,Pl=e}};function H_(e,t,r,n,s,a,i,l,c){_a=!1,Pl=null,W_.apply(q_,arguments)}function K_(e,t,r,n,s,a,i,l,c){if(H_.apply(this,arguments),_a){if(_a){var d=Pl;_a=!1,Pl=null}else throw Error(ne(198));Tl||(Tl=!0,Au=d)}}function zs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function w0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pp(e){if(zs(e)!==e)throw Error(ne(188))}function G_(e){var t=e.alternate;if(!t){if(t=zs(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return pp(s),e;if(a===n)return pp(s),t;a=a.sibling}throw Error(ne(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function b0(e){return e=G_(e),e!==null?j0(e):null}function j0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=j0(e);if(t!==null)return t;e=e.sibling}return null}var N0=ur.unstable_scheduleCallback,gp=ur.unstable_cancelCallback,Y_=ur.unstable_shouldYield,J_=ur.unstable_requestPaint,ct=ur.unstable_now,X_=ur.unstable_getCurrentPriorityLevel,df=ur.unstable_ImmediatePriority,_0=ur.unstable_UserBlockingPriority,Al=ur.unstable_NormalPriority,Q_=ur.unstable_LowPriority,S0=ur.unstable_IdlePriority,_c=null,nn=null;function Z_(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(_c,e,void 0,(e.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:rS,eS=Math.log,tS=Math.LN2;function rS(e){return e>>>=0,e===0?32:31-(eS(e)/tS|0)|0}var Mi=64,Di=4194304;function xa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ol(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=xa(l):(a&=i,a!==0&&(n=xa(a)))}else i=r&~s,i!==0?n=xa(i):a!==0&&(n=xa(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Fr(t),s=1<<r,n|=e[r],t&=~s;return n}function nS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sS(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Fr(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=nS(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Ou(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function k0(){var e=Mi;return Mi<<=1,!(Mi&4194240)&&(Mi=64),e}function Sd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fr(t),e[t]=r}function oS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Fr(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function uf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Fr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var We=0;function C0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var E0,hf,R0,P0,T0,Iu=!1,$i=[],Wn=null,qn=null,Hn=null,Fa=new Map,za=new Map,Un=[],aS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xp(e,t){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":Fa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(t.pointerId)}}function oa(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=ji(t),t!==null&&hf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function iS(e,t,r,n,s){switch(t){case"focusin":return Wn=oa(Wn,e,t,r,n,s),!0;case"dragenter":return qn=oa(qn,e,t,r,n,s),!0;case"mouseover":return Hn=oa(Hn,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Fa.set(a,oa(Fa.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,za.set(a,oa(za.get(a)||null,e,t,r,n,s)),!0}return!1}function A0(e){var t=bs(e.target);if(t!==null){var r=zs(t);if(r!==null){if(t=r.tag,t===13){if(t=w0(r),t!==null){e.blockedOn=t,T0(e.priority,function(){R0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Mu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ru=n,r.target.dispatchEvent(n),Ru=null}else return t=ji(r),t!==null&&hf(t),e.blockedOn=r,!1;t.shift()}return!0}function vp(e,t,r){ml(e)&&r.delete(t)}function lS(){Iu=!1,Wn!==null&&ml(Wn)&&(Wn=null),qn!==null&&ml(qn)&&(qn=null),Hn!==null&&ml(Hn)&&(Hn=null),Fa.forEach(vp),za.forEach(vp)}function aa(e,t){e.blockedOn===t&&(e.blockedOn=null,Iu||(Iu=!0,ur.unstable_scheduleCallback(ur.unstable_NormalPriority,lS)))}function Ba(e){function t(s){return aa(s,e)}if(0<$i.length){aa($i[0],e);for(var r=1;r<$i.length;r++){var n=$i[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Wn!==null&&aa(Wn,e),qn!==null&&aa(qn,e),Hn!==null&&aa(Hn,e),Fa.forEach(t),za.forEach(t),r=0;r<Un.length;r++)n=Un[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Un.length&&(r=Un[0],r.blockedOn===null);)A0(r),r.blockedOn===null&&Un.shift()}var No=En.ReactCurrentBatchConfig,Il=!0;function cS(e,t,r,n){var s=We,a=No.transition;No.transition=null;try{We=1,ff(e,t,r,n)}finally{We=s,No.transition=a}}function dS(e,t,r,n){var s=We,a=No.transition;No.transition=null;try{We=4,ff(e,t,r,n)}finally{We=s,No.transition=a}}function ff(e,t,r,n){if(Il){var s=Mu(e,t,r,n);if(s===null)Md(e,t,n,Ml,r),xp(e,n);else if(iS(s,e,t,r,n))n.stopPropagation();else if(xp(e,n),t&4&&-1<aS.indexOf(e)){for(;s!==null;){var a=ji(s);if(a!==null&&E0(a),a=Mu(e,t,r,n),a===null&&Md(e,t,n,Ml,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Md(e,t,n,null,r)}}var Ml=null;function Mu(e,t,r,n){if(Ml=null,e=cf(n),e=bs(e),e!==null)if(t=zs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=w0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ml=e,null}function O0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X_()){case df:return 1;case _0:return 4;case Al:case Q_:return 16;case S0:return 536870912;default:return 16}default:return 16}}var Bn=null,mf=null,pl=null;function I0(){if(pl)return pl;var e,t=mf,r=t.length,n,s="value"in Bn?Bn.value:Bn.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return pl=s.slice(e,1<n?1-n:void 0)}function gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function yp(){return!1}function fr(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Li:yp,this.isPropagationStopped=yp,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),t}var Ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pf=fr(Ho),bi=ot({},Ho,{view:0,detail:0}),uS=fr(bi),kd,Cd,ia,Sc=ot({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ia&&(ia&&e.type==="mousemove"?(kd=e.screenX-ia.screenX,Cd=e.screenY-ia.screenY):Cd=kd=0,ia=e),kd)},movementY:function(e){return"movementY"in e?e.movementY:Cd}}),wp=fr(Sc),hS=ot({},Sc,{dataTransfer:0}),fS=fr(hS),mS=ot({},bi,{relatedTarget:0}),Ed=fr(mS),pS=ot({},Ho,{animationName:0,elapsedTime:0,pseudoElement:0}),gS=fr(pS),xS=ot({},Ho,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vS=fr(xS),yS=ot({},Ho,{data:0}),bp=fr(yS),wS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jS[e])?!!t[e]:!1}function gf(){return NS}var _S=ot({},bi,{key:function(e){if(e.key){var t=wS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gf,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SS=fr(_S),kS=ot({},Sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jp=fr(kS),CS=ot({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gf}),ES=fr(CS),RS=ot({},Ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),PS=fr(RS),TS=ot({},Sc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AS=fr(TS),OS=[9,13,27,32],xf=bn&&"CompositionEvent"in window,Sa=null;bn&&"documentMode"in document&&(Sa=document.documentMode);var IS=bn&&"TextEvent"in window&&!Sa,M0=bn&&(!xf||Sa&&8<Sa&&11>=Sa),Np=" ",_p=!1;function D0(e,t){switch(e){case"keyup":return OS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var io=!1;function MS(e,t){switch(e){case"compositionend":return $0(t);case"keypress":return t.which!==32?null:(_p=!0,Np);case"textInput":return e=t.data,e===Np&&_p?null:e;default:return null}}function DS(e,t){if(io)return e==="compositionend"||!xf&&D0(e,t)?(e=I0(),pl=mf=Bn=null,io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M0&&t.locale!=="ko"?null:t.data;default:return null}}var $S={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$S[e.type]:t==="textarea"}function L0(e,t,r,n){p0(n),t=Dl(t,"onChange"),0<t.length&&(r=new pf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ka=null,Va=null;function LS(e){Y0(e,0)}function kc(e){var t=uo(e);if(l0(t))return e}function US(e,t){if(e==="change")return t}var U0=!1;if(bn){var Rd;if(bn){var Pd="oninput"in document;if(!Pd){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Pd=typeof kp.oninput=="function"}Rd=Pd}else Rd=!1;U0=Rd&&(!document.documentMode||9<document.documentMode)}function Cp(){ka&&(ka.detachEvent("onpropertychange",F0),Va=ka=null)}function F0(e){if(e.propertyName==="value"&&kc(Va)){var t=[];L0(t,Va,e,cf(e)),y0(LS,t)}}function FS(e,t,r){e==="focusin"?(Cp(),ka=t,Va=r,ka.attachEvent("onpropertychange",F0)):e==="focusout"&&Cp()}function zS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kc(Va)}function BS(e,t){if(e==="click")return kc(t)}function VS(e,t){if(e==="input"||e==="change")return kc(t)}function WS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hr=typeof Object.is=="function"?Object.is:WS;function Wa(e,t){if(Hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!xu.call(t,s)||!Hr(e[s],t[s]))return!1}return!0}function Ep(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rp(e,t){var r=Ep(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ep(r)}}function z0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?z0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function B0(){for(var e=window,t=Rl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Rl(e.document)}return t}function vf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qS(e){var t=B0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&z0(r.ownerDocument.documentElement,r)){if(n!==null&&vf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Rp(r,a);var i=Rp(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HS=bn&&"documentMode"in document&&11>=document.documentMode,lo=null,Du=null,Ca=null,$u=!1;function Pp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$u||lo==null||lo!==Rl(n)||(n=lo,"selectionStart"in n&&vf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ca&&Wa(Ca,n)||(Ca=n,n=Dl(Du,"onSelect"),0<n.length&&(t=new pf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=lo)))}function Ui(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var co={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},Td={},V0={};bn&&(V0=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Cc(e){if(Td[e])return Td[e];if(!co[e])return e;var t=co[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in V0)return Td[e]=t[r];return e}var W0=Cc("animationend"),q0=Cc("animationiteration"),H0=Cc("animationstart"),K0=Cc("transitionend"),G0=new Map,Tp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(e,t){G0.set(e,t),Fs(t,[e])}for(var Ad=0;Ad<Tp.length;Ad++){var Od=Tp[Ad],KS=Od.toLowerCase(),GS=Od[0].toUpperCase()+Od.slice(1);as(KS,"on"+GS)}as(W0,"onAnimationEnd");as(q0,"onAnimationIteration");as(H0,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(K0,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function Ap(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,K_(n,t,void 0,e),e.currentTarget=null}function Y0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Ap(s,l,d),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Ap(s,l,d),a=c}}}if(Tl)throw e=Au,Tl=!1,Au=null,e}function Ye(e,t){var r=t[Bu];r===void 0&&(r=t[Bu]=new Set);var n=e+"__bubble";r.has(n)||(J0(t,e,2,!1),r.add(n))}function Id(e,t,r){var n=0;t&&(n|=4),J0(r,e,n,t)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function qa(e){if(!e[Fi]){e[Fi]=!0,n0.forEach(function(r){r!=="selectionchange"&&(YS.has(r)||Id(r,!1,e),Id(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fi]||(t[Fi]=!0,Id("selectionchange",!1,t))}}function J0(e,t,r,n){switch(O0(t)){case 1:var s=cS;break;case 4:s=dS;break;default:s=ff}r=s.bind(null,t,r,e),s=void 0,!Tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Md(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=bs(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}y0(function(){var d=a,h=cf(r),f=[];e:{var p=G0.get(e);if(p!==void 0){var m=pf,w=e;switch(e){case"keypress":if(gl(r)===0)break e;case"keydown":case"keyup":m=SS;break;case"focusin":w="focus",m=Ed;break;case"focusout":w="blur",m=Ed;break;case"beforeblur":case"afterblur":m=Ed;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=wp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ES;break;case W0:case q0:case H0:m=gS;break;case K0:m=PS;break;case"scroll":m=uS;break;case"wheel":m=AS;break;case"copy":case"cut":case"paste":m=vS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=jp}var g=(t&4)!==0,b=!g&&e==="scroll",v=g?p!==null?p+"Capture":null:p;g=[];for(var x=d,y;x!==null;){y=x;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,v!==null&&(j=Ua(x,v),j!=null&&g.push(Ha(x,j,y)))),b)break;x=x.return}0<g.length&&(p=new m(p,w,null,r,h),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Ru&&(w=r.relatedTarget||r.fromElement)&&(bs(w)||w[jn]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=r.relatedTarget||r.toElement,m=d,w=w?bs(w):null,w!==null&&(b=zs(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=d),m!==w)){if(g=wp,j="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=jp,j="onPointerLeave",v="onPointerEnter",x="pointer"),b=m==null?p:uo(m),y=w==null?p:uo(w),p=new g(j,x+"leave",m,r,h),p.target=b,p.relatedTarget=y,j=null,bs(h)===d&&(g=new g(v,x+"enter",w,r,h),g.target=y,g.relatedTarget=b,j=g),b=j,m&&w)t:{for(g=m,v=w,x=0,y=g;y;y=Ks(y))x++;for(y=0,j=v;j;j=Ks(j))y++;for(;0<x-y;)g=Ks(g),x--;for(;0<y-x;)v=Ks(v),y--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=Ks(g),v=Ks(v)}g=null}else g=null;m!==null&&Op(f,p,m,g,!1),w!==null&&b!==null&&Op(f,b,w,g,!0)}}e:{if(p=d?uo(d):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=US;else if(Sp(p))if(U0)_=VS;else{_=zS;var S=FS}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=BS);if(_&&(_=_(e,d))){L0(f,_,r,h);break e}S&&S(e,p,d),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&_u(p,"number",p.value)}switch(S=d?uo(d):window,e){case"focusin":(Sp(S)||S.contentEditable==="true")&&(lo=S,Du=d,Ca=null);break;case"focusout":Ca=Du=lo=null;break;case"mousedown":$u=!0;break;case"contextmenu":case"mouseup":case"dragend":$u=!1,Pp(f,r,h);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":Pp(f,r,h)}var k;if(xf)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else io?D0(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(M0&&r.locale!=="ko"&&(io||T!=="onCompositionStart"?T==="onCompositionEnd"&&io&&(k=I0()):(Bn=h,mf="value"in Bn?Bn.value:Bn.textContent,io=!0)),S=Dl(d,T),0<S.length&&(T=new bp(T,e,null,r,h),f.push({event:T,listeners:S}),k?T.data=k:(k=$0(r),k!==null&&(T.data=k)))),(k=IS?MS(e,r):DS(e,r))&&(d=Dl(d,"onBeforeInput"),0<d.length&&(h=new bp("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:d}),h.data=k))}Y0(f,t)})}function Ha(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Dl(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ua(e,r),a!=null&&n.unshift(Ha(e,a,s)),a=Ua(e,t),a!=null&&n.push(Ha(e,a,s))),e=e.return}return n}function Ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Op(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=Ua(r,a),c!=null&&i.unshift(Ha(r,c,l))):s||(c=Ua(r,a),c!=null&&i.push(Ha(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var JS=/\r\n?/g,XS=/\u0000|\uFFFD/g;function Ip(e){return(typeof e=="string"?e:""+e).replace(JS,`
`).replace(XS,"")}function zi(e,t,r){if(t=Ip(t),Ip(e)!==t&&r)throw Error(ne(425))}function $l(){}var Lu=null,Uu=null;function Fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zu=typeof setTimeout=="function"?setTimeout:void 0,QS=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,ZS=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(e){return Mp.resolve(null).then(e).catch(e2)}:zu;function e2(e){setTimeout(function(){throw e})}function Dd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ba(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ba(t)}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),en="__reactFiber$"+Ko,Ka="__reactProps$"+Ko,jn="__reactContainer$"+Ko,Bu="__reactEvents$"+Ko,t2="__reactListeners$"+Ko,r2="__reactHandles$"+Ko;function bs(e){var t=e[en];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jn]||r[en]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Dp(e);e!==null;){if(r=e[en])return r;e=Dp(e)}return t}e=r,r=e.parentNode}return null}function ji(e){return e=e[en]||e[jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Ec(e){return e[Ka]||null}var Vu=[],ho=-1;function is(e){return{current:e}}function Qe(e){0>ho||(e.current=Vu[ho],Vu[ho]=null,ho--)}function Ke(e,t){ho++,Vu[ho]=e.current,e.current=t}var es={},$t=is(es),Xt=is(!1),Rs=es;function Io(e,t){var r=e.type.contextTypes;if(!r)return es;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qt(e){return e=e.childContextTypes,e!=null}function Ll(){Qe(Xt),Qe($t)}function $p(e,t,r){if($t.current!==es)throw Error(ne(168));Ke($t,t),Ke(Xt,r)}function X0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ne(108,F_(e)||"Unknown",s));return ot({},r,n)}function Ul(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,Rs=$t.current,Ke($t,e),Ke(Xt,Xt.current),!0}function Lp(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=X0(e,t,Rs),n.__reactInternalMemoizedMergedChildContext=e,Qe(Xt),Qe($t),Ke($t,e)):Qe(Xt),Ke(Xt,r)}var xn=null,Rc=!1,$d=!1;function Q0(e){xn===null?xn=[e]:xn.push(e)}function n2(e){Rc=!0,Q0(e)}function ls(){if(!$d&&xn!==null){$d=!0;var e=0,t=We;try{var r=xn;for(We=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}xn=null,Rc=!1}catch(s){throw xn!==null&&(xn=xn.slice(e+1)),N0(df,ls),s}finally{We=t,$d=!1}}return null}var fo=[],mo=0,Fl=null,zl=0,vr=[],yr=0,Ps=null,vn=1,yn="";function ps(e,t){fo[mo++]=zl,fo[mo++]=Fl,Fl=e,zl=t}function Z0(e,t,r){vr[yr++]=vn,vr[yr++]=yn,vr[yr++]=Ps,Ps=e;var n=vn;e=yn;var s=32-Fr(n)-1;n&=~(1<<s),r+=1;var a=32-Fr(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,vn=1<<32-Fr(t)+s|r<<s|n,yn=a+e}else vn=1<<a|r<<s|n,yn=e}function yf(e){e.return!==null&&(ps(e,1),Z0(e,1,0))}function wf(e){for(;e===Fl;)Fl=fo[--mo],fo[mo]=null,zl=fo[--mo],fo[mo]=null;for(;e===Ps;)Ps=vr[--yr],vr[yr]=null,yn=vr[--yr],vr[yr]=null,vn=vr[--yr],vr[yr]=null}var cr=null,lr=null,Ze=!1,Ur=null;function ev(e,t){var r=br(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Up(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cr=e,lr=Kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cr=e,lr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ps!==null?{id:vn,overflow:yn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=br(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,cr=e,lr=null,!0):!1;default:return!1}}function Wu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qu(e){if(Ze){var t=lr;if(t){var r=t;if(!Up(e,t)){if(Wu(e))throw Error(ne(418));t=Kn(r.nextSibling);var n=cr;t&&Up(e,t)?ev(n,r):(e.flags=e.flags&-4097|2,Ze=!1,cr=e)}}else{if(Wu(e))throw Error(ne(418));e.flags=e.flags&-4097|2,Ze=!1,cr=e}}}function Fp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cr=e}function Bi(e){if(e!==cr)return!1;if(!Ze)return Fp(e),Ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fu(e.type,e.memoizedProps)),t&&(t=lr)){if(Wu(e))throw tv(),Error(ne(418));for(;t;)ev(e,t),t=Kn(t.nextSibling)}if(Fp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){lr=Kn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}lr=null}}else lr=cr?Kn(e.stateNode.nextSibling):null;return!0}function tv(){for(var e=lr;e;)e=Kn(e.nextSibling)}function Mo(){lr=cr=null,Ze=!1}function bf(e){Ur===null?Ur=[e]:Ur.push(e)}var s2=En.ReactCurrentBatchConfig;function la(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function Vi(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zp(e){var t=e._init;return t(e._payload)}function rv(e){function t(v,x){if(e){var y=v.deletions;y===null?(v.deletions=[x],v.flags|=16):y.push(x)}}function r(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function s(v,x){return v=Xn(v,x),v.index=0,v.sibling=null,v}function a(v,x,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<x?(v.flags|=2,x):y):(v.flags|=2,x)):(v.flags|=1048576,x)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,x,y,j){return x===null||x.tag!==6?(x=Wd(y,v.mode,j),x.return=v,x):(x=s(x,y),x.return=v,x)}function c(v,x,y,j){var _=y.type;return _===ao?h(v,x,y.props.children,j,y.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===$n&&zp(_)===x.type)?(j=s(x,y.props),j.ref=la(v,x,y),j.return=v,j):(j=Nl(y.type,y.key,y.props,null,v.mode,j),j.ref=la(v,x,y),j.return=v,j)}function d(v,x,y,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=qd(y,v.mode,j),x.return=v,x):(x=s(x,y.children||[]),x.return=v,x)}function h(v,x,y,j,_){return x===null||x.tag!==7?(x=ks(y,v.mode,j,_),x.return=v,x):(x=s(x,y),x.return=v,x)}function f(v,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Wd(""+x,v.mode,y),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ai:return y=Nl(x.type,x.key,x.props,null,v.mode,y),y.ref=la(v,null,x),y.return=v,y;case oo:return x=qd(x,v.mode,y),x.return=v,x;case $n:var j=x._init;return f(v,j(x._payload),y)}if(ga(x)||na(x))return x=ks(x,v.mode,y,null),x.return=v,x;Vi(v,x)}return null}function p(v,x,y,j){var _=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:l(v,x,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ai:return y.key===_?c(v,x,y,j):null;case oo:return y.key===_?d(v,x,y,j):null;case $n:return _=y._init,p(v,x,_(y._payload),j)}if(ga(y)||na(y))return _!==null?null:h(v,x,y,j,null);Vi(v,y)}return null}function m(v,x,y,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(y)||null,l(x,v,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ai:return v=v.get(j.key===null?y:j.key)||null,c(x,v,j,_);case oo:return v=v.get(j.key===null?y:j.key)||null,d(x,v,j,_);case $n:var S=j._init;return m(v,x,y,S(j._payload),_)}if(ga(j)||na(j))return v=v.get(y)||null,h(x,v,j,_,null);Vi(x,j)}return null}function w(v,x,y,j){for(var _=null,S=null,k=x,T=x=0,C=null;k!==null&&T<y.length;T++){k.index>T?(C=k,k=null):C=k.sibling;var E=p(v,k,y[T],j);if(E===null){k===null&&(k=C);break}e&&k&&E.alternate===null&&t(v,k),x=a(E,x,T),S===null?_=E:S.sibling=E,S=E,k=C}if(T===y.length)return r(v,k),Ze&&ps(v,T),_;if(k===null){for(;T<y.length;T++)k=f(v,y[T],j),k!==null&&(x=a(k,x,T),S===null?_=k:S.sibling=k,S=k);return Ze&&ps(v,T),_}for(k=n(v,k);T<y.length;T++)C=m(k,v,T,y[T],j),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?T:C.key),x=a(C,x,T),S===null?_=C:S.sibling=C,S=C);return e&&k.forEach(function(I){return t(v,I)}),Ze&&ps(v,T),_}function g(v,x,y,j){var _=na(y);if(typeof _!="function")throw Error(ne(150));if(y=_.call(y),y==null)throw Error(ne(151));for(var S=_=null,k=x,T=x=0,C=null,E=y.next();k!==null&&!E.done;T++,E=y.next()){k.index>T?(C=k,k=null):C=k.sibling;var I=p(v,k,E.value,j);if(I===null){k===null&&(k=C);break}e&&k&&I.alternate===null&&t(v,k),x=a(I,x,T),S===null?_=I:S.sibling=I,S=I,k=C}if(E.done)return r(v,k),Ze&&ps(v,T),_;if(k===null){for(;!E.done;T++,E=y.next())E=f(v,E.value,j),E!==null&&(x=a(E,x,T),S===null?_=E:S.sibling=E,S=E);return Ze&&ps(v,T),_}for(k=n(v,k);!E.done;T++,E=y.next())E=m(k,v,T,E.value,j),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?T:E.key),x=a(E,x,T),S===null?_=E:S.sibling=E,S=E);return e&&k.forEach(function(M){return t(v,M)}),Ze&&ps(v,T),_}function b(v,x,y,j){if(typeof y=="object"&&y!==null&&y.type===ao&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ai:e:{for(var _=y.key,S=x;S!==null;){if(S.key===_){if(_=y.type,_===ao){if(S.tag===7){r(v,S.sibling),x=s(S,y.props.children),x.return=v,v=x;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===$n&&zp(_)===S.type){r(v,S.sibling),x=s(S,y.props),x.ref=la(v,S,y),x.return=v,v=x;break e}r(v,S);break}else t(v,S);S=S.sibling}y.type===ao?(x=ks(y.props.children,v.mode,j,y.key),x.return=v,v=x):(j=Nl(y.type,y.key,y.props,null,v.mode,j),j.ref=la(v,x,y),j.return=v,v=j)}return i(v);case oo:e:{for(S=y.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(v,x.sibling),x=s(x,y.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else t(v,x);x=x.sibling}x=qd(y,v.mode,j),x.return=v,v=x}return i(v);case $n:return S=y._init,b(v,x,S(y._payload),j)}if(ga(y))return w(v,x,y,j);if(na(y))return g(v,x,y,j);Vi(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(v,x.sibling),x=s(x,y),x.return=v,v=x):(r(v,x),x=Wd(y,v.mode,j),x.return=v,v=x),i(v)):r(v,x)}return b}var Do=rv(!0),nv=rv(!1),Bl=is(null),Vl=null,po=null,jf=null;function Nf(){jf=po=Vl=null}function _f(e){var t=Bl.current;Qe(Bl),e._currentValue=t}function Hu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function _o(e,t){Vl=e,jf=po=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Yt=!0),e.firstContext=null)}function Sr(e){var t=e._currentValue;if(jf!==e)if(e={context:e,memoizedValue:t,next:null},po===null){if(Vl===null)throw Error(ne(308));po=e,Vl.dependencies={lanes:0,firstContext:e}}else po=po.next=e;return t}var js=null;function Sf(e){js===null?js=[e]:js.push(e)}function sv(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Sf(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nn(e,n)}function Nn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ln=!1;function kf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ov(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Le&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nn(e,r)}return s=n.interleaved,s===null?(t.next=t,Sf(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nn(e,r)}function xl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uf(e,r)}}function Bp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wl(e,t,r,n){var s=e.updateQueue;Ln=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?a=d:i.next=d,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,h=d=c=null,l=a;do{var p=l.lane,m=l.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,g=l;switch(p=t,m=r,g.tag){case 1:if(w=g.payload,typeof w=="function"){f=w.call(m,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,p=typeof w=="function"?w.call(m,f,p):w,p==null)break e;f=ot({},f,p);break e;case 2:Ln=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=m,c=f):h=h.next=m,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);As|=i,e.lanes=i,e.memoizedState=f}}function Vp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ne(191,s));s.call(n)}}}var Ni={},sn=is(Ni),Ga=is(Ni),Ya=is(Ni);function Ns(e){if(e===Ni)throw Error(ne(174));return e}function Cf(e,t){switch(Ke(Ya,t),Ke(Ga,e),Ke(sn,Ni),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ku(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ku(t,e)}Qe(sn),Ke(sn,t)}function $o(){Qe(sn),Qe(Ga),Qe(Ya)}function av(e){Ns(Ya.current);var t=Ns(sn.current),r=ku(t,e.type);t!==r&&(Ke(Ga,e),Ke(sn,r))}function Ef(e){Ga.current===e&&(Qe(sn),Qe(Ga))}var rt=is(0);function ql(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ld=[];function Rf(){for(var e=0;e<Ld.length;e++)Ld[e]._workInProgressVersionPrimary=null;Ld.length=0}var vl=En.ReactCurrentDispatcher,Ud=En.ReactCurrentBatchConfig,Ts=0,st=null,gt=null,jt=null,Hl=!1,Ea=!1,Ja=0,o2=0;function At(){throw Error(ne(321))}function Pf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Hr(e[r],t[r]))return!1;return!0}function Tf(e,t,r,n,s,a){if(Ts=a,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vl.current=e===null||e.memoizedState===null?c2:d2,e=r(n,s),Ea){a=0;do{if(Ea=!1,Ja=0,25<=a)throw Error(ne(301));a+=1,jt=gt=null,t.updateQueue=null,vl.current=u2,e=r(n,s)}while(Ea)}if(vl.current=Kl,t=gt!==null&&gt.next!==null,Ts=0,jt=gt=st=null,Hl=!1,t)throw Error(ne(300));return e}function Af(){var e=Ja!==0;return Ja=0,e}function Zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?st.memoizedState=jt=e:jt=jt.next=e,jt}function kr(){if(gt===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=jt===null?st.memoizedState:jt.next;if(t!==null)jt=t,gt=e;else{if(e===null)throw Error(ne(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},jt===null?st.memoizedState=jt=e:jt=jt.next=e}return jt}function Xa(e,t){return typeof t=="function"?t(e):t}function Fd(e){var t=kr(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=gt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,d=a;do{var h=d.lane;if((Ts&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,st.lanes|=h,As|=h}d=d.next}while(d!==null&&d!==a);c===null?i=n:c.next=l,Hr(n,t.memoizedState)||(Yt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,st.lanes|=a,As|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zd(e){var t=kr(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);Hr(a,t.memoizedState)||(Yt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function iv(){}function lv(e,t){var r=st,n=kr(),s=t(),a=!Hr(n.memoizedState,s);if(a&&(n.memoizedState=s,Yt=!0),n=n.queue,Of(uv.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,Qa(9,dv.bind(null,r,n,s,t),void 0,null),Nt===null)throw Error(ne(349));Ts&30||cv(r,t,s)}return s}function cv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dv(e,t,r,n){t.value=r,t.getSnapshot=n,hv(t)&&fv(e)}function uv(e,t,r){return r(function(){hv(t)&&fv(e)})}function hv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hr(e,r)}catch{return!0}}function fv(e){var t=Nn(e,1);t!==null&&zr(t,e,1,-1)}function Wp(e){var t=Zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:e},t.queue=e,e=e.dispatch=l2.bind(null,st,e),[t.memoizedState,e]}function Qa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function mv(){return kr().memoizedState}function yl(e,t,r,n){var s=Zr();st.flags|=e,s.memoizedState=Qa(1|t,r,void 0,n===void 0?null:n)}function Pc(e,t,r,n){var s=kr();n=n===void 0?null:n;var a=void 0;if(gt!==null){var i=gt.memoizedState;if(a=i.destroy,n!==null&&Pf(n,i.deps)){s.memoizedState=Qa(t,r,a,n);return}}st.flags|=e,s.memoizedState=Qa(1|t,r,a,n)}function qp(e,t){return yl(8390656,8,e,t)}function Of(e,t){return Pc(2048,8,e,t)}function pv(e,t){return Pc(4,2,e,t)}function gv(e,t){return Pc(4,4,e,t)}function xv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vv(e,t,r){return r=r!=null?r.concat([e]):null,Pc(4,4,xv.bind(null,t,e),r)}function If(){}function yv(e,t){var r=kr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function wv(e,t){var r=kr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bv(e,t,r){return Ts&21?(Hr(r,t)||(r=k0(),st.lanes|=r,As|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Yt=!0),e.memoizedState=r)}function a2(e,t){var r=We;We=r!==0&&4>r?r:4,e(!0);var n=Ud.transition;Ud.transition={};try{e(!1),t()}finally{We=r,Ud.transition=n}}function jv(){return kr().memoizedState}function i2(e,t,r){var n=Jn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Nv(e))_v(t,r);else if(r=sv(e,t,r,n),r!==null){var s=zt();zr(r,e,n,s),Sv(r,t,n)}}function l2(e,t,r){var n=Jn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Nv(e))_v(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,Hr(l,i)){var c=t.interleaved;c===null?(s.next=s,Sf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=sv(e,t,s,n),r!==null&&(s=zt(),zr(r,e,n,s),Sv(r,t,n))}}function Nv(e){var t=e.alternate;return e===st||t!==null&&t===st}function _v(e,t){Ea=Hl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Sv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uf(e,r)}}var Kl={readContext:Sr,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},c2={readContext:Sr,useCallback:function(e,t){return Zr().memoizedState=[e,t===void 0?null:t],e},useContext:Sr,useEffect:qp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,yl(4194308,4,xv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yl(4194308,4,e,t)},useInsertionEffect:function(e,t){return yl(4,2,e,t)},useMemo:function(e,t){var r=Zr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=i2.bind(null,st,e),[n.memoizedState,e]},useRef:function(e){var t=Zr();return e={current:e},t.memoizedState=e},useState:Wp,useDebugValue:If,useDeferredValue:function(e){return Zr().memoizedState=e},useTransition:function(){var e=Wp(!1),t=e[0];return e=a2.bind(null,e[1]),Zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=st,s=Zr();if(Ze){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=t(),Nt===null)throw Error(ne(349));Ts&30||cv(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,qp(uv.bind(null,n,a,e),[e]),n.flags|=2048,Qa(9,dv.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Zr(),t=Nt.identifierPrefix;if(Ze){var r=yn,n=vn;r=(n&~(1<<32-Fr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ja++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=o2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d2={readContext:Sr,useCallback:yv,useContext:Sr,useEffect:Of,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:wv,useReducer:Fd,useRef:mv,useState:function(){return Fd(Xa)},useDebugValue:If,useDeferredValue:function(e){var t=kr();return bv(t,gt.memoizedState,e)},useTransition:function(){var e=Fd(Xa)[0],t=kr().memoizedState;return[e,t]},useMutableSource:iv,useSyncExternalStore:lv,useId:jv,unstable_isNewReconciler:!1},u2={readContext:Sr,useCallback:yv,useContext:Sr,useEffect:Of,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:wv,useReducer:zd,useRef:mv,useState:function(){return zd(Xa)},useDebugValue:If,useDeferredValue:function(e){var t=kr();return gt===null?t.memoizedState=e:bv(t,gt.memoizedState,e)},useTransition:function(){var e=zd(Xa)[0],t=kr().memoizedState;return[e,t]},useMutableSource:iv,useSyncExternalStore:lv,useId:jv,unstable_isNewReconciler:!1};function Mr(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ku(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ot({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tc={isMounted:function(e){return(e=e._reactInternals)?zs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=zt(),s=Jn(e),a=wn(n,s);a.payload=t,r!=null&&(a.callback=r),t=Gn(e,a,s),t!==null&&(zr(t,e,s,n),xl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=zt(),s=Jn(e),a=wn(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Gn(e,a,s),t!==null&&(zr(t,e,s,n),xl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zt(),n=Jn(e),s=wn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Gn(e,s,n),t!==null&&(zr(t,e,n,r),xl(t,e,n))}};function Hp(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Wa(r,n)||!Wa(s,a):!0}function kv(e,t,r){var n=!1,s=es,a=t.contextType;return typeof a=="object"&&a!==null?a=Sr(a):(s=Qt(t)?Rs:$t.current,n=t.contextTypes,a=(n=n!=null)?Io(e,s):es),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Kp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Tc.enqueueReplaceState(t,t.state,null)}function Gu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},kf(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Sr(a):(a=Qt(t)?Rs:$t.current,s.context=Io(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ku(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Tc.enqueueReplaceState(s,s.state,null),Wl(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Lo(e,t){try{var r="",n=t;do r+=U_(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Bd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Yu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var h2=typeof WeakMap=="function"?WeakMap:Map;function Cv(e,t,r){r=wn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yl||(Yl=!0,oh=n),Yu(e,t)},r}function Ev(e,t,r){r=wn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Yu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Yu(e,t),typeof n!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Gp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new h2;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=k2.bind(null,e,t,r),t.then(e,e))}function Yp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jp(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wn(-1,1),t.tag=2,Gn(r,t,1))),r.lanes|=1),e)}var f2=En.ReactCurrentOwner,Yt=!1;function Ut(e,t,r,n){t.child=e===null?nv(t,null,r,n):Do(t,e.child,r,n)}function Xp(e,t,r,n,s){r=r.render;var a=t.ref;return _o(t,s),n=Tf(e,t,r,n,a,s),r=Af(),e!==null&&!Yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_n(e,t,s)):(Ze&&r&&yf(t),t.flags|=1,Ut(e,t,n,s),t.child)}function Qp(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Bf(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Rv(e,t,a,n,s)):(e=Nl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Wa,r(i,n)&&e.ref===t.ref)return _n(e,t,s)}return t.flags|=1,e=Xn(a,n),e.ref=t.ref,e.return=t,t.child=e}function Rv(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Wa(a,n)&&e.ref===t.ref)if(Yt=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Yt=!0);else return t.lanes=e.lanes,_n(e,t,s)}return Ju(e,t,r,n,s)}function Pv(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(xo,nr),nr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(xo,nr),nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ke(xo,nr),nr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ke(xo,nr),nr|=n;return Ut(e,t,s,r),t.child}function Tv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ju(e,t,r,n,s){var a=Qt(r)?Rs:$t.current;return a=Io(t,a),_o(t,s),r=Tf(e,t,r,n,a,s),n=Af(),e!==null&&!Yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_n(e,t,s)):(Ze&&n&&yf(t),t.flags|=1,Ut(e,t,r,s),t.child)}function Zp(e,t,r,n,s){if(Qt(r)){var a=!0;Ul(t)}else a=!1;if(_o(t,s),t.stateNode===null)wl(e,t),kv(t,r,n),Gu(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=Sr(d):(d=Qt(r)?Rs:$t.current,d=Io(t,d));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Kp(t,i,n,d),Ln=!1;var p=t.memoizedState;i.state=p,Wl(t,n,i,s),c=t.memoizedState,l!==n||p!==c||Xt.current||Ln?(typeof h=="function"&&(Ku(t,r,h,n),c=t.memoizedState),(l=Ln||Hp(t,r,l,n,p,c,d))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=d,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,ov(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Mr(t.type,l),i.props=d,f=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Sr(c):(c=Qt(r)?Rs:$t.current,c=Io(t,c));var m=r.getDerivedStateFromProps;(h=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Kp(t,i,n,c),Ln=!1,p=t.memoizedState,i.state=p,Wl(t,n,i,s);var w=t.memoizedState;l!==f||p!==w||Xt.current||Ln?(typeof m=="function"&&(Ku(t,r,m,n),w=t.memoizedState),(d=Ln||Hp(t,r,d,n,p,w,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),i.props=n,i.state=w,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Xu(e,t,r,n,a,s)}function Xu(e,t,r,n,s,a){Tv(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Lp(t,r,!1),_n(e,t,a);n=t.stateNode,f2.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Do(t,e.child,null,a),t.child=Do(t,null,l,a)):Ut(e,t,l,a),t.memoizedState=n.state,s&&Lp(t,r,!0),t.child}function Av(e){var t=e.stateNode;t.pendingContext?$p(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$p(e,t.context,!1),Cf(e,t.containerInfo)}function eg(e,t,r,n,s){return Mo(),bf(s),t.flags|=256,Ut(e,t,r,n),t.child}var Qu={dehydrated:null,treeContext:null,retryLane:0};function Zu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ov(e,t,r){var n=t.pendingProps,s=rt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ke(rt,s&1),e===null)return qu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Ic(i,n,0,null),e=ks(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Zu(r),t.memoizedState=Qu,e):Mf(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return m2(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Xn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Xn(l,a):(a=ks(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Zu(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Qu,n}return a=e.child,e=a.sibling,n=Xn(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Mf(e,t){return t=Ic({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wi(e,t,r,n){return n!==null&&bf(n),Do(t,e.child,null,r),e=Mf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m2(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=Bd(Error(ne(422))),Wi(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Ic({mode:"visible",children:n.children},s,0,null),a=ks(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Do(t,e.child,null,i),t.child.memoizedState=Zu(i),t.memoizedState=Qu,a);if(!(t.mode&1))return Wi(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ne(419)),n=Bd(a,n,void 0),Wi(e,t,i,n)}if(l=(i&e.childLanes)!==0,Yt||l){if(n=Nt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Nn(e,s),zr(n,e,s,-1))}return zf(),n=Bd(Error(ne(421))),Wi(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=C2.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,lr=Kn(s.nextSibling),cr=t,Ze=!0,Ur=null,e!==null&&(vr[yr++]=vn,vr[yr++]=yn,vr[yr++]=Ps,vn=e.id,yn=e.overflow,Ps=t),t=Mf(t,n.children),t.flags|=4096,t)}function tg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Hu(e.return,t,r)}function Vd(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Iv(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Ut(e,t,n.children,r),n=rt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tg(e,r,t);else if(e.tag===19)tg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ke(rt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ql(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Vd(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ql(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Vd(t,!0,r,null,a);break;case"together":Vd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _n(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),As|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=Xn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function p2(e,t,r){switch(t.tag){case 3:Av(t),Mo();break;case 5:av(t);break;case 1:Qt(t.type)&&Ul(t);break;case 4:Cf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ke(Bl,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ke(rt,rt.current&1),t.flags|=128,null):r&t.child.childLanes?Ov(e,t,r):(Ke(rt,rt.current&1),e=_n(e,t,r),e!==null?e.sibling:null);Ke(rt,rt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Iv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(rt,rt.current),n)break;return null;case 22:case 23:return t.lanes=0,Pv(e,t,r)}return _n(e,t,r)}var Mv,eh,Dv,$v;Mv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};eh=function(){};Dv=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ns(sn.current);var a=null;switch(r){case"input":s=ju(e,s),n=ju(e,n),a=[];break;case"select":s=ot({},s,{value:void 0}),n=ot({},n,{value:void 0}),a=[];break;case"textarea":s=Su(e,s),n=Su(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$l)}Cu(r,n);var i;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&($a.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&($a.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ye("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};$v=function(e,t,r,n){r!==n&&(t.flags|=4)};function ca(e,t){if(!Ze)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function g2(e,t,r){var n=t.pendingProps;switch(wf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return Qt(t.type)&&Ll(),Ot(t),null;case 3:return n=t.stateNode,$o(),Qe(Xt),Qe($t),Rf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ur!==null&&(lh(Ur),Ur=null))),eh(e,t),Ot(t),null;case 5:Ef(t);var s=Ns(Ya.current);if(r=t.type,e!==null&&t.stateNode!=null)Dv(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return Ot(t),null}if(e=Ns(sn.current),Bi(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[en]=t,n[Ka]=a,e=(t.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(s=0;s<va.length;s++)Ye(va[s],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":dp(n,a),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ye("invalid",n);break;case"textarea":hp(n,a),Ye("invalid",n)}Cu(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&zi(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&zi(n.textContent,l,e),s=["children",""+l]):$a.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ye("scroll",n)}switch(r){case"input":Oi(n),up(n,a,!0);break;case"textarea":Oi(n),fp(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=$l)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=u0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[en]=t,e[Ka]=n,Mv(e,t,!1,!1),t.stateNode=e;e:{switch(i=Eu(r,n),r){case"dialog":Ye("cancel",e),Ye("close",e),s=n;break;case"iframe":case"object":case"embed":Ye("load",e),s=n;break;case"video":case"audio":for(s=0;s<va.length;s++)Ye(va[s],e);s=n;break;case"source":Ye("error",e),s=n;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),s=n;break;case"details":Ye("toggle",e),s=n;break;case"input":dp(e,n),s=ju(e,n),Ye("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ot({},n,{value:void 0}),Ye("invalid",e);break;case"textarea":hp(e,n),s=Su(e,n),Ye("invalid",e);break;default:s=n}Cu(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?m0(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&h0(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&La(e,c):typeof c=="number"&&La(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($a.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ye("scroll",e):c!=null&&sf(e,a,c,i))}switch(r){case"input":Oi(e),up(e,n,!1);break;case"textarea":Oi(e),fp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zn(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?wo(e,!!n.multiple,a,!1):n.defaultValue!=null&&wo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=$l)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ot(t),null;case 6:if(e&&t.stateNode!=null)$v(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));if(r=Ns(Ya.current),Ns(sn.current),Bi(t)){if(n=t.stateNode,r=t.memoizedProps,n[en]=t,(a=n.nodeValue!==r)&&(e=cr,e!==null))switch(e.tag){case 3:zi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zi(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[en]=t,t.stateNode=n}return Ot(t),null;case 13:if(Qe(rt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ze&&lr!==null&&t.mode&1&&!(t.flags&128))tv(),Mo(),t.flags|=98560,a=!1;else if(a=Bi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ne(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ne(317));a[en]=t}else Mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ot(t),a=!1}else Ur!==null&&(lh(Ur),Ur=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?xt===0&&(xt=3):zf())),t.updateQueue!==null&&(t.flags|=4),Ot(t),null);case 4:return $o(),eh(e,t),e===null&&qa(t.stateNode.containerInfo),Ot(t),null;case 10:return _f(t.type._context),Ot(t),null;case 17:return Qt(t.type)&&Ll(),Ot(t),null;case 19:if(Qe(rt),a=t.memoizedState,a===null)return Ot(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)ca(a,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ql(e),i!==null){for(t.flags|=128,ca(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ke(rt,rt.current&1|2),t.child}e=e.sibling}a.tail!==null&&ct()>Uo&&(t.flags|=128,n=!0,ca(a,!1),t.lanes=4194304)}else{if(!n)if(e=ql(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ca(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Ze)return Ot(t),null}else 2*ct()-a.renderingStartTime>Uo&&r!==1073741824&&(t.flags|=128,n=!0,ca(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ct(),t.sibling=null,r=rt.current,Ke(rt,n?r&1|2:r&1),t):(Ot(t),null);case 22:case 23:return Ff(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nr&1073741824&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function x2(e,t){switch(wf(t),t.tag){case 1:return Qt(t.type)&&Ll(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $o(),Qe(Xt),Qe($t),Rf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ef(t),null;case 13:if(Qe(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));Mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(rt),null;case 4:return $o(),null;case 10:return _f(t.type._context),null;case 22:case 23:return Ff(),null;case 24:return null;default:return null}}var qi=!1,Mt=!1,v2=typeof WeakSet=="function"?WeakSet:Set,fe=null;function go(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){it(e,t,n)}else r.current=null}function th(e,t,r){try{r()}catch(n){it(e,t,n)}}var rg=!1;function y2(e,t){if(Lu=Il,e=B0(),vf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,d=0,h=0,f=e,p=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===r&&++d===s&&(l=i),p===a&&++h===n&&(c=i),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uu={focusedElem:e,selectionRange:r},Il=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,b=w.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Mr(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(j){it(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return w=rg,rg=!1,w}function Ra(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&th(t,r,a)}s=s.next}while(s!==n)}}function Ac(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function rh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Lv(e){var t=e.alternate;t!==null&&(e.alternate=null,Lv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[Ka],delete t[Bu],delete t[t2],delete t[r2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uv(e){return e.tag===5||e.tag===3||e.tag===4}function ng(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$l));else if(n!==4&&(e=e.child,e!==null))for(nh(e,t,r),e=e.sibling;e!==null;)nh(e,t,r),e=e.sibling}function sh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sh(e,t,r),e=e.sibling;e!==null;)sh(e,t,r),e=e.sibling}var kt=null,$r=!1;function Tn(e,t,r){for(r=r.child;r!==null;)Fv(e,t,r),r=r.sibling}function Fv(e,t,r){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(_c,r)}catch{}switch(r.tag){case 5:Mt||go(r,t);case 6:var n=kt,s=$r;kt=null,Tn(e,t,r),kt=n,$r=s,kt!==null&&($r?(e=kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&($r?(e=kt,r=r.stateNode,e.nodeType===8?Dd(e.parentNode,r):e.nodeType===1&&Dd(e,r),Ba(e)):Dd(kt,r.stateNode));break;case 4:n=kt,s=$r,kt=r.stateNode.containerInfo,$r=!0,Tn(e,t,r),kt=n,$r=s;break;case 0:case 11:case 14:case 15:if(!Mt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&th(r,t,i),s=s.next}while(s!==n)}Tn(e,t,r);break;case 1:if(!Mt&&(go(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){it(r,t,l)}Tn(e,t,r);break;case 21:Tn(e,t,r);break;case 22:r.mode&1?(Mt=(n=Mt)||r.memoizedState!==null,Tn(e,t,r),Mt=n):Tn(e,t,r);break;default:Tn(e,t,r)}}function sg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new v2),t.forEach(function(n){var s=E2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Rr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:kt=l.stateNode,$r=!1;break e;case 3:kt=l.stateNode.containerInfo,$r=!0;break e;case 4:kt=l.stateNode.containerInfo,$r=!0;break e}l=l.return}if(kt===null)throw Error(ne(160));Fv(a,i,s),kt=null,$r=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){it(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zv(t,e),t=t.sibling}function zv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rr(t,e),Qr(e),n&4){try{Ra(3,e,e.return),Ac(3,e)}catch(g){it(e,e.return,g)}try{Ra(5,e,e.return)}catch(g){it(e,e.return,g)}}break;case 1:Rr(t,e),Qr(e),n&512&&r!==null&&go(r,r.return);break;case 5:if(Rr(t,e),Qr(e),n&512&&r!==null&&go(r,r.return),e.flags&32){var s=e.stateNode;try{La(s,"")}catch(g){it(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&c0(s,a),Eu(l,i);var d=Eu(l,a);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h==="style"?m0(s,f):h==="dangerouslySetInnerHTML"?h0(s,f):h==="children"?La(s,f):sf(s,h,f,d)}switch(l){case"input":Nu(s,a);break;case"textarea":d0(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?wo(s,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?wo(s,!!a.multiple,a.defaultValue,!0):wo(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ka]=a}catch(g){it(e,e.return,g)}}break;case 6:if(Rr(t,e),Qr(e),n&4){if(e.stateNode===null)throw Error(ne(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){it(e,e.return,g)}}break;case 3:if(Rr(t,e),Qr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ba(t.containerInfo)}catch(g){it(e,e.return,g)}break;case 4:Rr(t,e),Qr(e);break;case 13:Rr(t,e),Qr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Lf=ct())),n&4&&sg(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Mt=(d=Mt)||h,Rr(t,e),Mt=d):Rr(t,e),Qr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(fe=e,h=e.child;h!==null;){for(f=fe=h;fe!==null;){switch(p=fe,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ra(4,p,p.return);break;case 1:go(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(g){it(n,r,g)}}break;case 5:go(p,p.return);break;case 22:if(p.memoizedState!==null){ag(f);continue}}m!==null?(m.return=p,fe=m):ag(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=f0("display",i))}catch(g){it(e,e.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){it(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rr(t,e),Qr(e),n&4&&sg(e);break;case 21:break;default:Rr(t,e),Qr(e)}}function Qr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Uv(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(La(s,""),n.flags&=-33);var a=ng(e);sh(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=ng(e);nh(e,l,i);break;default:throw Error(ne(161))}}catch(c){it(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function w2(e,t,r){fe=e,Bv(e)}function Bv(e,t,r){for(var n=(e.mode&1)!==0;fe!==null;){var s=fe,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||qi;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Mt;l=qi;var d=Mt;if(qi=i,(Mt=c)&&!d)for(fe=s;fe!==null;)i=fe,c=i.child,i.tag===22&&i.memoizedState!==null?ig(s):c!==null?(c.return=i,fe=c):ig(s);for(;a!==null;)fe=a,Bv(a),a=a.sibling;fe=s,qi=l,Mt=d}og(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,fe=a):og(e)}}function og(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mt||Ac(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Mr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Vp(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Vp(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ba(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Mt||t.flags&512&&rh(t)}catch(p){it(t,t.return,p)}}if(t===e){fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,fe=r;break}fe=t.return}}function ag(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,fe=r;break}fe=t.return}}function ig(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ac(4,t)}catch(c){it(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){it(t,s,c)}}var a=t.return;try{rh(t)}catch(c){it(t,a,c)}break;case 5:var i=t.return;try{rh(t)}catch(c){it(t,i,c)}}}catch(c){it(t,t.return,c)}if(t===e){fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,fe=l;break}fe=t.return}}var b2=Math.ceil,Gl=En.ReactCurrentDispatcher,Df=En.ReactCurrentOwner,jr=En.ReactCurrentBatchConfig,Le=0,Nt=null,ft=null,Rt=0,nr=0,xo=is(0),xt=0,Za=null,As=0,Oc=0,$f=0,Pa=null,Gt=null,Lf=0,Uo=1/0,pn=null,Yl=!1,oh=null,Yn=null,Hi=!1,Vn=null,Jl=0,Ta=0,ah=null,bl=-1,jl=0;function zt(){return Le&6?ct():bl!==-1?bl:bl=ct()}function Jn(e){return e.mode&1?Le&2&&Rt!==0?Rt&-Rt:s2.transition!==null?(jl===0&&(jl=k0()),jl):(e=We,e!==0||(e=window.event,e=e===void 0?16:O0(e.type)),e):1}function zr(e,t,r,n){if(50<Ta)throw Ta=0,ah=null,Error(ne(185));wi(e,r,n),(!(Le&2)||e!==Nt)&&(e===Nt&&(!(Le&2)&&(Oc|=r),xt===4&&Fn(e,Rt)),Zt(e,n),r===1&&Le===0&&!(t.mode&1)&&(Uo=ct()+500,Rc&&ls()))}function Zt(e,t){var r=e.callbackNode;sS(e,t);var n=Ol(e,e===Nt?Rt:0);if(n===0)r!==null&&gp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gp(r),t===1)e.tag===0?n2(lg.bind(null,e)):Q0(lg.bind(null,e)),ZS(function(){!(Le&6)&&ls()}),r=null;else{switch(C0(n)){case 1:r=df;break;case 4:r=_0;break;case 16:r=Al;break;case 536870912:r=S0;break;default:r=Al}r=Jv(r,Vv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Vv(e,t){if(bl=-1,jl=0,Le&6)throw Error(ne(327));var r=e.callbackNode;if(So()&&e.callbackNode!==r)return null;var n=Ol(e,e===Nt?Rt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xl(e,n);else{t=n;var s=Le;Le|=2;var a=qv();(Nt!==e||Rt!==t)&&(pn=null,Uo=ct()+500,Ss(e,t));do try{_2();break}catch(l){Wv(e,l)}while(!0);Nf(),Gl.current=a,Le=s,ft!==null?t=0:(Nt=null,Rt=0,t=xt)}if(t!==0){if(t===2&&(s=Ou(e),s!==0&&(n=s,t=ih(e,s))),t===1)throw r=Za,Ss(e,0),Fn(e,n),Zt(e,ct()),r;if(t===6)Fn(e,n);else{if(s=e.current.alternate,!(n&30)&&!j2(s)&&(t=Xl(e,n),t===2&&(a=Ou(e),a!==0&&(n=a,t=ih(e,a))),t===1))throw r=Za,Ss(e,0),Fn(e,n),Zt(e,ct()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ne(345));case 2:gs(e,Gt,pn);break;case 3:if(Fn(e,n),(n&130023424)===n&&(t=Lf+500-ct(),10<t)){if(Ol(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){zt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=zu(gs.bind(null,e,Gt,pn),t);break}gs(e,Gt,pn);break;case 4:if(Fn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Fr(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*b2(n/1960))-n,10<n){e.timeoutHandle=zu(gs.bind(null,e,Gt,pn),n);break}gs(e,Gt,pn);break;case 5:gs(e,Gt,pn);break;default:throw Error(ne(329))}}}return Zt(e,ct()),e.callbackNode===r?Vv.bind(null,e):null}function ih(e,t){var r=Pa;return e.current.memoizedState.isDehydrated&&(Ss(e,t).flags|=256),e=Xl(e,t),e!==2&&(t=Gt,Gt=r,t!==null&&lh(t)),e}function lh(e){Gt===null?Gt=e:Gt.push.apply(Gt,e)}function j2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Hr(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t){for(t&=~$f,t&=~Oc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Fr(t),n=1<<r;e[r]=-1,t&=~n}}function lg(e){if(Le&6)throw Error(ne(327));So();var t=Ol(e,0);if(!(t&1))return Zt(e,ct()),null;var r=Xl(e,t);if(e.tag!==0&&r===2){var n=Ou(e);n!==0&&(t=n,r=ih(e,n))}if(r===1)throw r=Za,Ss(e,0),Fn(e,t),Zt(e,ct()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gs(e,Gt,pn),Zt(e,ct()),null}function Uf(e,t){var r=Le;Le|=1;try{return e(t)}finally{Le=r,Le===0&&(Uo=ct()+500,Rc&&ls())}}function Os(e){Vn!==null&&Vn.tag===0&&!(Le&6)&&So();var t=Le;Le|=1;var r=jr.transition,n=We;try{if(jr.transition=null,We=1,e)return e()}finally{We=n,jr.transition=r,Le=t,!(Le&6)&&ls()}}function Ff(){nr=xo.current,Qe(xo)}function Ss(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,QS(r)),ft!==null)for(r=ft.return;r!==null;){var n=r;switch(wf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ll();break;case 3:$o(),Qe(Xt),Qe($t),Rf();break;case 5:Ef(n);break;case 4:$o();break;case 13:Qe(rt);break;case 19:Qe(rt);break;case 10:_f(n.type._context);break;case 22:case 23:Ff()}r=r.return}if(Nt=e,ft=e=Xn(e.current,null),Rt=nr=t,xt=0,Za=null,$f=Oc=As=0,Gt=Pa=null,js!==null){for(t=0;t<js.length;t++)if(r=js[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}js=null}return e}function Wv(e,t){do{var r=ft;try{if(Nf(),vl.current=Kl,Hl){for(var n=st.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Hl=!1}if(Ts=0,jt=gt=st=null,Ea=!1,Ja=0,Df.current=null,r===null||r.return===null){xt=1,Za=t,ft=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=Rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Yp(i);if(m!==null){m.flags&=-257,Jp(m,i,l,a,t),m.mode&1&&Gp(a,d,t),t=m,c=d;var w=t.updateQueue;if(w===null){var g=new Set;g.add(c),t.updateQueue=g}else w.add(c);break e}else{if(!(t&1)){Gp(a,d,t),zf();break e}c=Error(ne(426))}}else if(Ze&&l.mode&1){var b=Yp(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Jp(b,i,l,a,t),bf(Lo(c,l));break e}}a=c=Lo(c,l),xt!==4&&(xt=2),Pa===null?Pa=[a]:Pa.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=Cv(a,c,t);Bp(a,v);break e;case 1:l=c;var x=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yn===null||!Yn.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Ev(a,l,t);Bp(a,j);break e}}a=a.return}while(a!==null)}Kv(r)}catch(_){t=_,ft===r&&r!==null&&(ft=r=r.return);continue}break}while(!0)}function qv(){var e=Gl.current;return Gl.current=Kl,e===null?Kl:e}function zf(){(xt===0||xt===3||xt===2)&&(xt=4),Nt===null||!(As&268435455)&&!(Oc&268435455)||Fn(Nt,Rt)}function Xl(e,t){var r=Le;Le|=2;var n=qv();(Nt!==e||Rt!==t)&&(pn=null,Ss(e,t));do try{N2();break}catch(s){Wv(e,s)}while(!0);if(Nf(),Le=r,Gl.current=n,ft!==null)throw Error(ne(261));return Nt=null,Rt=0,xt}function N2(){for(;ft!==null;)Hv(ft)}function _2(){for(;ft!==null&&!Y_();)Hv(ft)}function Hv(e){var t=Yv(e.alternate,e,nr);e.memoizedProps=e.pendingProps,t===null?Kv(e):ft=t,Df.current=null}function Kv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=x2(r,t),r!==null){r.flags&=32767,ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xt=6,ft=null;return}}else if(r=g2(r,t,nr),r!==null){ft=r;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);xt===0&&(xt=5)}function gs(e,t,r){var n=We,s=jr.transition;try{jr.transition=null,We=1,S2(e,t,r,n)}finally{jr.transition=s,We=n}return null}function S2(e,t,r,n){do So();while(Vn!==null);if(Le&6)throw Error(ne(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(oS(e,a),e===Nt&&(ft=Nt=null,Rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hi||(Hi=!0,Jv(Al,function(){return So(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=jr.transition,jr.transition=null;var i=We;We=1;var l=Le;Le|=4,Df.current=null,y2(e,r),zv(r,e),qS(Uu),Il=!!Lu,Uu=Lu=null,e.current=r,w2(r),J_(),Le=l,We=i,jr.transition=a}else e.current=r;if(Hi&&(Hi=!1,Vn=e,Jl=s),a=e.pendingLanes,a===0&&(Yn=null),Z_(r.stateNode),Zt(e,ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Yl)throw Yl=!1,e=oh,oh=null,e;return Jl&1&&e.tag!==0&&So(),a=e.pendingLanes,a&1?e===ah?Ta++:(Ta=0,ah=e):Ta=0,ls(),null}function So(){if(Vn!==null){var e=C0(Jl),t=jr.transition,r=We;try{if(jr.transition=null,We=16>e?16:e,Vn===null)var n=!1;else{if(e=Vn,Vn=null,Jl=0,Le&6)throw Error(ne(331));var s=Le;for(Le|=4,fe=e.current;fe!==null;){var a=fe,i=a.child;if(fe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(fe=d;fe!==null;){var h=fe;switch(h.tag){case 0:case 11:case 15:Ra(8,h,a)}var f=h.child;if(f!==null)f.return=h,fe=f;else for(;fe!==null;){h=fe;var p=h.sibling,m=h.return;if(Lv(h),h===d){fe=null;break}if(p!==null){p.return=m,fe=p;break}fe=m}}}var w=a.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}fe=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,fe=i;else e:for(;fe!==null;){if(a=fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ra(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,fe=v;break e}fe=a.return}}var x=e.current;for(fe=x;fe!==null;){i=fe;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,fe=y;else e:for(i=x;fe!==null;){if(l=fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ac(9,l)}}catch(_){it(l,l.return,_)}if(l===i){fe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,fe=j;break e}fe=l.return}}if(Le=s,ls(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(_c,e)}catch{}n=!0}return n}finally{We=r,jr.transition=t}}return!1}function cg(e,t,r){t=Lo(r,t),t=Cv(e,t,1),e=Gn(e,t,1),t=zt(),e!==null&&(wi(e,1,t),Zt(e,t))}function it(e,t,r){if(e.tag===3)cg(e,e,r);else for(;t!==null;){if(t.tag===3){cg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yn===null||!Yn.has(n))){e=Lo(r,e),e=Ev(t,e,1),t=Gn(t,e,1),e=zt(),t!==null&&(wi(t,1,e),Zt(t,e));break}}t=t.return}}function k2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&r,Nt===e&&(Rt&r)===r&&(xt===4||xt===3&&(Rt&130023424)===Rt&&500>ct()-Lf?Ss(e,0):$f|=r),Zt(e,t)}function Gv(e,t){t===0&&(e.mode&1?(t=Di,Di<<=1,!(Di&130023424)&&(Di=4194304)):t=1);var r=zt();e=Nn(e,t),e!==null&&(wi(e,t,r),Zt(e,r))}function C2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gv(e,r)}function E2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(t),Gv(e,r)}var Yv;Yv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Yt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Yt=!1,p2(e,t,r);Yt=!!(e.flags&131072)}else Yt=!1,Ze&&t.flags&1048576&&Z0(t,zl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;wl(e,t),e=t.pendingProps;var s=Io(t,$t.current);_o(t,r),s=Tf(null,t,n,e,s,r);var a=Af();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qt(n)?(a=!0,Ul(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kf(t),s.updater=Tc,t.stateNode=s,s._reactInternals=t,Gu(t,n,e,r),t=Xu(null,t,n,!0,a,r)):(t.tag=0,Ze&&a&&yf(t),Ut(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(wl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=P2(n),e=Mr(n,e),s){case 0:t=Ju(null,t,n,e,r);break e;case 1:t=Zp(null,t,n,e,r);break e;case 11:t=Xp(null,t,n,e,r);break e;case 14:t=Qp(null,t,n,Mr(n.type,e),r);break e}throw Error(ne(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Ju(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Zp(e,t,n,s,r);case 3:e:{if(Av(t),e===null)throw Error(ne(387));n=t.pendingProps,a=t.memoizedState,s=a.element,ov(e,t),Wl(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Lo(Error(ne(423)),t),t=eg(e,t,n,r,s);break e}else if(n!==s){s=Lo(Error(ne(424)),t),t=eg(e,t,n,r,s);break e}else for(lr=Kn(t.stateNode.containerInfo.firstChild),cr=t,Ze=!0,Ur=null,r=nv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mo(),n===s){t=_n(e,t,r);break e}Ut(e,t,n,r)}t=t.child}return t;case 5:return av(t),e===null&&qu(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Fu(n,s)?i=null:a!==null&&Fu(n,a)&&(t.flags|=32),Tv(e,t),Ut(e,t,i,r),t.child;case 6:return e===null&&qu(t),null;case 13:return Ov(e,t,r);case 4:return Cf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Do(t,null,n,r):Ut(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),Xp(e,t,n,s,r);case 7:return Ut(e,t,t.pendingProps,r),t.child;case 8:return Ut(e,t,t.pendingProps.children,r),t.child;case 12:return Ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,Ke(Bl,n._currentValue),n._currentValue=i,a!==null)if(Hr(a.value,i)){if(a.children===s.children&&!Xt.current){t=_n(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=wn(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Hu(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ne(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Hu(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ut(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,_o(t,r),s=Sr(s),n=n(s),t.flags|=1,Ut(e,t,n,r),t.child;case 14:return n=t.type,s=Mr(n,t.pendingProps),s=Mr(n.type,s),Qp(e,t,n,s,r);case 15:return Rv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Mr(n,s),wl(e,t),t.tag=1,Qt(n)?(e=!0,Ul(t)):e=!1,_o(t,r),kv(t,n,s),Gu(t,n,s,r),Xu(null,t,n,!0,e,r);case 19:return Iv(e,t,r);case 22:return Pv(e,t,r)}throw Error(ne(156,t.tag))};function Jv(e,t){return N0(e,t)}function R2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(e,t,r,n){return new R2(e,t,r,n)}function Bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function P2(e){if(typeof e=="function")return Bf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===af)return 11;if(e===lf)return 14}return 2}function Xn(e,t){var r=e.alternate;return r===null?(r=br(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nl(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")Bf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ao:return ks(r.children,s,a,t);case of:i=8,s|=8;break;case vu:return e=br(12,r,t,s|2),e.elementType=vu,e.lanes=a,e;case yu:return e=br(13,r,t,s),e.elementType=yu,e.lanes=a,e;case wu:return e=br(19,r,t,s),e.elementType=wu,e.lanes=a,e;case a0:return Ic(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case s0:i=10;break e;case o0:i=9;break e;case af:i=11;break e;case lf:i=14;break e;case $n:i=16,n=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=br(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function ks(e,t,r,n){return e=br(7,e,n,t),e.lanes=r,e}function Ic(e,t,r,n){return e=br(22,e,n,t),e.elementType=a0,e.lanes=r,e.stateNode={isHidden:!1},e}function Wd(e,t,r){return e=br(6,e,null,t),e.lanes=r,e}function qd(e,t,r){return t=br(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function T2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sd(0),this.expirationTimes=Sd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vf(e,t,r,n,s,a,i,l,c){return e=new T2(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=br(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(a),e}function A2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Xv(e){if(!e)return es;e=e._reactInternals;e:{if(zs(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(Qt(r))return X0(e,r,t)}return t}function Qv(e,t,r,n,s,a,i,l,c){return e=Vf(r,n,!0,e,s,a,i,l,c),e.context=Xv(null),r=e.current,n=zt(),s=Jn(r),a=wn(n,s),a.callback=t??null,Gn(r,a,s),e.current.lanes=s,wi(e,s,n),Zt(e,n),e}function Mc(e,t,r,n){var s=t.current,a=zt(),i=Jn(s);return r=Xv(r),t.context===null?t.context=r:t.pendingContext=r,t=wn(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gn(s,t,i),e!==null&&(zr(e,s,i,a),xl(e,s,i)),i}function Ql(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wf(e,t){dg(e,t),(e=e.alternate)&&dg(e,t)}function O2(){return null}var Zv=typeof reportError=="function"?reportError:function(e){console.error(e)};function qf(e){this._internalRoot=e}Dc.prototype.render=qf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));Mc(e,t,null,null)};Dc.prototype.unmount=qf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Os(function(){Mc(null,e,null,null)}),t[jn]=null}};function Dc(e){this._internalRoot=e}Dc.prototype.unstable_scheduleHydration=function(e){if(e){var t=P0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Un.length&&t!==0&&t<Un[r].priority;r++);Un.splice(r,0,e),r===0&&A0(e)}};function Hf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ug(){}function I2(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var d=Ql(i);a.call(d)}}var i=Qv(t,n,e,0,null,!1,!1,"",ug);return e._reactRootContainer=i,e[jn]=i.current,qa(e.nodeType===8?e.parentNode:e),Os(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Ql(c);l.call(d)}}var c=Vf(e,0,!1,null,null,!1,!1,"",ug);return e._reactRootContainer=c,e[jn]=c.current,qa(e.nodeType===8?e.parentNode:e),Os(function(){Mc(t,c,r,n)}),c}function Lc(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=Ql(i);l.call(c)}}Mc(t,i,e,s)}else i=I2(r,t,e,s,n);return Ql(i)}E0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xa(t.pendingLanes);r!==0&&(uf(t,r|1),Zt(t,ct()),!(Le&6)&&(Uo=ct()+500,ls()))}break;case 13:Os(function(){var n=Nn(e,1);if(n!==null){var s=zt();zr(n,e,1,s)}}),Wf(e,1)}};hf=function(e){if(e.tag===13){var t=Nn(e,134217728);if(t!==null){var r=zt();zr(t,e,134217728,r)}Wf(e,134217728)}};R0=function(e){if(e.tag===13){var t=Jn(e),r=Nn(e,t);if(r!==null){var n=zt();zr(r,e,t,n)}Wf(e,t)}};P0=function(){return We};T0=function(e,t){var r=We;try{return We=e,t()}finally{We=r}};Pu=function(e,t,r){switch(t){case"input":if(Nu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ec(n);if(!s)throw Error(ne(90));l0(n),Nu(n,s)}}}break;case"textarea":d0(e,r);break;case"select":t=r.value,t!=null&&wo(e,!!r.multiple,t,!1)}};x0=Uf;v0=Os;var M2={usingClientEntryPoint:!1,Events:[ji,uo,Ec,p0,g0,Uf]},da={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D2={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b0(e),e===null?null:e.stateNode},findFiberByHostInstance:da.findFiberByHostInstance||O2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ki.isDisabled&&Ki.supportsFiber)try{_c=Ki.inject(D2),nn=Ki}catch{}}hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M2;hr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hf(t))throw Error(ne(200));return A2(e,t,null,r)};hr.createRoot=function(e,t){if(!Hf(e))throw Error(ne(299));var r=!1,n="",s=Zv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vf(e,1,!1,null,null,r,!1,n,s),e[jn]=t.current,qa(e.nodeType===8?e.parentNode:e),new qf(t)};hr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=b0(t),e=e===null?null:e.stateNode,e};hr.flushSync=function(e){return Os(e)};hr.hydrate=function(e,t,r){if(!$c(t))throw Error(ne(200));return Lc(null,e,t,!0,r)};hr.hydrateRoot=function(e,t,r){if(!Hf(e))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=Zv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Qv(t,null,e,1,r??null,s,!1,a,i),e[jn]=t.current,qa(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Dc(t)};hr.render=function(e,t,r){if(!$c(t))throw Error(ne(200));return Lc(null,e,t,!1,r)};hr.unmountComponentAtNode=function(e){if(!$c(e))throw Error(ne(40));return e._reactRootContainer?(Os(function(){Lc(null,null,e,!1,function(){e._reactRootContainer=null,e[jn]=null})}),!0):!1};hr.unstable_batchedUpdates=Uf;hr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$c(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return Lc(e,t,r,!1,n)};hr.version="18.3.1-next-f1338f8080-20240426";function ey(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ey)}catch(e){console.error(e)}}ey(),e0.exports=hr;var Go=e0.exports;const ty=Bx(Go);var ry,hg=Go;ry=hg.createRoot,hg.hydrateRoot;function Aa(e){if(e.length===0)return{cuisinePreferences:{},dietaryPreferences:[],difficultyPreferences:{},avgCookTime:0,totalRecipesSaved:0};const t={},r=new Set,n={};let s=0;return e.forEach(a=>{t[a.cuisineType]=(t[a.cuisineType]||0)+1,n[a.difficulty]=(n[a.difficulty]||0)+1,a.dietaryTags.forEach(i=>r.add(i)),s+=a.prepTime+a.cookTime}),{cuisinePreferences:t,dietaryPreferences:Array.from(r),difficultyPreferences:n,avgCookTime:s/e.length,totalRecipesSaved:e.length}}function $2(e,t,r,n){if(n.has(e.id))return-1e3;let s=0;const a=t.cuisinePreferences[e.cuisineType]||0;s+=a*10,r.favoriteCuisines.includes(e.cuisineType)&&(s+=15);let l=0;e.dietaryTags.forEach(m=>{t.dietaryPreferences.includes(m)&&l++,r.dietaryPreferences.includes(m)&&l++}),s+=l*8;const c=t.difficultyPreferences[e.difficulty]||0;s+=c*5;const h={Beginner:"Easy",Intermediate:"Medium",Advanced:"Hard"}[r.cookingSkillLevel];if(e.difficulty===h?s+=10:(r.cookingSkillLevel==="Intermediate"&&e.difficulty==="Easy"||r.cookingSkillLevel==="Advanced"&&e.difficulty==="Medium")&&(s+=5),t.avgCookTime>0){const m=e.prepTime+e.cookTime,w=Math.abs(m-t.avgCookTime),g=Math.max(0,10-w/10);s+=g}e.ingredients.some(m=>r.dislikedIngredients.some(w=>m.name.toLowerCase().includes(w.toLowerCase())))&&(s-=50),e.popularity&&(s+=e.popularity*.5);const p=Math.random()*5;return s+=p,s}function L2(e,t,r,n=6){const s=Aa(t),a=new Set(t.map(l=>l.id));return t.length===0?e.filter(l=>!a.has(l.id)).sort((l,c)=>(c.popularity||0)-(l.popularity||0)).slice(0,n):e.map(l=>({recipe:l,score:$2(l,s,r,a)})).filter(l=>l.score>=0).sort((l,c)=>c.score-l.score).slice(0,n).map(l=>l.recipe)}function U2(e){if(e.length===0)return"Popular recipes to get you started";const t=Aa(e),r=Object.entries(t.cuisinePreferences).sort((s,a)=>a[1]-s[1])[0],n=[];return r&&n.push(r[0]),t.dietaryPreferences.length>0&&n.push(t.dietaryPreferences[0]),n.length>0?`Based on your love for ${n.join(" and ")} recipes`:"Personalized recommendations based on your saved recipes"}async function fg(){}async function mg(){}const F2={savedRecipes:[],mealPlan:[],groceryList:[],userPreferences:{dietaryPreferences:[],favoriteCuisines:[],cookingSkillLevel:"Beginner",householdSize:2,dislikedIngredients:[],visualLearningStyle:"auto"},userProfile:{cuisinePreferences:{},dietaryPreferences:[],difficultyPreferences:{},avgCookTime:0,totalRecipesSaved:0},discoveryRecipes:[],hasSeenOnboarding:!0},ny=u.createContext(void 0);function z2(e,t){switch(t.type){case"SAVE_RECIPE":{const r=[...e.savedRecipes,{...t.payload,isSaved:!0}],n=Aa(r);return fg(),mg(),{...e,savedRecipes:r,userProfile:n}}case"REMOVE_RECIPE":{const r=e.savedRecipes.filter(s=>s.id!==t.payload),n=Aa(r);return fg(),mg(),{...e,savedRecipes:r,userProfile:n}}case"ADD_MEAL_PLAN":return{...e,mealPlan:[...e.mealPlan,t.payload]};case"REMOVE_MEAL_PLAN":return{...e,mealPlan:e.mealPlan.filter(r=>r.id!==t.payload)};case"CLEAR_MEAL_PLAN":return{...e,mealPlan:[],groceryList:[]};case"UPDATE_MEAL_PLAN":return{...e,mealPlan:e.mealPlan.map(r=>r.id===t.payload.id?t.payload:r)};case"ADD_GROCERY_ITEM":return{...e,groceryList:[...e.groceryList,t.payload]};case"REMOVE_GROCERY_ITEM":return{...e,groceryList:e.groceryList.filter(r=>r.id!==t.payload)};case"TOGGLE_GROCERY_ITEM":return{...e,groceryList:e.groceryList.map(r=>r.id===t.payload?{...r,checked:!r.checked}:r)};case"UPDATE_GROCERY_LIST":return{...e,groceryList:t.payload};case"UPDATE_PREFERENCES":{const r={...e.userPreferences,...t.payload};return{...e,userPreferences:r}}case"COMPLETE_ONBOARDING":return{...e,hasSeenOnboarding:!0};case"LOAD_STATE":{const r=t.payload,n=Aa(r.savedRecipes||[]);return{...r,userProfile:n}}default:return e}}function B2({children:e}){const[t,r]=u.useReducer(z2,F2);return u.useEffect(()=>{const n=localStorage.getItem("recipeAppState");if(n)try{const s=JSON.parse(n);r({type:"LOAD_STATE",payload:{...s,discoveryRecipes:[]}})}catch(s){console.error("Failed to load state from localStorage",s)}},[]),u.useEffect(()=>{const n={...t,discoveryRecipes:[]};localStorage.setItem("recipeAppState",JSON.stringify(n))},[t]),o.jsx(ny.Provider,{value:{state:t,dispatch:r},children:e})}function Bs(){const e=u.useContext(ny);if(e===void 0)throw new Error("useRecipes must be used within a RecipeProvider");return e}var ch=function(e,t){return ch=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ch(e,t)};function sy(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ch(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var wr=function(){return wr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},wr.apply(this,arguments)};function cs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function oy(e,t,r,n){var s=arguments.length,a=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(a=(s<3?i(a):s>3?i(t,r,a):i(t,r))||a);return s>3&&a&&Object.defineProperty(t,r,a),a}function ay(e,t){return function(r,n){t(r,n,e)}}function iy(e,t,r,n,s,a){function i(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),f,p=!1,m=r.length-1;m>=0;m--){var w={};for(var g in n)w[g]=g==="access"?{}:n[g];for(var g in n.access)w.access[g]=n.access[g];w.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(v||null))};var b=(0,r[m])(l==="accessor"?{get:h.get,set:h.set}:h[c],w);if(l==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=i(b.get))&&(h.get=f),(f=i(b.set))&&(h.set=f),(f=i(b.init))&&s.unshift(f)}else(f=i(b))&&(l==="field"?s.unshift(f):h[c]=f)}d&&Object.defineProperty(d,n.name,h),p=!0}function ly(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function cy(e){return typeof e=="symbol"?e:"".concat(e)}function dy(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function uy(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function xe(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{d(n.next(h))}catch(f){i(f)}}function c(h){try{d(n.throw(h))}catch(f){i(f)}}function d(h){h.done?a(h.value):s(h.value).then(l,c)}d((n=n.apply(e,t||[])).next())})}function hy(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(d){return function(h){return c([d,h])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(h){d=[6,h],s=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Uc=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function fy(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Uc(t,e,r)}function Zl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kf(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,a=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return a}function my(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kf(arguments[t]));return e}function py(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var a=arguments[t],i=0,l=a.length;i<l;i++,s++)n[s]=a[i];return n}function Gf(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Fo(e){return this instanceof Fo?(this.v=e,this):new Fo(e)}function gy(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(m){return function(w){return Promise.resolve(w).then(m,f)}}function l(m,w){n[m]&&(s[m]=function(g){return new Promise(function(b,v){a.push([m,g,b,v])>1||c(m,g)})},w&&(s[m]=w(s[m])))}function c(m,w){try{d(n[m](w))}catch(g){p(a[0][3],g)}}function d(m){m.value instanceof Fo?Promise.resolve(m.value.v).then(h,f):p(a[0][2],m)}function h(m){c("next",m)}function f(m){c("throw",m)}function p(m,w){m(w),a.shift(),a.length&&c(a[0][0],a[0][1])}}function xy(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,a){t[s]=e[s]?function(i){return(r=!r)?{value:Fo(e[s](i)),done:!1}:a?a(i):i}:a}}function vy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Zl=="function"?Zl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(i){return new Promise(function(l,c){i=e[a](i),s(l,c,i.done,i.value)})}}function s(a,i,l,c){Promise.resolve(c).then(function(d){a({value:d,done:l})},i)}}function yy(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var V2=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},dh=function(e){return dh=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},dh(e)};function wy(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=dh(e),n=0;n<r.length;n++)r[n]!=="default"&&Uc(t,e,r[n]);return V2(t,e),t}function by(e){return e&&e.__esModule?e:{default:e}}function jy(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Ny(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function _y(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Sy(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var W2=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function ky(e){function t(a){e.error=e.hasError?new W2(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Cy(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,a,i){return n?t?".jsx":".js":s&&(!a||!i)?r:s+a+"."+i.toLowerCase()+"js"}):e}const q2={__extends:sy,__assign:wr,__rest:cs,__decorate:oy,__param:ay,__esDecorate:iy,__runInitializers:ly,__propKey:cy,__setFunctionName:dy,__metadata:uy,__awaiter:xe,__generator:hy,__createBinding:Uc,__exportStar:fy,__values:Zl,__read:Kf,__spread:my,__spreadArrays:py,__spreadArray:Gf,__await:Fo,__asyncGenerator:gy,__asyncDelegator:xy,__asyncValues:vy,__makeTemplateObject:yy,__importStar:wy,__importDefault:by,__classPrivateFieldGet:jy,__classPrivateFieldSet:Ny,__classPrivateFieldIn:_y,__addDisposableResource:Sy,__disposeResources:ky,__rewriteRelativeImportExtension:Cy},H2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Sy,get __assign(){return wr},__asyncDelegator:xy,__asyncGenerator:gy,__asyncValues:vy,__await:Fo,__awaiter:xe,__classPrivateFieldGet:jy,__classPrivateFieldIn:_y,__classPrivateFieldSet:Ny,__createBinding:Uc,__decorate:oy,__disposeResources:ky,__esDecorate:iy,__exportStar:fy,__extends:sy,__generator:hy,__importDefault:by,__importStar:wy,__makeTemplateObject:yy,__metadata:uy,__param:ay,__propKey:cy,__read:Kf,__rest:cs,__rewriteRelativeImportExtension:Cy,__runInitializers:ly,__setFunctionName:dy,__spread:my,__spreadArray:Gf,__spreadArrays:py,__values:Zl,default:q2},Symbol.toStringTag,{value:"Module"})),K2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Yf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class pg extends Yf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class gg extends Yf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xg extends Yf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var uh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uh||(uh={}));class G2{constructor(t,{headers:r={},customFetch:n,region:s=uh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=K2(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return xe(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:a,method:i,body:l,signal:c}=n;let d={},{region:h}=n;h||(h=this.region);const f=new URL(`${this.url}/${r}`);h&&h!=="any"&&(d["x-region"]=h,f.searchParams.set("forceFunctionRegion",h));let p;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(d["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(d["Content-Type"]="application/json",p=JSON.stringify(l)):p=l;const m=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:p,signal:c}).catch(v=>{throw v.name==="AbortError"?v:new pg(v)}),w=m.headers.get("x-relay-error");if(w&&w==="true")throw new gg(m);if(!m.ok)throw new xg(m);let g=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return g==="application/json"?b=yield m.json():g==="application/octet-stream"||g==="application/pdf"?b=yield m.blob():g==="text/event-stream"?b=m:g==="multipart/form-data"?b=yield m.formData():b=yield m.text(),{data:b,error:null,response:m}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new pg(a)}:{data:null,error:a,response:a instanceof xg||a instanceof gg?a.context:void 0}}})}}var Ft={};const Yo=u_(H2);var Gi={},Yi={},Ji={},Xi={},Qi={},Zi={},vg;function Ey(){if(vg)return Zi;vg=1,Object.defineProperty(Zi,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Zi.default=e,Zi}var yg;function Ry(){if(yg)return Qi;yg=1,Object.defineProperty(Qi,"__esModule",{value:!0});const t=Yo.__importDefault(Ey());class r{constructor(s){var a,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let l=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,h,f,p;let m=null,w=null,g=null,b=c.status,v=c.statusText;if(c.ok){if(this.method!=="HEAD"){const _=await c.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?w=_:w=JSON.parse(_))}const y=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),j=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&j&&j.length>1&&(g=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(m={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,g=null,b=406,v="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const y=await c.text();try{m=JSON.parse(y),Array.isArray(m)&&c.status===404&&(w=[],m=null,b=200,v="OK")}catch{c.status===404&&y===""?(b=204,v="No Content"):m={message:y}}if(m&&this.isMaybeSingle&&(!((p=m==null?void 0:m.details)===null||p===void 0)&&p.includes("0 rows"))&&(m=null,b=200,v="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:w,count:g,status:b,statusText:v}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,h,f;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,a)}returns(){return this}overrideTypes(){return this}}return Qi.default=r,Qi}var wg;function Py(){if(wg)return Xi;wg=1,Object.defineProperty(Xi,"__esModule",{value:!0});const t=Yo.__importDefault(Ry());class r extends t.default{select(s){let a=!1;const i=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${s}.${a?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:i=a}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(d,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var h;const f=[s?"analyze":null,a?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${f};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Xi.default=r,Xi}var bg;function Jf(){if(bg)return Ji;bg=1,Object.defineProperty(Ji,"__esModule",{value:!0});const t=Yo.__importDefault(Py()),r=new RegExp("[,()]");class n extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const l=Array.from(new Set(i)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${d}fts${h}.${i}`),this}match(a){return Object.entries(a).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(a,i,l){return this.url.searchParams.append(a,`not.${i}.${l}`),this}or(a,{foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,i,l){return this.url.searchParams.append(a,`${i}.${l}`),this}}return Ji.default=n,Ji}var jg;function Ty(){if(jg)return Yi;jg=1,Object.defineProperty(Yi,"__esModule",{value:!0});const t=Yo.__importDefault(Jf());class r{constructor(s,{headers:a={},schema:i,fetch:l}){this.url=s,this.headers=new Headers(a),this.schema=i,this.fetch=l}select(s,a){const{head:i=!1,count:l}=a??{},c=i?"HEAD":"GET";let d=!1;const h=(s??"*").split("").map(f=>/\s/.test(f)&&!d?"":(f==='"'&&(d=!d),f)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:i=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:a}={}){var i;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var a;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Yi.default=r,Yi}var Ng;function Y2(){if(Ng)return Gi;Ng=1,Object.defineProperty(Gi,"__esModule",{value:!0});const e=Yo,t=e.__importDefault(Ty()),r=e.__importDefault(Jf());class n{constructor(a,{headers:i={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(a){const i=new URL(`${this.url}/${a}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,i={},{head:l=!1,get:c=!1,count:d}={}){var h;let f;const p=new URL(`${this.url}/rpc/${a}`);let m;l||c?(f=l?"HEAD":"GET",Object.entries(i).filter(([g,b])=>b!==void 0).map(([g,b])=>[g,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([g,b])=>{p.searchParams.append(g,b)})):(f="POST",m=i);const w=new Headers(this.headers);return d&&w.set("Prefer",`count=${d}`),new r.default({method:f,url:p,headers:w,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Gi.default=n,Gi}Object.defineProperty(Ft,"__esModule",{value:!0});var Ay=Ft.PostgrestError=By=Ft.PostgrestBuilder=Fy=Ft.PostgrestTransformBuilder=Ly=Ft.PostgrestFilterBuilder=Dy=Ft.PostgrestQueryBuilder=Iy=Ft.PostgrestClient=void 0;const Jo=Yo,Oy=Jo.__importDefault(Y2());var Iy=Ft.PostgrestClient=Oy.default;const My=Jo.__importDefault(Ty());var Dy=Ft.PostgrestQueryBuilder=My.default;const $y=Jo.__importDefault(Jf());var Ly=Ft.PostgrestFilterBuilder=$y.default;const Uy=Jo.__importDefault(Py());var Fy=Ft.PostgrestTransformBuilder=Uy.default;const zy=Jo.__importDefault(Ry());var By=Ft.PostgrestBuilder=zy.default;const Vy=Jo.__importDefault(Ey());Ay=Ft.PostgrestError=Vy.default;var Wy=Ft.default={PostgrestClient:Oy.default,PostgrestQueryBuilder:My.default,PostgrestFilterBuilder:$y.default,PostgrestTransformBuilder:Uy.default,PostgrestBuilder:zy.default,PostgrestError:Vy.default};const J2=zx({__proto__:null,get PostgrestBuilder(){return By},get PostgrestClient(){return Iy},get PostgrestError(){return Ay},get PostgrestFilterBuilder(){return Ly},get PostgrestQueryBuilder(){return Dy},get PostgrestTransformBuilder(){return Fy},default:Wy},[Ft]),{PostgrestClient:X2,PostgrestQueryBuilder:C6,PostgrestFilterBuilder:E6,PostgrestTransformBuilder:R6,PostgrestBuilder:P6,PostgrestError:T6}=Wy||J2;class Q2{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Z2="2.80.0",ek=`realtime-js/${Z2}`,tk="1.0.0",hh=1e4,rk=1e3,nk=100;var Oa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Oa||(Oa={}));var pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pt||(pt={}));var Lr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Lr||(Lr={}));var fh;(function(e){e.websocket="websocket"})(fh||(fh={}));var ys;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ys||(ys={}));class sk{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const d=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}let qy=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var qe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(qe||(qe={}));const _g=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,i)=>(a[i]=ok(i,e,t,s),a),{}):{}},ok=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?Hy(a,i):mh(i)},Hy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ck(t,r)}switch(e){case qe.bool:return ak(t);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return ik(t);case qe.json:case qe.jsonb:return lk(t);case qe.timestamp:return dk(t);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return mh(t);default:return mh(t)}},mh=e=>e,ak=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ik=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lk=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ck=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>Hy(t,l))}return e},dk=e=>typeof e=="string"?e.replace(" ","T"):e,Ky=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Hd{constructor(t,r,n={},s=hh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Sg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Sg||(Sg={}));class Ia{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ia.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=Ia.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ia.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(d,h)=>{i[d]||(c[d]=h)}),this.map(i,(d,h)=>{const f=a[d];if(f){const p=h.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),w=h.filter(b=>m.indexOf(b.presence_ref)<0),g=f.filter(b=>p.indexOf(b.presence_ref)<0);w.length>0&&(l[d]=w),g.length>0&&(c[d]=g)}else l[d]=h}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var d;const h=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),h.length>0){const f=t[l].map(m=>m.presence_ref),p=h.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...p)}n(l,h,c)}),this.map(i,(l,c)=>{let d=t[l];if(!d)return;const h=c.map(f=>f.presence_ref);d=d.filter(f=>h.indexOf(f.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kg||(kg={}));var Ma;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ma||(Ma={}));var gn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gn||(gn={}));class Xf{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hd(this,Lr.join,this.params,this.timeout),this.rejoinTimer=new qy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lr.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Ia(this),this.broadcastEndpointURL=Ky(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Ma.PRESENCE]&&this.bindings[Ma.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(gn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(gn.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var w;if(this.socket.setAuth(),m===void 0){t==null||t(gn.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(w=g==null?void 0:g.length)!==null&&w!==void 0?w:0,v=[];for(let x=0;x<b;x++){const y=g[x],{filter:{event:j,schema:_,table:S,filter:k}}=y,T=m&&m[x];if(T&&T.event===j&&T.schema===_&&T.table===S&&T.filter===k)v.push(Object.assign(Object.assign({},y),{id:T.id}));else{this.unsubscribe(),this.state=pt.errored,t==null||t(gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(gn.SUBSCRIBED);return}}).receive("error",m=>{this.state=pt.errored,t==null||t(gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===pt.joined&&t===Ma.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Hd(this,Lr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Hd(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>nk){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:h}=Lr;if(n&&[l,c,d,h].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,g,b;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(g=m.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(m=>m.callback(p,n)):(a=this.bindings[i])===null||a===void 0||a.filter(m=>{var w,g,b,v,x,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const j=m.id,_=(w=m.filter)===null||w===void 0?void 0:w.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(x=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:g,table:b,commit_timestamp:v,type:x,errors:y}=w;p=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:v,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(w))}m.callback(p,n)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Xf.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Lr.close,{},t)}_onError(t){this._on(Lr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=_g(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=_g(t.columns,t.old_record)),r}}const Kd=()=>{},el={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uk=[1e3,2e3,5e3,1e4],hk=1e4,fk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mk{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hh,this.transport=null,this.heartbeatIntervalMs=el.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kd,this.ref=0,this.reconnectTimer=null,this.logger=Kd,this.conn=null,this.sendBuffer=[],this.serializer=new sk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${fh.websocket}`,this.httpEndpoint=Ky(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Q2.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tk}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Oa.connecting:return ys.Connecting;case Oa.open:return ys.Open;case Oa.closing:return ys.Closing;default:return ys.Closed}}isConnected(){return this.connectionState()===ys.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Xf(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(rk,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},el.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:i}=r,l=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,a,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Lr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([fk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:ek};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Lr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new qy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},el.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,i,l,c,d,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:hh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:el.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Kd,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>uk[f-1]||hk,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(f,p)=>p(JSON.stringify(f)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Qf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function tt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pk extends Qf{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ph extends Qf{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Zf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gk=()=>Response,gh=e=>{if(Array.isArray(e))return e.map(r=>gh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=gh(n)}),t},xk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Gd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},vk=(e,t,r)=>xe(void 0,void 0,void 0,function*(){const n=yield gk();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,i=(s==null?void 0:s.statusCode)||a+"";t(new pk(Gd(s),a,i))}).catch(s=>{t(new ph(Gd(s),s))}):t(new ph(Gd(e),e))}),yk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(xk(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function _i(e,t,r,n,s,a){return xe(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,yk(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>vk(c,l,n))})})}function ei(e,t,r,n){return xe(this,void 0,void 0,function*(){return _i(e,"GET",t,r,n)})}function Dr(e,t,r,n,s){return xe(this,void 0,void 0,function*(){return _i(e,"POST",t,n,s,r)})}function xh(e,t,r,n,s){return xe(this,void 0,void 0,function*(){return _i(e,"PUT",t,n,s,r)})}function wk(e,t,r,n){return xe(this,void 0,void 0,function*(){return _i(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function em(e,t,r,n,s){return xe(this,void 0,void 0,function*(){return _i(e,"DELETE",t,n,s,r)})}class bk{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return xe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tt(t))return{data:null,error:t};throw t}})}}var Gy;class jk{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Gy]="BlobDownloadBuilder",this.promise=null}asStream(){return new bk(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return xe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tt(t))return{data:null,error:t};throw t}})}}Gy=Symbol.toStringTag;const Nk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _k{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Zf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return xe(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},Cg),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",i.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!i.duplex&&(i.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),f=yield(t=="PUT"?xh:Dr)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return xe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Cg.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const f=yield xh(this.fetch,l.toString(),c,{headers:h});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(tt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Dr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new Qf("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}update(t,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return xe(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield Dr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Dr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return xe(this,void 0,void 0,function*(){try{const s=yield Dr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>ei(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new jk(c,this.shouldThrowOnError)}info(t){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ei(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:gh(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}exists(t){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield wk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n)&&n instanceof ph){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return xe(this,void 0,void 0,function*(){try{return{data:yield em(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}list(t,r,n){return xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Nk),r),{prefix:t||""});return{data:yield Dr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}listV2(t,r){return xe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Dr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Yy="2.80.0",Jy={"X-Client-Info":`storage-js/${Yy}`};class Sk{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jy),r),this.fetch=Zf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return xe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield ei(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}getBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}createBucket(t){return xe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Dr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return xe(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield em(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class kk{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jy),r),this.fetch=Zf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}listBuckets(t){return xe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ei(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield em(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}}const tm={"X-Client-Info":`storage-js/${Yy}`,"Content-Type":"application/json"};class Xy extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function or(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Yd extends Xy{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ck extends Xy{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Eg;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Eg||(Eg={}));const rm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ek=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Rg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Rk=(e,t,r)=>xe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new Yd(Rg(i),s,l))}).catch(()=>{const i=s+"",l=a.statusText||`HTTP ${s} error`;t(new Yd(l,s,i))});else{const i=s+"",l=a.statusText||`HTTP ${s} error`;t(new Yd(l,s,i))}}else t(new Ck(Rg(e),e))}),Pk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Ek(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Tk(e,t,r,n,s,a){return xe(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,Pk(t,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>Rk(c,l,n))})})}function ar(e,t,r,n,s){return xe(this,void 0,void 0,function*(){return Tk(e,"POST",t,n,s,r)})}class Ak{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tm),r),this.fetch=rm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield ar(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}getIndex(t,r){return xe(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}listIndexes(t){return xe(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return xe(this,void 0,void 0,function*(){try{return{data:(yield ar(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(or(n))return{data:null,error:n};throw n}})}}class Ok{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tm),r),this.fetch=rm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ar(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}getVectors(t){return xe(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}listVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ar(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}queryVectors(t){return xe(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}deleteVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ar(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}}class Ik{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tm),r),this.fetch=rm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield ar(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}getBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}listBuckets(){return xe(this,arguments,void 0,function*(t={}){try{return{data:yield ar(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield ar(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(or(r))return{data:null,error:r};throw r}})}}class Mk extends Ik{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Dk(this.url,this.headers,t,this.fetch)}}class Dk extends Ak{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return xe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return xe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return xe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return xe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new $k(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class $k extends Ok{constructor(t,r,n,s,a){super(t,r,a),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return xe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return xe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return xe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return xe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return xe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Lk extends Sk{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new _k(this.url,this.headers,t,this.fetch)}get vectors(){return new Mk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kk(this.url+"/iceberg",this.headers,this.fetch)}}const Uk="2.80.0";let ya="";typeof Deno<"u"?ya="deno":typeof document<"u"?ya="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ya="react-native":ya="node";const Fk={"X-Client-Info":`supabase-js-${ya}/${Uk}`},zk={headers:Fk},Bk={schema:"public"},Vk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wk={},qk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Hk=()=>Headers,Kk=(e,t,r)=>{const n=qk(r),s=Hk();return async(a,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new s(i==null?void 0:i.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:d}))}};function Gk(e){return e.endsWith("/")?e:e+"/"}function Yk(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:d,realtime:h,global:f}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},h),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function Jk(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Gk(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Qy="2.80.0",no=30*1e3,vh=3,Jd=vh*no,Xk="http://localhost:9999",Qk="supabase.auth.token",Zk={"X-Client-Info":`gotrue-js/${Qy}`},yh="X-Supabase-Api-Version",Zy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tC=10*60*1e3;class ti extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rC extends ti{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function nC(e){return be(e)&&e.name==="AuthApiError"}class ws extends ti{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ds extends ti{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Tr extends ds{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sC(e){return be(e)&&e.name==="AuthSessionMissingError"}class Gs extends ds{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tl extends ds{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class rl extends ds{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oC(e){return be(e)&&e.name==="AuthImplicitGrantRedirectError"}class Pg extends ds{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wh extends ds{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xd(e){return be(e)&&e.name==="AuthRetryableFetchError"}class Tg extends ds{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bh extends ds{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ec="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ag=` 	
\r=`.split(""),aC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ag.length;t+=1)e[Ag[t].charCodeAt(0)]=-2;for(let t=0;t<ec.length;t+=1)e[ec[t].charCodeAt(0)]=t;return e})();function Og(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ec[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ec[n]),t.queuedBits-=6}}function ew(e,t,r){const n=aC[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ig(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{cC(i,n,r)};for(let i=0;i<e.length;i+=1)ew(e.charCodeAt(i),s,a);return t.join("")}function iC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lC(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}iC(n,t)}}function cC(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ko(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)ew(e.charCodeAt(s),r,n);return new Uint8Array(t)}function dC(e){const t=[];return lC(e,r=>t.push(r)),new Uint8Array(t)}function _s(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Og(s,r,n)),Og(null,r,n),t.join("")}function uC(e){return Math.round(Date.now()/1e3)+e}function hC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",fs={tested:!1,writable:!1},tw=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fs.tested)return fs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fs.tested=!0,fs.writable=!0}catch{fs.tested=!0,fs.writable=!1}return fs.writable};function fC(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const rw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),mC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",so=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ms=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},An=async(e,t)=>{await e.removeItem(t)};class Fc{constructor(){this.promise=new Fc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Fc.promiseConstructor=Promise;function Qd(e){const t=e.split(".");if(t.length!==3)throw new bh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!eC.test(t[n]))throw new bh("JWT not in base64url format");return{header:JSON.parse(Ig(t[0])),payload:JSON.parse(Ig(t[1])),signature:ko(t[2]),raw:{header:t[0],payload:t[1]}}}async function pC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function gC(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function xC(e){return("0"+e.toString(16)).substr(-2)}function vC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,xC).join("")}async function yC(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function wC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await yC(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ys(e,t,r=!1){const n=vC();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await so(e,`${t}-code-verifier`,s);const a=await wC(n);return[a,n===a?"plain":"s256"]}const bC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jC(e){const t=e.headers.get(yh);if(!t||!t.match(bC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function NC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _C(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Js(e){if(!SC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kC(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Mg(e){return JSON.parse(JSON.stringify(e))}const xs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),CC=[502,503,504];async function Dg(e){var t;if(!mC(e))throw new wh(xs(e),0);if(CC.includes(e.status))throw new wh(xs(e),e.status);let r;try{r=await e.json()}catch(a){throw new ws(xs(a),a)}let n;const s=jC(e);if(s&&s.getTime()>=Zy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Tg(xs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Tr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new Tg(xs(r),e.status,r.weak_password.reasons);throw new rC(xs(r),e.status||500,n)}const EC=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ee(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[yh]||(a[yh]=Zy["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await RC(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function RC(e,t,r,n,s,a){const i=EC(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new wh(xs(c),0)}if(l.ok||await Dg(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Dg(c)}}function Ar(e){var t;let r=null;AC(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=uC(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $g(e){const t=Ar(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function PC(e){return{data:e,error:null}}function TC(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=cs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Lg(e){return e}function AC(e){return e.access_token&&e.refresh_token&&e.expires_in}const eu=["global","local","others"];class OC{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=rw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=eu[0]){if(eu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eu.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zn})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=cs(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:TC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zn})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Lg});if(h.error)throw h.error;const f=await h.json(),p=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);d[`${b}Page`]=g}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(be(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Js(t);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zn})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Js(t);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zn})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Js(t);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zn})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Js(t.userId);try{const{data:r,error:n}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Js(t.userId),Js(t.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,i,l,c;try{const d={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Lg});if(h.error)throw h.error;const f=await h.json(),p=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const g=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);d[`${b}Page`]=g}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(be(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}}function Ug(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Xs={debug:!!(globalThis&&tw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class IC extends nw{}async function MC(e,t,r){Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new IC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function DC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function $C(e){return parseInt(e,16)}function LC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function UC(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:i,notBefore:l,requestId:c,resources:d,scheme:h,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=sw(e.address),w=h?`${h}://${n}`:n,g=e.statement?`${e.statement}
`:"",b=`${w} wants you to sign in with your Ethereum account:
${m}

${g}`;let v=`URI: ${f}
Version: ${p}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${a.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),d){let x=`
Resources:`;for(const y of d){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);x+=`
- ${y}`}v+=x}return`${b}
${v}`}class ut extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class tc extends ut{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function FC({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(ow(i)){if(a.rp.id!==i)return new ut({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function zC({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(ow(n)){if(r.rpId!==n)return new ut({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class BC{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const VC=new BC;function WC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=cs(e,["challenge","user","excludeCredentials"]),a=ko(t).buffer,i=Object.assign(Object.assign({},r),{id:ko(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:ko(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function qC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=cs(e,["challenge","allowCredentials"]),s=ko(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];a.allowCredentials[i]=Object.assign(Object.assign({},l),{id:ko(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function HC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:_s(new Uint8Array(e.response.attestationObject)),clientDataJSON:_s(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function KC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:_s(new Uint8Array(s.authenticatorData)),clientDataJSON:_s(new Uint8Array(s.clientDataJSON)),signature:_s(new Uint8Array(s.signature)),userHandle:s.userHandle?_s(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ow(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Fg(){var e,t;return!!(It()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function GC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new tc("Browser returned unexpected credential type",t)}:{data:null,error:new tc("Empty credential response",t)}}catch(t){return{data:null,error:FC({error:t,options:e})}}}async function YC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new tc("Browser returned unexpected credential type",t)}:{data:null,error:new tc("Empty credential response",t)}}catch(t){return{data:null,error:zC({error:t,options:e})}}}const JC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},XC={userVerification:"preferred",hints:["security-key"]};function rc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const i=s[a];if(i!==void 0)if(Array.isArray(i))n[a]=i;else if(r(i))n[a]=i;else if(t(i)){const l=n[a];t(l)?n[a]=rc(l,i):n[a]=rc(i)}else n[a]=i}return n}function QC(e,t){return rc(JC,e,t||{})}function ZC(e,t){return rc(XC,e,t||{})}class eE{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=s??VC.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:d}=i.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(i.webauthn.type){case"create":{const d=QC(i.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:f}=await GC({publicKey:d,signal:c});return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const d=ZC(i.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:f}=await YC(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:d,signal:c}));return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(i){return be(i)?{data:null,error:i}:{data:null,error:new ws("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},a){if(!r)return{data:null,error:new ti("rpId is required for WebAuthn authentication")};try{if(!Fg())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return be(i)?{data:null,error:i}:{data:null,error:new ws("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},a){if(!r)return{data:null,error:new ti("rpId is required for WebAuthn registration")};try{if(!Fg())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(i){return be(i)?{data:null,error:i}:{data:null,error:new ws("Unexpected error in register",i)}}}}DC();const tE={url:Xk,storageKey:Qk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function zg(e,t,r){return await r()}const Qs={};class ri{get jwks(){var t,r;return(r=(t=Qs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Qs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},tE),t);if(this.storageKey=a.storageKey,this.instanceID=(r=ri.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ri.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&It()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new OC({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=rw(a.fetch),this.lock=a.lock||zg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:It()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=MC:this.lock=zg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:tw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ug(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ug(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Qy}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(It()&&(r=fC(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),It()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),oC(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return be(r)?this._returnResult({error:r}):this._returnResult({error:new ws("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ar}),{data:i,error:l}=a;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:h,password:f,options:p}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await Ys(this.storage,this.storageKey)),a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:h,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:w},xform:Ar})}else if("phone"in t){const{phone:h,password:f,options:p}=t;a=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ar})}else throw new tl("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$g})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$g})}else throw new tl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new Gs;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,i,l,c,d,h,f,p;let m,w;if("message"in t)m=t.message,w=t.signature;else{const{chain:g,wallet:b,statement:v,options:x}=t;let y;if(It())if(typeof b=="object")y=b;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")y=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=b}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),_=await y.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=sw(_[0]);let k=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const C=await y.request({method:"eth_chainId"});k=$C(C)}const T={domain:j.host,address:S,statement:v,uri:j.href,version:"1",chainId:k,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=x==null?void 0:x.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=UC(T),w=await y.request({method:"personal_sign",params:[LC(m),S]})}try{const{data:g,error:b}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:w},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ar});if(b)throw b;if(!g||!g.session||!g.user){const v=new Gs;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(be(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,a,i,l,c,d,h,f,p,m;let w,g;if("message"in t)w=t.message,g=t.signature;else{const{chain:b,wallet:v,statement:x,options:y}=t;let j;if(It())if(typeof v=="object")j=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)w=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(h=y==null?void 0:y.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:b,error:v}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:_s(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ar});if(v)throw v;if(!b||!b.session||!b.user){const x=new Gs;return this._returnResult({data:{user:null,session:null},error:x})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(be(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await ms(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ar});if(await An(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!a||!a.session||!a.user){const l=new Gs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(be(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ar}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const h=new Gs;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Ys(this.storage,this.storageKey));const{error:f}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:h}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new tl("You must provide either an email or phone number.")}catch(l){if(be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Ar});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,d=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;this.flowType==="pkce"&&([a,i]=await Ys(this.storage,this.storageKey));const l=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:PC});return this._returnResult(l)}catch(a){if(be(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Tr;const{error:s}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new tl("You must provide either an email or phone number and a type")}catch(r){if(be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Jd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ms(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Zd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=kC(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zn}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tr}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:zn})})}catch(r){if(be(r))return sC(r)&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Tr;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ys(this.storage,this.storageKey));const{data:d,error:h}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:zn});if(h)throw h;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(be(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tr;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=Qd(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Tr;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!It())throw new rl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new rl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Pg("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:d}=t;if(!a||!l||!i||!d)throw new rl("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let p=h+f;c&&(p=parseInt(c));const m=p-h;m*1e3<=no&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const w=p-f;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,h);const{data:g,error:b}=await this._getUser(a);if(b)throw b;const v={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:p,refresh_token:i,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(n){if(be(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ms(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({error:a});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(nC(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=hC(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ys(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(be(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,d,h;const{data:f,error:p}=a;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return It()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(be(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:i,provider:l,token:c,access_token:d,nonce:h}=t,f=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Ar}),{data:p,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Gs}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:m}))}catch(s){if(be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gC(async s=>(s>0&&await pC(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ar})),(s,a)=>{const i=200*Math.pow(2,s);return a&&Xd(a)&&Date.now()+i-n<no})}catch(n){if(this._debug(r,"error",n),be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),It()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ms(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ms(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await so(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Zd()}else if(s&&!s.user&&!s.user){const i=await ms(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await An(this.storage,this.storageKey+"-user"),await so(this.storage,this.storageKey,s)):s.user=Zd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jd;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Jd}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Xd(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Tr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Fc;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new Tr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),be(a)){const i={data:null,error:a};return Xd(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await so(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Mg(s);await so(this.storage,this.storageKey,a)}else{const s=Mg(r);await so(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await An(this.storage,this.storageKey),await An(this.storage,this.storageKey+"-code-verifier"),await An(this.storage,this.storageKey+"-user"),this.userStorage&&await An(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),no);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/no);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${no}ms, refresh threshold is ${vh} ticks`),s<=vh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await Ys(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?HC(t.webauthn.credential_response):KC(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const i=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:WC(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:qC(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Qd(n.access_token);let i=null;a.aal&&(i=a.aal);let l=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Tr})})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Tr});const i=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&It()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Tr});const i=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&It()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+tC>s)return n;const{data:a,error:i}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:w}=await this.getSession();if(w||!m.session)return this._returnResult({data:null,error:w});n=m.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=Qd(n);r!=null&&r.allowExpired||NC(a.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:s,signature:i},error:null}}const h=_C(s.alg),f=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,i,dC(`${l}.${c}`)))throw new bh("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}}ri.nextInstanceID={};const rE=ri;class nE extends rE{constructor(t){super(t)}}class sE{constructor(t,r,n){var s,a,i;this.supabaseUrl=t,this.supabaseKey=r;const l=Jk(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Bk,realtime:Wk,auth:Object.assign(Object.assign({},Vk),{storageKey:c}),global:zk},h=Yk(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=Kk(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new X2(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Lk(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new G2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:i,flowType:l,lock:c,debug:d,throwOnError:h},f,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nE({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:l,lock:c,debug:d,throwOnError:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new mk(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nm=(e,t,r)=>new sE(e,t,r);function oE(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}oE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aE="https://vohvdarghgqskzqjclux.supabase.co",iE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvaHZkYXJnaGdxc2t6cWpjbHV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4ODgwMDcsImV4cCI6MjA3ODQ2NDAwN30.6povbtgWFLTvq6lxVrqii_-PrOiLZrUo1n-BMlpK4gc",L=nm(aE,iE),nc=async()=>{const{data:{user:e}}=await L.auth.getUser();if(!e)return!1;const{data:t}=await L.from("admin_users").select("user_id").eq("user_id",e.id).single();return!!t},tu=Object.freeze(Object.defineProperty({__proto__:null,isAdmin:nc,supabase:L},Symbol.toStringTag,{value:"Module"})),aw=u.createContext(void 0);function lE({children:e}){const[t,r]=u.useState(null),[n,s]=u.useState(null),[a,i]=u.useState(!0),[l,c]=u.useState(!1),[d,h]=u.useState(!1),f=t?!!t.email_confirmed_at:!1;u.useEffect(()=>{(async()=>{const g=window.location.hash;if(g&&g.includes("access_token")){const v=new URLSearchParams(g.substring(1)),x=v.get("access_token"),y=v.get("type");if(x&&y==="signup")try{const{data:j,error:_}=await L.auth.getUser(x);!_&&j.user&&(c(!0),r(j.user),window.history.replaceState({},document.title,window.location.pathname))}catch(j){console.error("Token verification error:",j)}}const{data:{session:b}}=await L.auth.getSession();if(s(b),r((b==null?void 0:b.user)??null),b!=null&&b.user){const v=await nc();h(v)}i(!1)})();const{data:{subscription:w}}=L.auth.onAuthStateChange((g,b)=>{(async()=>{var x;(g==="SIGNED_IN"||g==="USER_UPDATED"||g==="TOKEN_REFRESHED")&&((x=b==null?void 0:b.user)!=null&&x.email_confirmed_at)&&(!(t!=null&&t.email_confirmed_at)||g==="SIGNED_IN")&&c(!0),s(b),r((b==null?void 0:b.user)??null),b!=null&&b.user?nc().then(h):h(!1)})()});return()=>w.unsubscribe()},[t==null?void 0:t.email_confirmed_at]);const p=async()=>{await L.auth.signOut(),r(null),s(null)};return o.jsx(aw.Provider,{value:{user:t,session:n,loading:a,isEmailVerified:f,showVerifying:l,isAdmin:d,signOut:p},children:e})}function zc(){const e=u.useContext(aw);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iw=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>u.createElement("svg",{ref:c,...dE,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:iw("lucide",s),...l},[...i.map(([d,h])=>u.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(e,t)=>{const r=u.forwardRef(({className:n,...s},a)=>u.createElement(uE,{ref:a,iconNode:t,className:iw(`lucide-${cE(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=ce("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=ce("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=ce("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=ce("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=ce("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=ce("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ce("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=ce("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=ce("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=ce("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ce("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ce("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=ce("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=ce("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=ce("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=ce("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=ce("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=ce("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=ce("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=ce("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=ce("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=ce("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ce("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=ce("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=ce("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=ce("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=ce("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=ce("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=ce("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=ce("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=ce("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=ce("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=ce("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Hg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rn(...e){return t=>{let r=!1;const n=e.map(s=>{const a=Hg(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Hg(e[s],null)}}}}function Re(...e){return u.useCallback(Rn(...e),e)}var zE=Symbol.for("react.lazy"),ic=tf[" use ".trim().toString()];function BE(e){return typeof e=="object"&&e!==null&&"then"in e}function vw(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===zE&&"_payload"in e&&BE(e._payload)}function dm(e){const t=WE(e),r=u.forwardRef((n,s)=>{let{children:a,...i}=n;vw(a)&&typeof ic=="function"&&(a=ic(a._payload));const l=u.Children.toArray(a),c=l.find(HE);if(c){const d=c.props.children,h=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return o.jsx(t,{...i,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var VE=dm("Slot");function WE(e){const t=u.forwardRef((r,n)=>{let{children:s,...a}=r;if(vw(s)&&typeof ic=="function"&&(s=ic(s._payload)),u.isValidElement(s)){const i=GE(s),l=KE(a,s.props);return s.type!==u.Fragment&&(l.ref=n?Rn(n,i):i),u.cloneElement(s,l)}return u.Children.count(s)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qE=Symbol("radix.slottable");function HE(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qE}function KE(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function GE(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function yw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=yw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ww(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=yw(e))&&(n&&(n+=" "),n+=t);return n}const Kg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Gg=ww,Vc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Gg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(d=>{const h=r==null?void 0:r[d],f=a==null?void 0:a[d];if(h===null)return null;const p=Kg(h)||Kg(f);return s[d][p]}),l=r&&Object.entries(r).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,h)=>{let{class:f,className:p,...m}=h;return Object.entries(m).every(w=>{let[g,b]=w;return Array.isArray(b)?b.includes({...a,...l}[g]):{...a,...l}[g]===b})?[...d,f,p]:d},[]);return Gg(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},um="-",YE=e=>{const t=XE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(um);return l[0]===""&&l.length!==1&&l.shift(),bw(l,t)||JE(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},bw=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?bw(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(um);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},Yg=/^\[(.+)\]$/,JE=e=>{if(Yg.test(e)){const t=Yg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},XE=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return ZE(Object.entries(e.classGroups),r).forEach(([a,i])=>{Rh(i,n,a,t)}),n},Rh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Jg(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(QE(s)){Rh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{Rh(i,Jg(t,a),r,n)})})},Jg=(e,t)=>{let r=e;return t.split(um).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},QE=e=>e.isThemeGetter,ZE=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,s]}):e,eR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},jw="!",tR=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let d=0,h=0,f;for(let b=0;b<l.length;b++){let v=l[b];if(d===0){if(v===s&&(n||l.slice(b,b+a)===t)){c.push(l.slice(h,b)),h=b+a;continue}if(v==="/"){f=b;continue}}v==="["?d++:v==="]"&&d--}const p=c.length===0?l:l.substring(h),m=p.startsWith(jw),w=m?p.substring(1):p,g=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},rR=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},nR=e=>({cache:eR(e.cacheSize),parseClassName:tR(e),...YE(e)}),sR=/\s+/,oR=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(sR);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=r(d);let w=!!m,g=n(w?p.substring(0,m):p);if(!g){if(!w){l=d+(l.length>0?" "+l:l);continue}if(g=n(p),!g){l=d+(l.length>0?" "+l:l);continue}w=!1}const b=rR(h).join(":"),v=f?b+jw:b,x=v+g;if(a.includes(x))continue;a.push(x);const y=s(g,w);for(let j=0;j<y.length;++j){const _=y[j];a.push(v+_)}l=d+(l.length>0?" "+l:l)}return l};function aR(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Nw(t))&&(n&&(n+=" "),n+=r);return n}const Nw=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Nw(e[n]))&&(r&&(r+=" "),r+=t);return r};function iR(e,...t){let r,n,s,a=i;function i(c){const d=t.reduce((h,f)=>f(h),e());return r=nR(d),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const h=oR(c,r);return s(c,h),h}return function(){return a(aR.apply(null,arguments))}}const Ge=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},_w=/^\[(?:([a-z-]+):)?(.+)\]$/i,lR=/^\d+\/\d+$/,cR=new Set(["px","full","screen"]),dR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mn=e=>Ro(e)||cR.has(e)||lR.test(e),On=e=>Xo(e,"length",jR),Ro=e=>!!e&&!Number.isNaN(Number(e)),su=e=>Xo(e,"number",Ro),ua=e=>!!e&&Number.isInteger(Number(e)),pR=e=>e.endsWith("%")&&Ro(e.slice(0,-1)),Oe=e=>_w.test(e),In=e=>dR.test(e),gR=new Set(["length","size","percentage"]),xR=e=>Xo(e,gR,Sw),vR=e=>Xo(e,"position",Sw),yR=new Set(["image","url"]),wR=e=>Xo(e,yR,_R),bR=e=>Xo(e,"",NR),ha=()=>!0,Xo=(e,t,r)=>{const n=_w.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},jR=e=>uR.test(e)&&!hR.test(e),Sw=()=>!1,NR=e=>fR.test(e),_R=e=>mR.test(e),SR=()=>{const e=Ge("colors"),t=Ge("spacing"),r=Ge("blur"),n=Ge("brightness"),s=Ge("borderColor"),a=Ge("borderRadius"),i=Ge("borderSpacing"),l=Ge("borderWidth"),c=Ge("contrast"),d=Ge("grayscale"),h=Ge("hueRotate"),f=Ge("invert"),p=Ge("gap"),m=Ge("gradientColorStops"),w=Ge("gradientColorStopPositions"),g=Ge("inset"),b=Ge("margin"),v=Ge("opacity"),x=Ge("padding"),y=Ge("saturate"),j=Ge("scale"),_=Ge("sepia"),S=Ge("skew"),k=Ge("space"),T=Ge("translate"),C=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Oe,t],M=()=>[Oe,t],q=()=>["",mn,On],J=()=>["auto",Ro,Oe],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",Oe],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Ro,Oe];return{cacheSize:500,separator:":",theme:{colors:[ha],spacing:[mn,On],blur:["none","",In,Oe],brightness:z(),borderColor:[e],borderRadius:["none","","full",In,Oe],borderSpacing:M(),borderWidth:q(),contrast:z(),grayscale:N(),hueRotate:z(),invert:N(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[pR,On],inset:I(),margin:I(),opacity:z(),padding:M(),saturate:z(),scale:z(),sepia:N(),skew:z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[In]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Oe]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ua,Oe]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",ua,Oe]}],"grid-cols":[{"grid-cols":[ha]}],"col-start-end":[{col:["auto",{span:["full",ua,Oe]},Oe]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[ha]}],"row-start-end":[{row:["auto",{span:[ua,Oe]},Oe]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Oe,t]}],"min-w":[{"min-w":[Oe,t,"min","max","fit"]}],"max-w":[{"max-w":[Oe,t,"none","full","min","max","fit","prose",{screen:[In]},In]}],h:[{h:[Oe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Oe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",In,On]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",su]}],"font-family":[{font:[ha]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",Ro,su]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mn,Oe]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mn,On]}],"underline-offset":[{"underline-offset":["auto",mn,Oe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),vR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[mn,Oe]}],"outline-w":[{outline:[mn,On]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[mn,On]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",In,bR]}],"shadow-color":[{shadow:[ha]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",In,Oe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ua,Oe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mn,On,su]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kR=iR(SR);function je(...e){return kR(ww(e))}function Or(e){if(!e)return e;const t=document.createElement("textarea");return t.innerHTML=e,t.value}function CR(e){const t=typeof e=="string"?parseFloat(e):e;if(isNaN(t)||t===0)return"0";if(Number.isInteger(t))return t.toString();const r={"0.125":"1/8","0.25":"1/4","0.333":"1/3","0.3333":"1/3","0.375":"3/8","0.5":"1/2","0.625":"5/8","0.666":"2/3","0.6666":"2/3","0.75":"3/4","0.875":"7/8"},n=Math.abs(t),s=Math.floor(n),a=n-s;if(a===0)return t.toString();const i=a.toFixed(4),l=r[i];if(l)return s===0?t<0?`-${l}`:l:t<0?`-${s} ${l}`:`${s} ${l}`;let c=1,d=a;const h=1e-4;for(;Math.abs(d-Math.round(d))>h&&c<100;)c++,d=a*c;d=Math.round(d);const f=(m,w)=>w===0?m:f(w,m%w),p=f(d,c);return d/=p,c/=p,s===0?t<0?`-${d}/${c}`:`${d}/${c}`:t<0?`-${s} ${d}/${c}`:`${s} ${d}/${c}`}function Xg(e){if(!e)return e;const t=e.match(/(\d+\.?\d*)/);if(t){const r=t[1];if(r.includes(".")){const n=CR(r);return e.replace(r,n)}}return e}const hm=Vc("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Y=u.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?VE:"button";return o.jsx(i,{className:je(hm({variant:t,size:r,className:e})),ref:a,...s})});Y.displayName="Button";function ER({currentPage:e,onNavigate:t,children:r}){var y;const[n,s]=u.useState(e),[a,i]=u.useState(!1),[l,c]=u.useState(null),[d,h]=u.useState(0),[f,p]=u.useState(null),m=[{id:"discover-recipes",label:"Discover Recipes",icon:ts},{id:"discover",label:"Social Feed",icon:vo},{id:"my-recipes",label:"My Recipes",icon:Bg},{id:"add-recipe",label:"Add Recipe",icon:Br},{id:"meal-planner",label:"Meal Planner",icon:Bo},{id:"grocery-list",label:"Grocery List",icon:Is},{id:"cart",label:"Cart",icon:si},{id:"settings",label:"Settings",icon:Wg}],w=["discover","upload","profile","messages","add-recipe"],g=j=>{s(j),t(j),i(!1),j==="messages"&&h(0)};u.useEffect(()=>{v(),b()},[]),u.useEffect(()=>{if(!f)return;const j=L.channel("direct-message-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages"},async _=>{const S=_.new;if(S.sender_id!==f&&!S.read){const{data:k}=await L.from("conversations").select("id").eq("id",S.conversation_id).or(`user1_id.eq.${f},user2_id.eq.${f}`).maybeSingle();k&&h(T=>T+1)}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"direct_messages"},_=>{const S=_.new,k=_.old;S.read&&!k.read&&S.sender_id!==f&&h(T=>Math.max(0,T-1))}).subscribe();return()=>{L.removeChannel(j)}},[f]);const b=async()=>{try{const{data:{user:j}}=await L.auth.getUser();if(!j)return;p(j.id),await x(j.id)}catch(j){console.error("Error initializing messaging:",j)}},v=async()=>{try{const{data:j}=await L.auth.getUser();if(!j.user)return;const{data:_}=await L.from("profiles").select("avatar_url").eq("id",j.user.id).maybeSingle();_!=null&&_.avatar_url&&c(_.avatar_url)}catch(j){console.error("Error loading avatar:",j)}},x=async j=>{try{const{data:_}=await L.from("conversations").select("id, user1_id, user2_id, last_message_at").or(`user1_id.eq.${j},user2_id.eq.${j}`).order("last_message_at",{ascending:!1});if(!_||_.length===0){h(0);return}let S=0;for(const k of _){const{count:T}=await L.from("direct_messages").select("*",{count:"exact",head:!0}).eq("conversation_id",k.id).eq("read",!1).neq("sender_id",j);S+=T||0}h(S)}catch(_){console.error("Error loading unread count:",_)}};return o.jsxs("div",{className:"min-h-screen bg-white",children:[a&&o.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>i(!1)}),o.jsx("aside",{className:`fixed left-0 top-0 z-40 h-screen w-52 sm:w-56 transform bg-white shadow-2xl transition-transform duration-300 ease-in-out lg:translate-x-0 ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:o.jsxs("div",{className:"flex h-full flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3 border-b border-gray-200 p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx("div",{className:"absolute inset-0 rounded-xl ring-4 ring-orange-500 shadow-xl -z-10"}),o.jsx("div",{className:"relative flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-lg bg-white overflow-hidden shadow-lg",children:o.jsx("img",{src:"/Woodenspoon.png",alt:"Meal Scrape",className:"w-full h-full object-cover scale-110"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:"Meal Scrape"}),o.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 truncate",children:"E-Recipe Book & Social Media"})]})]}),o.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>i(!1),className:"lg:hidden h-8 w-8 flex-shrink-0",children:o.jsx(Bt,{className:"h-5 h-5"})})]}),o.jsx("nav",{className:"flex-1 space-y-1 p-3 sm:p-4 overflow-y-auto",children:m.map(j=>{const _=j.icon,S=n===j.id;return o.jsxs("button",{onClick:()=>g(j.id),className:`flex w-full items-center gap-3 rounded-lg px-3 py-2.5 sm:px-4 sm:py-3 text-left transition-all touch-manipulation ${S?"bg-gradient-to-r from-orange-500 to-red-600 text-white shadow-lg scale-[1.02]":"text-gray-700 hover:bg-gray-100 active:bg-gray-200"}`,children:[o.jsx(_,{className:`h-5 w-5 flex-shrink-0 ${S?"opacity-100":"opacity-70"}`}),o.jsx("span",{className:"font-medium text-sm sm:text-base",children:j.label}),j.id==="messages"&&d>0&&o.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:d>9?"9+":d})]},j.id)})}),o.jsx("div",{className:"border-t border-gray-200 p-3 sm:p-4 flex-shrink-0",children:o.jsxs("div",{className:"rounded-lg bg-gradient-to-br from-amber-50 to-orange-50 p-3 sm:p-4 border border-orange-200",children:[o.jsx("p",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:"Discover, Save, Plan, Shop"}),o.jsx("p",{className:"mt-1 text-[10px] sm:text-xs text-gray-600",children:"All in One Place"})]})})]})}),o.jsxs("div",{className:"lg:ml-56",children:[o.jsx("header",{className:"sticky top-0 z-30 border-b border-gray-200 bg-white/95 backdrop-blur-sm shadow-sm",children:o.jsxs("div",{className:"flex h-14 sm:h-16 items-center justify-between px-3 sm:px-4 md:px-6",children:[o.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>i(!a),className:"lg:hidden h-9 w-9 sm:h-10 sm:w-10",children:o.jsx(om,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),!w.includes(n)&&o.jsxs("div",{className:"flex-1 flex items-center justify-center lg:justify-start gap-2",children:[n==="discover-recipes"&&o.jsx("div",{className:"flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg bg-gradient-to-br from-orange-500 to-red-600",children:o.jsx(ts,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),n==="my-recipes"&&o.jsx("div",{className:"flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg bg-gradient-to-br from-orange-500 to-red-600",children:o.jsx(Bg,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),n==="meal-planner"&&o.jsx("div",{className:"flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg bg-gradient-to-br from-orange-500 to-red-600",children:o.jsx(Bo,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),n==="grocery-list"&&o.jsx("div",{className:"flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg bg-gradient-to-br from-orange-500 to-red-600",children:o.jsx(Is,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),n==="cart"&&o.jsx("div",{className:"flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg bg-gradient-to-br from-orange-500 to-red-600",children:o.jsx(si,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),n==="settings"&&o.jsx("div",{className:"flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg bg-gradient-to-br from-orange-500 to-red-600",children:o.jsx(Wg,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),o.jsx("span",{className:"text-base sm:text-lg md:text-xl font-semibold text-gray-900 truncate",children:((y=m.find(j=>j.id===n))==null?void 0:y.label)||"Meal Scrape"})]}),w.includes(n)&&o.jsxs("div",{className:"flex-1 flex items-center justify-center lg:justify-start gap-2",children:[o.jsx("div",{className:"flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-lg bg-gradient-to-br from-orange-500 to-red-600",children:n==="add-recipe"?o.jsx(Br,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"}):o.jsx(vo,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),o.jsx("span",{className:"text-base sm:text-lg font-semibold text-gray-900",children:n==="add-recipe"?"Add Recipe":"Social Feed"})]}),o.jsx("div",{className:"w-9 sm:w-10 lg:hidden"})]})}),o.jsx("div",{className:"hidden lg:block fixed top-3 right-3 z-40",children:o.jsx("div",{className:"flex items-center gap-1.5 bg-white/90 backdrop-blur-lg rounded-full shadow-lg border border-gray-200/50 px-2 py-1.5",children:m.filter(j=>!["discover","settings","messages"].includes(j.id)).map(j=>{const _=j.icon,S=n===j.id;return o.jsx("button",{onClick:()=>g(j.id),className:`h-8 w-8 rounded-full transition-all flex items-center justify-center ${S?"bg-orange-500 text-white shadow-md scale-110":"text-gray-600 hover:bg-gray-100 hover:scale-105"}`,title:j.label,children:o.jsx(_,{className:"h-4 w-4"})},j.id)})})}),o.jsxs("main",{className:w.includes(n)?"pt-16":"pt-16 lg:pt-0",children:["          ",r]}),n!=="add-recipe"&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 lg:hidden bg-white border-t border-gray-200 shadow-lg safe-area-bottom",children:o.jsx("div",{className:"max-w-lg mx-auto px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-around",children:[o.jsxs("button",{onClick:()=>g("messages"),className:`relative flex flex-col items-center gap-1 transition-all touch-manipulation ${n==="messages"?"text-cyan-500 scale-110":"text-gray-600"}`,style:{minWidth:"50px",minHeight:"48px"},children:[o.jsxs("div",{className:"relative",children:[o.jsx(am,{className:"w-6 h-6",strokeWidth:n==="messages"?2.5:2}),d>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] rounded-full w-4 h-4 flex items-center justify-center font-bold animate-pulse",children:d>9?"9+":d})]}),o.jsx("span",{className:"text-[10px] font-medium",children:"Messages"})]}),o.jsxs("button",{onClick:()=>g("discover"),className:`relative flex flex-col items-center gap-1 transition-all touch-manipulation ${n==="discover"?"text-orange-500 scale-110":"text-gray-600"}`,style:{minWidth:"50px",minHeight:"48px"},children:[o.jsx(vo,{className:"w-6 h-6",strokeWidth:n==="discover"?2.5:2}),o.jsx("span",{className:"text-[10px] font-medium",children:"Feed"})]}),o.jsx("button",{onClick:()=>g("add-recipe"),className:"relative -mt-6 grid place-items-center bg-gradient-to-br from-orange-500 to-red-600 rounded-full shadow-xl hover:shadow-2xl transition-all active:scale-95",style:{width:"56px",height:"56px"},children:o.jsx(Co,{className:"w-8 h-8 text-white",strokeWidth:2.75})}),o.jsxs("button",{onClick:()=>g("profile"),className:`flex flex-col items-center gap-1 transition-all touch-manipulation ${n==="profile"?"text-orange-600 scale-110":"text-gray-600"}`,style:{minWidth:"50px",minHeight:"48px"},children:[o.jsx("div",{className:"relative",children:l?o.jsx("img",{src:l,alt:"Profile",className:`w-7 h-7 rounded-full object-cover ${n==="profile"?"ring-2 ring-orange-600 ring-offset-2":"ring-1 ring-gray-300"}`}):o.jsx("div",{className:`w-7 h-7 rounded-full flex items-center justify-center ${n==="profile"?"bg-orange-100 ring-2 ring-orange-600":"bg-gray-100"}`,children:o.jsx(gw,{className:"w-4 h-4",strokeWidth:n==="profile"?2.5:2})})}),o.jsx("span",{className:"text-[10px] font-medium",children:"Profile"})]})]})})}),!w.includes(n)&&o.jsx("div",{className:"hidden lg:block fixed bottom-6 left-1/2 -translate-x-1/2 z-40",children:o.jsx("button",{onClick:()=>g("discover"),className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white w-14 h-14 rounded-full shadow-2xl hover:shadow-3xl transition-all hover:scale-110 flex items-center justify-center",title:"Social Feed",children:o.jsx(vo,{className:"w-7 h-7"})})})]}),o.jsx("button",{onClick:()=>c(j=>j?null:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop"),className:"fixed top-20 right-4 bg-slate-800 text-white text-xs px-3 py-2 rounded-full shadow-lg hover:bg-slate-700 z-50 hidden lg:block",children:"Toggle Avatar"})]})}const RR=Vc("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Je({className:e,variant:t,...r}){return o.jsx("div",{className:je(RR({variant:t}),e),...r})}const He=u.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("rounded-xl border bg-card text-card-foreground shadow",e),...t}));He.displayName="Card";const wt=u.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("flex flex-col space-y-1.5 p-6",e),...t}));wt.displayName="CardHeader";const bt=u.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:je("font-semibold leading-none tracking-tight",e),...t}));bt.displayName="CardTitle";const Ct=u.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:je("text-sm text-muted-foreground",e),...t}));Ct.displayName="CardDescription";const Xe=u.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("p-6 pt-0",e),...t}));Xe.displayName="CardContent";const kw=u.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("flex items-center p-6 pt-0",e),...t}));kw.displayName="CardFooter";function de(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function PR(e,t){const r=u.createContext(t),n=a=>{const{children:i,...l}=a,c=u.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=u.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function er(e,t=[]){let r=[];function n(a,i){const l=u.createContext(i),c=r.length;r=[...r,i];const d=f=>{var v;const{scope:p,children:m,...w}=f,g=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,b=u.useMemo(()=>w,Object.values(w));return o.jsx(g.Provider,{value:b,children:m})};d.displayName=a+"Provider";function h(f,p){var g;const m=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,w=u.useContext(m);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,h]}const s=()=>{const a=r.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,TR(s,...t)]}function TR(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(a)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var St=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},AR=tf[" useId ".trim().toString()]||(()=>{}),OR=0;function Vr(e){const[t,r]=u.useState(AR());return St(()=>{r(n=>n??String(OR++))},[e]),t?`radix-${t}`:""}var IR=tf[" useInsertionEffect ".trim().toString()]||St;function Kr({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=MR({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const h=u.useRef(e!==void 0);u.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const d=u.useCallback(h=>{var f;if(l){const p=DR(h)?h(e):h;p!==e&&((f=i.current)==null||f.call(i,p))}else a(h)},[l,e,a,i]);return[c,d]}function MR({defaultProp:e,onChange:t}){const[r,n]=u.useState(e),s=u.useRef(r),a=u.useRef(t);return IR(()=>{a.current=t},[t]),u.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function DR(e){return typeof e=="function"}function $R(e){const t=LR(e),r=u.forwardRef((n,s)=>{const{children:a,...i}=n,l=u.Children.toArray(a),c=l.find(FR);if(c){const d=c.props.children,h=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return o.jsx(t,{...i,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function LR(e){const t=u.forwardRef((r,n)=>{const{children:s,...a}=r;if(u.isValidElement(s)){const i=BR(s),l=zR(a,s.props);return s.type!==u.Fragment&&(l.ref=n?Rn(n,i):i),u.cloneElement(s,l)}return u.Children.count(s)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UR=Symbol("radix.slottable");function FR(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UR}function zR(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function BR(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var VR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=VR.reduce((e,t)=>{const r=$R(`Primitive.${t}`),n=u.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Cw(e,t){e&&Go.flushSync(()=>e.dispatchEvent(t))}function Et(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function WR(e,t=globalThis==null?void 0:globalThis.document){const r=Et(e);u.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var qR="DismissableLayer",Ph="dismissableLayer.update",HR="dismissableLayer.pointerDownOutside",KR="dismissableLayer.focusOutside",Qg,Ew=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wc=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,d=u.useContext(Ew),[h,f]=u.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=u.useState({}),w=Re(t,k=>f(k)),g=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(b),x=h?g.indexOf(h):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,j=x>=v,_=JR(k=>{const T=k.target,C=[...d.branches].some(E=>E.contains(T));!j||C||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},p),S=XR(k=>{const T=k.target;[...d.branches].some(E=>E.contains(T))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},p);return WR(k=>{x===d.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),u.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Qg=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Zg(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Qg)}},[h,p,r,d]),u.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Zg())},[h,d]),u.useEffect(()=>{const k=()=>m({});return document.addEventListener(Ph,k),()=>document.removeEventListener(Ph,k)},[]),o.jsx(_e.div,{...c,ref:w,style:{pointerEvents:y?j?"auto":"none":void 0,...e.style},onFocusCapture:de(e.onFocusCapture,S.onFocusCapture),onBlurCapture:de(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:de(e.onPointerDownCapture,_.onPointerDownCapture)})});Wc.displayName=qR;var GR="DismissableLayerBranch",YR=u.forwardRef((e,t)=>{const r=u.useContext(Ew),n=u.useRef(null),s=Re(t,n);return u.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(_e.div,{...e,ref:s})});YR.displayName=GR;function JR(e,t=globalThis==null?void 0:globalThis.document){const r=Et(e),n=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){Rw(HR,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function XR(e,t=globalThis==null?void 0:globalThis.document){const r=Et(e),n=u.useRef(!1);return u.useEffect(()=>{const s=a=>{a.target&&!n.current&&Rw(KR,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Zg(){const e=new CustomEvent(Ph);document.dispatchEvent(e)}function Rw(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Cw(s,a):s.dispatchEvent(a)}var ou="focusScope.autoFocusOnMount",au="focusScope.autoFocusOnUnmount",ex={bubbles:!1,cancelable:!0},QR="FocusScope",qc=u.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=u.useState(null),d=Et(s),h=Et(a),f=u.useRef(null),p=Re(t,g=>c(g)),m=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(n){let g=function(y){if(m.paused||!l)return;const j=y.target;l.contains(j)?f.current=j:Dn(f.current,{select:!0})},b=function(y){if(m.paused||!l)return;const j=y.relatedTarget;j!==null&&(l.contains(j)||Dn(f.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const _ of y)_.removedNodes.length>0&&Dn(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),x.disconnect()}}},[n,l,m.paused]),u.useEffect(()=>{if(l){rx.add(m);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(ou,ex);l.addEventListener(ou,d),l.dispatchEvent(v),v.defaultPrevented||(ZR(sP(Pw(l)),{select:!0}),document.activeElement===g&&Dn(l))}return()=>{l.removeEventListener(ou,d),setTimeout(()=>{const v=new CustomEvent(au,ex);l.addEventListener(au,h),l.dispatchEvent(v),v.defaultPrevented||Dn(g??document.body,{select:!0}),l.removeEventListener(au,h),rx.remove(m)},0)}}},[l,d,h,m]);const w=u.useCallback(g=>{if(!r&&!n||m.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(b&&v){const x=g.currentTarget,[y,j]=eP(x);y&&j?!g.shiftKey&&v===j?(g.preventDefault(),r&&Dn(y,{select:!0})):g.shiftKey&&v===y&&(g.preventDefault(),r&&Dn(j,{select:!0})):v===x&&g.preventDefault()}},[r,n,m.paused]);return o.jsx(_e.div,{tabIndex:-1,...i,ref:p,onKeyDown:w})});qc.displayName=QR;function ZR(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Dn(n,{select:t}),document.activeElement!==r)return}function eP(e){const t=Pw(e),r=tx(t,e),n=tx(t.reverse(),e);return[r,n]}function Pw(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tx(e,t){for(const r of e)if(!tP(r,{upTo:t}))return r}function tP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rP(e){return e instanceof HTMLInputElement&&"select"in e}function Dn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&rP(e)&&t&&e.select()}}var rx=nP();function nP(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=nx(e,t),e.unshift(t)},remove(t){var r;e=nx(e,t),(r=e[0])==null||r.resume()}}}function nx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function sP(e){return e.filter(t=>t.tagName!=="A")}var oP="Portal",Hc=u.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=u.useState(!1);St(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?ty.createPortal(o.jsx(_e.div,{...n,ref:t}),i):null});Hc.displayName=oP;function aP(e,t){return u.useReducer((r,n)=>t[r][n]??r,e)}var tr=e=>{const{present:t,children:r}=e,n=iP(t),s=typeof r=="function"?r({present:n.isPresent}):u.Children.only(r),a=Re(n.ref,lP(s));return typeof r=="function"||n.isPresent?u.cloneElement(s,{ref:a}):null};tr.displayName="Presence";function iP(e){const[t,r]=u.useState(),n=u.useRef(null),s=u.useRef(e),a=u.useRef("none"),i=e?"mounted":"unmounted",[l,c]=aP(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=nl(n.current);a.current=l==="mounted"?d:"none"},[l]),St(()=>{const d=n.current,h=s.current;if(h!==e){const p=a.current,m=nl(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),St(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,f=m=>{const g=nl(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=m=>{m.target===t&&(a.current=nl(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function nl(e){return(e==null?void 0:e.animationName)||"none"}function lP(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var iu=0;function fm(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sx()),document.body.insertAdjacentElement("beforeend",e[1]??sx()),iu++,()=>{iu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),iu--}},[])}function sx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Sl="right-scroll-bar-position",kl="width-before-scroll-bar",cP="with-scroll-bars-hidden",dP="--removed-body-scroll-bar-size";function lu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uP(e,t){var r=u.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var hP=typeof window<"u"?u.useLayoutEffect:u.useEffect,ox=new WeakMap;function fP(e,t){var r=uP(null,function(n){return e.forEach(function(s){return lu(s,n)})});return hP(function(){var n=ox.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(l){a.has(l)||lu(l,null)}),a.forEach(function(l){s.has(l)||lu(l,i)})}ox.set(r,e)},[e]),r}function mP(e){return e}function pP(e,t){t===void 0&&(t=mP);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var h=i;i=[],h.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(h){i.push(h),d()},filter:function(h){return i=i.filter(h),r}}}};return s}function gP(e){e===void 0&&(e={});var t=pP(null);return t.options=wr({async:!0,ssr:!1},e),t}var Tw=function(e){var t=e.sideCar,r=cs(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return u.createElement(n,wr({},r))};Tw.isSideCarExport=!0;function xP(e,t){return e.useMedium(t),Tw}var Aw=gP(),cu=function(){},Kc=u.forwardRef(function(e,t){var r=u.useRef(null),n=u.useState({onScrollCapture:cu,onWheelCapture:cu,onTouchMoveCapture:cu}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,h=e.enabled,f=e.shards,p=e.sideCar,m=e.noRelative,w=e.noIsolation,g=e.inert,b=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,y=e.gapMode,j=cs(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=p,S=fP([r,t]),k=wr(wr({},j),s);return u.createElement(u.Fragment,null,h&&u.createElement(_,{sideCar:Aw,removeScrollBar:d,shards:f,noRelative:m,noIsolation:w,inert:g,setCallbacks:a,allowPinchZoom:!!b,lockRef:r,gapMode:y}),i?u.cloneElement(u.Children.only(l),wr(wr({},k),{ref:S})):u.createElement(x,wr({},k,{className:c,ref:S}),l))});Kc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kc.classNames={fullWidth:kl,zeroRight:Sl};var vP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vP();return t&&e.setAttribute("nonce",t),e}function wP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jP=function(){var e=0,t=null;return{add:function(r){e==0&&(t=yP())&&(wP(t,r),bP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NP=function(){var e=jP();return function(t,r){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Ow=function(){var e=NP(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},_P={left:0,top:0,right:0,gap:0},du=function(e){return parseInt(e||"",10)||0},SP=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[du(r),du(n),du(s)]},kP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _P;var t=SP(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},CP=Ow(),Po="data-scroll-locked",EP=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(cP,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Po,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sl,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(kl,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sl," .").concat(Sl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(kl," .").concat(kl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Po,`] {
    `).concat(dP,": ").concat(l,`px;
  }
`)},ax=function(){var e=parseInt(document.body.getAttribute(Po)||"0",10);return isFinite(e)?e:0},RP=function(){u.useEffect(function(){return document.body.setAttribute(Po,(ax()+1).toString()),function(){var e=ax()-1;e<=0?document.body.removeAttribute(Po):document.body.setAttribute(Po,e.toString())}},[])},PP=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;RP();var a=u.useMemo(function(){return kP(s)},[s]);return u.createElement(CP,{styles:EP(a,!t,s,r?"":"!important")})},Th=!1;if(typeof window<"u")try{var sl=Object.defineProperty({},"passive",{get:function(){return Th=!0,!0}});window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{Th=!1}var Zs=Th?{passive:!1}:!1,TP=function(e){return e.tagName==="TEXTAREA"},Iw=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!TP(e)&&r[t]==="visible")},AP=function(e){return Iw(e,"overflowY")},OP=function(e){return Iw(e,"overflowX")},ix=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Mw(e,n);if(s){var a=Dw(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},IP=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},MP=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Mw=function(e,t){return e==="v"?AP(t):OP(t)},Dw=function(e,t){return e==="v"?IP(t):MP(t)},DP=function(e,t){return e==="h"&&t==="rtl"?-1:1},$P=function(e,t,r,n,s){var a=DP(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),d=!1,h=i>0,f=0,p=0;do{if(!l)break;var m=Dw(e,l),w=m[0],g=m[1],b=m[2],v=g-b-a*w;(w||v)&&Mw(e,l)&&(f+=v,p+=w);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(d=!0),d},ol=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lx=function(e){return[e.deltaX,e.deltaY]},cx=function(e){return e&&"current"in e?e.current:e},LP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FP=0,eo=[];function zP(e){var t=u.useRef([]),r=u.useRef([0,0]),n=u.useRef(),s=u.useState(FP++)[0],a=u.useState(Ow)[0],i=u.useRef(e);u.useEffect(function(){i.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Gf([e.lockRef.current],(e.shards||[]).map(cx),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var v=ol(g),x=r.current,y="deltaX"in g?g.deltaX:x[0]-v[0],j="deltaY"in g?g.deltaY:x[1]-v[1],_,S=g.target,k=Math.abs(y)>Math.abs(j)?"h":"v";if("touches"in g&&k==="h"&&S.type==="range")return!1;var T=ix(k,S);if(!T)return!0;if(T?_=k:(_=k==="v"?"h":"v",T=ix(k,S)),!T)return!1;if(!n.current&&"changedTouches"in g&&(y||j)&&(n.current=_),!_)return!0;var C=n.current||_;return $P(C,b,g,C==="h"?y:j)},[]),c=u.useCallback(function(g){var b=g;if(!(!eo.length||eo[eo.length-1]!==a)){var v="deltaY"in b?lx(b):ol(b),x=t.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&LP(_.delta,v)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var y=(i.current.shards||[]).map(cx).filter(Boolean).filter(function(_){return _.contains(b.target)}),j=y.length>0?l(b,y[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),d=u.useCallback(function(g,b,v,x){var y={name:g,delta:b,target:v,should:x,shadowParent:BP(v)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(j){return j!==y})},1)},[]),h=u.useCallback(function(g){r.current=ol(g),n.current=void 0},[]),f=u.useCallback(function(g){d(g.type,lx(g),g.target,l(g,e.lockRef.current))},[]),p=u.useCallback(function(g){d(g.type,ol(g),g.target,l(g,e.lockRef.current))},[]);u.useEffect(function(){return eo.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Zs),document.addEventListener("touchmove",c,Zs),document.addEventListener("touchstart",h,Zs),function(){eo=eo.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Zs),document.removeEventListener("touchmove",c,Zs),document.removeEventListener("touchstart",h,Zs)}},[]);var m=e.removeScrollBar,w=e.inert;return u.createElement(u.Fragment,null,w?u.createElement(a,{styles:UP(s)}):null,m?u.createElement(PP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function BP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VP=xP(Aw,zP);var Gc=u.forwardRef(function(e,t){return u.createElement(Kc,wr({},e,{ref:t,sideCar:VP}))});Gc.classNames=Kc.classNames;var WP=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},to=new WeakMap,al=new WeakMap,il={},uu=0,$w=function(e){return e&&(e.host||$w(e.parentNode))},qP=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=$w(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},HP=function(e,t,r,n){var s=qP(t,Array.isArray(e)?e:[e]);il[r]||(il[r]=new WeakMap);var a=il[r],i=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var m=p.getAttribute(n),w=m!==null&&m!=="false",g=(to.get(p)||0)+1,b=(a.get(p)||0)+1;to.set(p,g),a.set(p,b),i.push(p),g===1&&w&&al.set(p,!0),b===1&&p.setAttribute(r,"true"),w||p.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return h(t),l.clear(),uu++,function(){i.forEach(function(f){var p=to.get(f)-1,m=a.get(f)-1;to.set(f,p),a.set(f,m),p||(al.has(f)||f.removeAttribute(n),al.delete(f)),m||f.removeAttribute(r)}),uu--,uu||(to=new WeakMap,to=new WeakMap,al=new WeakMap,il={})}},mm=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=WP(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),HP(n,s,r,"aria-hidden")):function(){return null}};function KP(e){const t=GP(e),r=u.forwardRef((n,s)=>{const{children:a,...i}=n,l=u.Children.toArray(a),c=l.find(JP);if(c){const d=c.props.children,h=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return o.jsx(t,{...i,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function GP(e){const t=u.forwardRef((r,n)=>{const{children:s,...a}=r;if(u.isValidElement(s)){const i=QP(s),l=XP(a,s.props);return s.type!==u.Fragment&&(l.ref=n?Rn(n,i):i),u.cloneElement(s,l)}return u.Children.count(s)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YP=Symbol("radix.slottable");function JP(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YP}function XP(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function QP(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Yc="Dialog",[Lw,Uw]=er(Yc),[ZP,Jr]=Lw(Yc),Fw=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=u.useRef(null),c=u.useRef(null),[d,h]=Kr({prop:n,defaultProp:s??!1,onChange:a,caller:Yc});return o.jsx(ZP,{scope:t,triggerRef:l,contentRef:c,contentId:Vr(),titleId:Vr(),descriptionId:Vr(),open:d,onOpenChange:h,onOpenToggle:u.useCallback(()=>h(f=>!f),[h]),modal:i,children:r})};Fw.displayName=Yc;var zw="DialogTrigger",Bw=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Jr(zw,r),a=Re(t,s.triggerRef);return o.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":xm(s.open),...n,ref:a,onClick:de(e.onClick,s.onOpenToggle)})});Bw.displayName=zw;var pm="DialogPortal",[e5,Vw]=Lw(pm,{forceMount:void 0}),Ww=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Jr(pm,t);return o.jsx(e5,{scope:t,forceMount:r,children:u.Children.map(n,i=>o.jsx(tr,{present:r||a.open,children:o.jsx(Hc,{asChild:!0,container:s,children:i})}))})};Ww.displayName=pm;var lc="DialogOverlay",qw=u.forwardRef((e,t)=>{const r=Vw(lc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Jr(lc,e.__scopeDialog);return a.modal?o.jsx(tr,{present:n||a.open,children:o.jsx(r5,{...s,ref:t})}):null});qw.displayName=lc;var t5=KP("DialogOverlay.RemoveScroll"),r5=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Jr(lc,r);return o.jsx(Gc,{as:t5,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(_e.div,{"data-state":xm(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ms="DialogContent",Hw=u.forwardRef((e,t)=>{const r=Vw(Ms,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Jr(Ms,e.__scopeDialog);return o.jsx(tr,{present:n||a.open,children:a.modal?o.jsx(n5,{...s,ref:t}):o.jsx(s5,{...s,ref:t})})});Hw.displayName=Ms;var n5=u.forwardRef((e,t)=>{const r=Jr(Ms,e.__scopeDialog),n=u.useRef(null),s=Re(t,r.contentRef,n);return u.useEffect(()=>{const a=n.current;if(a)return mm(a)},[]),o.jsx(Kw,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:de(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:de(e.onFocusOutside,a=>a.preventDefault())})}),s5=u.forwardRef((e,t)=>{const r=Jr(Ms,e.__scopeDialog),n=u.useRef(!1),s=u.useRef(!1);return o.jsx(Kw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Kw=u.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=Jr(Ms,r),c=u.useRef(null),d=Re(t,c);return fm(),o.jsxs(o.Fragment,{children:[o.jsx(qc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Wc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":xm(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(a5,{titleId:l.titleId}),o.jsx(l5,{contentRef:c,descriptionId:l.descriptionId})]})]})}),gm="DialogTitle",Gw=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Jr(gm,r);return o.jsx(_e.h2,{id:s.titleId,...n,ref:t})});Gw.displayName=gm;var Yw="DialogDescription",Jw=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Jr(Yw,r);return o.jsx(_e.p,{id:s.descriptionId,...n,ref:t})});Jw.displayName=Yw;var Xw="DialogClose",Qw=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Jr(Xw,r);return o.jsx(_e.button,{type:"button",...n,ref:t,onClick:de(e.onClick,()=>s.onOpenChange(!1))})});Qw.displayName=Xw;function xm(e){return e?"open":"closed"}var Zw="DialogTitleWarning",[o5,eb]=PR(Zw,{contentName:Ms,titleName:gm,docsSlug:"dialog"}),a5=({titleId:e})=>{const t=eb(Zw),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},i5="DialogDescriptionWarning",l5=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eb(i5).contentName}}.`;return u.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},tb=Fw,c5=Bw,rb=Ww,vm=qw,ym=Hw,wm=Gw,bm=Jw,jm=Qw;function Vs(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var d5=["color"],u5=u.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Vs(e,d5);return u.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),u.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),h5=["color"],Nm=u.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Vs(e,h5);return u.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),u.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),f5=["color"],nb=u.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Vs(e,f5);return u.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),u.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),m5=["color"],p5=u.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Vs(e,m5);return u.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),u.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),g5=["color"],x5=u.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Vs(e,g5);return u.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),u.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),v5=["color"],y5=u.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Vs(e,v5);return u.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),u.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))}),w5=["color"],b5=u.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,s=Vs(e,w5);return u.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),u.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:n}))});const _t=tb,j5=rb,sb=u.forwardRef(({className:e,...t},r)=>o.jsx(vm,{ref:r,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));sb.displayName=vm.displayName;const vt=u.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(j5,{children:[o.jsx(sb,{}),o.jsxs(ym,{ref:n,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(jm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(y5,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vt.displayName=ym.displayName;const Vt=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vt.displayName="DialogHeader";const rs=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});rs.displayName="DialogFooter";const Dt=u.forwardRef(({className:e,...t},r)=>o.jsx(wm,{ref:r,className:je("text-lg font-semibold leading-none tracking-tight",e),...t}));Dt.displayName=wm.displayName;const Nr=u.forwardRef(({className:e,...t},r)=>o.jsx(bm,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));Nr.displayName=bm.displayName;function Jc(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Xc(e){const[t,r]=u.useState(void 0);return St(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Qc="Checkbox",[N5]=er(Qc),[_5,_m]=N5(Qc);function S5(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:i,name:l,onCheckedChange:c,required:d,value:h="on",internal_do_not_use_render:f}=e,[p,m]=Kr({prop:r,defaultProp:s??!1,onChange:c,caller:Qc}),[w,g]=u.useState(null),[b,v]=u.useState(null),x=u.useRef(!1),y=w?!!i||!!w.closest("form"):!0,j={checked:p,disabled:a,setChecked:m,control:w,setControl:g,name:l,form:i,value:h,hasConsumerStoppedPropagationRef:x,required:d,defaultChecked:Qn(s)?!1:s,isFormControl:y,bubbleInput:b,setBubbleInput:v};return o.jsx(_5,{scope:t,...j,children:k5(f)?f(j):n})}var ob="CheckboxTrigger",ab=u.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:i,disabled:l,checked:c,required:d,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:w}=_m(ob,e),g=Re(s,h),b=u.useRef(c);return u.useEffect(()=>{const v=a==null?void 0:a.form;if(v){const x=()=>f(b.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[a,f]),o.jsx(_e.button,{type:"button",role:"checkbox","aria-checked":Qn(c)?"mixed":c,"aria-required":d,"data-state":ub(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:g,onKeyDown:de(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:de(r,v=>{f(x=>Qn(x)?!0:!x),w&&m&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})})});ab.displayName=ob;var Sm=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c,onCheckedChange:d,form:h,...f}=e;return o.jsx(S5,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:i,onCheckedChange:d,name:n,form:h,value:c,internal_do_not_use_render:({isFormControl:p})=>o.jsxs(o.Fragment,{children:[o.jsx(ab,{...f,ref:t,__scopeCheckbox:r}),p&&o.jsx(db,{__scopeCheckbox:r})]})})});Sm.displayName=Qc;var ib="CheckboxIndicator",lb=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=_m(ib,r);return o.jsx(tr,{present:n||Qn(a.checked)||a.checked===!0,children:o.jsx(_e.span,{"data-state":ub(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});lb.displayName=ib;var cb="CheckboxBubbleInput",db=u.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:i,required:l,disabled:c,name:d,value:h,form:f,bubbleInput:p,setBubbleInput:m}=_m(cb,e),w=Re(r,m),g=Jc(a),b=Xc(n);u.useEffect(()=>{const x=p;if(!x)return;const y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"checked").set,S=!s.current;if(g!==a&&_){const k=new Event("click",{bubbles:S});x.indeterminate=Qn(a),_.call(x,Qn(a)?!1:a),x.dispatchEvent(k)}},[p,g,a,s]);const v=u.useRef(Qn(a)?!1:a);return o.jsx(_e.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:l,disabled:c,name:d,value:h,form:f,...t,tabIndex:-1,ref:w,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});db.displayName=cb;function k5(e){return typeof e=="function"}function Qn(e){return e==="indeterminate"}function ub(e){return Qn(e)?"indeterminate":e?"checked":"unchecked"}const oi=u.forwardRef(({className:e,...t},r)=>o.jsx(Sm,{ref:r,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(lb,{className:je("flex items-center justify-center text-current"),children:o.jsx(Nm,{className:"h-4 w-4"})})}));oi.displayName=Sm.displayName;var C5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],E5=C5.reduce((e,t)=>{const r=dm(`Primitive.${t}`),n=u.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),R5="Separator",dx="horizontal",P5=["horizontal","vertical"],hb=u.forwardRef((e,t)=>{const{decorative:r,orientation:n=dx,...s}=e,a=T5(n)?n:dx,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(E5.div,{"data-orientation":a,...l,...s,ref:t})});hb.displayName=R5;function T5(e){return P5.includes(e)}var fb=hb;const Cl=u.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>o.jsx(fb,{ref:s,decorative:r,orientation:t,className:je("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Cl.displayName=fb.displayName;var A5=u.createContext(void 0);function Qo(e){const t=u.useContext(A5);return e||t||"ltr"}function ai(e,[t,r]){return Math.min(r,Math.max(t,e))}function O5(e,t){return u.useReducer((r,n)=>t[r][n]??r,e)}var km="ScrollArea",[mb]=er(km),[I5,Cr]=mb(km),pb=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=u.useState(null),[d,h]=u.useState(null),[f,p]=u.useState(null),[m,w]=u.useState(null),[g,b]=u.useState(null),[v,x]=u.useState(0),[y,j]=u.useState(0),[_,S]=u.useState(!1),[k,T]=u.useState(!1),C=Re(t,I=>c(I)),E=Qo(s);return o.jsx(I5,{scope:r,type:n,dir:E,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:h,content:f,onContentChange:p,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:_,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:T,onCornerWidthChange:x,onCornerHeightChange:j,children:o.jsx(_e.div,{dir:E,...i,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});pb.displayName=km;var gb="ScrollAreaViewport",xb=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,i=Cr(gb,r),l=u.useRef(null),c=Re(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(_e.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});xb.displayName=gb;var dn="ScrollAreaScrollbar",Cm=u.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Cr(dn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return u.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(M5,{...n,ref:t,forceMount:r}):s.type==="scroll"?o.jsx(D5,{...n,ref:t,forceMount:r}):s.type==="auto"?o.jsx(vb,{...n,ref:t,forceMount:r}):s.type==="always"?o.jsx(Em,{...n,ref:t}):null});Cm.displayName=dn;var M5=u.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Cr(dn,e.__scopeScrollArea),[a,i]=u.useState(!1);return u.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(tr,{present:r||a,children:o.jsx(vb,{"data-state":a?"visible":"hidden",...n,ref:t})})}),D5=u.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Cr(dn,e.__scopeScrollArea),a=e.orientation==="horizontal",i=ed(()=>c("SCROLL_END"),100),[l,c]=O5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return u.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),u.useEffect(()=>{const d=s.viewport,h=a?"scrollLeft":"scrollTop";if(d){let f=d[h];const p=()=>{const m=d[h];f!==m&&(c("SCROLL"),i()),f=m};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[s.viewport,a,c,i]),o.jsx(tr,{present:r||l!=="hidden",children:o.jsx(Em,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:de(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:de(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),vb=u.forwardRef((e,t)=>{const r=Cr(dn,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,i]=u.useState(!1),l=e.orientation==="horizontal",c=ed(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?d:h)}},10);return Vo(r.viewport,c),Vo(r.content,c),o.jsx(tr,{present:n||a,children:o.jsx(Em,{"data-state":a?"visible":"hidden",...s,ref:t})})}),Em=u.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Cr(dn,e.__scopeScrollArea),a=u.useRef(null),i=u.useRef(0),[l,c]=u.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Nb(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function f(p,m){return B5(p,i.current,l,m)}return r==="horizontal"?o.jsx($5,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollLeft,m=ux(p,l,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}}):r==="vertical"?o.jsx(L5,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollTop,m=ux(p,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}}):null}),$5=u.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Cr(dn,e.__scopeScrollArea),[i,l]=u.useState(),c=u.useRef(null),d=Re(t,c,a.onScrollbarXChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(wb,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Zc(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(a.viewport){const p=a.viewport.scrollLeft+h.deltaX;e.onWheelScroll(p),Sb(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:dc(i.paddingLeft),paddingEnd:dc(i.paddingRight)}})}})}),L5=u.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Cr(dn,e.__scopeScrollArea),[i,l]=u.useState(),c=u.useRef(null),d=Re(t,c,a.onScrollbarYChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(wb,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Zc(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(a.viewport){const p=a.viewport.scrollTop+h.deltaY;e.onWheelScroll(p),Sb(p,f)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:dc(i.paddingTop),paddingEnd:dc(i.paddingBottom)}})}})}),[U5,yb]=mb(dn),wb=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:f,...p}=e,m=Cr(dn,r),[w,g]=u.useState(null),b=Re(t,C=>g(C)),v=u.useRef(null),x=u.useRef(""),y=m.viewport,j=n.content-n.viewport,_=Et(h),S=Et(c),k=ed(f,10);function T(C){if(v.current){const E=C.clientX-v.current.left,I=C.clientY-v.current.top;d({x:E,y:I})}}return u.useEffect(()=>{const C=E=>{const I=E.target;(w==null?void 0:w.contains(I))&&_(E,j)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[y,w,j,_]),u.useEffect(S,[n,S]),Vo(w,k),Vo(m.content,k),o.jsx(U5,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:Et(a),onThumbPointerUp:Et(i),onThumbPositionChange:S,onThumbPointerDown:Et(l),children:o.jsx(_e.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:de(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),v.current=w.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(C))}),onPointerMove:de(e.onPointerMove,T),onPointerUp:de(e.onPointerUp,C=>{const E=C.target;E.hasPointerCapture(C.pointerId)&&E.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),cc="ScrollAreaThumb",bb=u.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=yb(cc,e.__scopeScrollArea);return o.jsx(tr,{present:r||s.hasThumb,children:o.jsx(F5,{ref:t,...n})})}),F5=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=Cr(cc,r),i=yb(cc,r),{onThumbPositionChange:l}=i,c=Re(t,f=>i.onThumbChange(f)),d=u.useRef(void 0),h=ed(()=>{d.current&&(d.current(),d.current=void 0)},100);return u.useEffect(()=>{const f=a.viewport;if(f){const p=()=>{if(h(),!d.current){const m=V5(f,l);d.current=m,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[a.viewport,h,l]),o.jsx(_e.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:de(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),w=f.clientX-m.left,g=f.clientY-m.top;i.onThumbPointerDown({x:w,y:g})}),onPointerUp:de(e.onPointerUp,i.onThumbPointerUp)})});bb.displayName=cc;var Rm="ScrollAreaCorner",jb=u.forwardRef((e,t)=>{const r=Cr(Rm,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(z5,{...e,ref:t}):null});jb.displayName=Rm;var z5=u.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Cr(Rm,r),[a,i]=u.useState(0),[l,c]=u.useState(0),d=!!(a&&l);return Vo(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),Vo(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),i(h)}),d?o.jsx(_e.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function dc(e){return e?parseInt(e,10):0}function Nb(e,t){const r=e/t;return isNaN(r)?0:r}function Zc(e){const t=Nb(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function B5(e,t,r,n="ltr"){const s=Zc(r),a=s/2,i=t||a,l=s-i,c=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,f=n==="ltr"?[0,h]:[h*-1,0];return _b([c,d],f)(e)}function ux(e,t,r="ltr"){const n=Zc(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,i]:[i*-1,0],d=ai(e,c);return _b([0,i],[0,l])(d)}function _b(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Sb(e,t){return e>0&&e<t}var V5=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=r.left!==a.left,l=r.top!==a.top;(i||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function ed(e,t){const r=Et(e),n=u.useRef(0);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),u.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Vo(e,t){const r=Et(t);St(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var kb=pb,W5=xb,q5=jb;const Es=u.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(kb,{ref:n,className:je("relative overflow-hidden",e),...r,children:[o.jsx(W5,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(Cb,{}),o.jsx(q5,{})]}));Es.displayName=kb.displayName;const Cb=u.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(Cm,{ref:n,orientation:t,className:je("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(bb,{className:"relative flex-1 rounded-full bg-border"})}));Cb.displayName=Cm.displayName;var H5=e=>{switch(e){case"success":return Y5;case"info":return X5;case"warning":return J5;case"error":return Q5;default:return null}},K5=Array(12).fill(0),G5=({visible:e,className:t})=>re.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},re.createElement("div",{className:"sonner-spinner"},K5.map((r,n)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Y5=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),J5=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),X5=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Q5=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Z5=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),e4=()=>{let[e,t]=re.useState(document.hidden);return re.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Ah=1,t4=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ah++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,i=n.then(async c=>{if(a=["resolve",c],re.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(n4(c)&&!c.ok){s=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:h})}else if(t.success!==void 0){s=!1;let d=typeof t.success=="function"?await t.success(c):t.success,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let d=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>i.then(()=>a[0]==="reject"?d(a[1]):c(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Ah++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Kt=new t4,r4=(e,t)=>{let r=(t==null?void 0:t.id)||Ah++;return Kt.addToast({title:e,...t,id:r}),r},n4=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",s4=r4,o4=()=>Kt.toasts,a4=()=>Kt.getActiveToasts(),D=Object.assign(s4,{success:Kt.success,info:Kt.info,warning:Kt.warning,error:Kt.error,custom:Kt.custom,message:Kt.message,promise:Kt.promise,dismiss:Kt.dismiss,loading:Kt.loading},{getHistory:o4,getToasts:a4});function i4(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}i4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ll(e){return e.label!==void 0}var l4=3,c4="32px",d4="16px",hx=4e3,u4=356,h4=14,f4=20,m4=200;function Pr(...e){return e.filter(Boolean).join(" ")}function p4(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var g4=e=>{var t,r,n,s,a,i,l,c,d,h,f;let{invert:p,toast:m,unstyled:w,interacting:g,setHeights:b,visibleToasts:v,heights:x,index:y,toasts:j,expanded:_,removeToast:S,defaultRichColors:k,closeButton:T,style:C,cancelButtonStyle:E,actionButtonStyle:I,className:M="",descriptionClassName:q="",duration:J,position:X,gap:F,loadingIcon:$,expandByDefault:O,classNames:N,icons:R,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:H}=e,[B,te]=re.useState(null),[Z,ie]=re.useState(null),[Q,me]=re.useState(!1),[U,A]=re.useState(!1),[V,se]=re.useState(!1),[ge,ke]=re.useState(!1),[Pe,Te]=re.useState(!1),[K,ae]=re.useState(0),[G,Se]=re.useState(0),ee=re.useRef(m.duration||J||hx),he=re.useRef(null),we=re.useRef(null),$e=y===0,Tt=y+1<=v,W=m.type,le=m.dismissible!==!1,ve=m.className||"",Ae=m.descriptionClassName||"",yt=re.useMemo(()=>x.findIndex(ue=>ue.toastId===m.id)||0,[x,m.id]),hn=re.useMemo(()=>{var ue;return(ue=m.closeButton)!=null?ue:T},[m.closeButton,T]),at=re.useMemo(()=>m.duration||J||hx,[m.duration,J]),mr=re.useRef(0),rr=re.useRef(0),pr=re.useRef(0),et=re.useRef(null),[P,oe]=X.split("-"),pe=re.useMemo(()=>x.reduce((ue,Me,Ue)=>Ue>=yt?ue:ue+Me.height,0),[x,yt]),Ie=e4(),Ce=m.invert||p,Ne=W==="loading";rr.current=re.useMemo(()=>yt*F+pe,[yt,pe]),re.useEffect(()=>{ee.current=at},[at]),re.useEffect(()=>{me(!0)},[]),re.useEffect(()=>{let ue=we.current;if(ue){let Me=ue.getBoundingClientRect().height;return Se(Me),b(Ue=>[{toastId:m.id,height:Me,position:m.position},...Ue]),()=>b(Ue=>Ue.filter(dt=>dt.toastId!==m.id))}},[b,m.id]),re.useLayoutEffect(()=>{if(!Q)return;let ue=we.current,Me=ue.style.height;ue.style.height="auto";let Ue=ue.getBoundingClientRect().height;ue.style.height=Me,Se(Ue),b(dt=>dt.find(mt=>mt.toastId===m.id)?dt.map(mt=>mt.toastId===m.id?{...mt,height:Ue}:mt):[{toastId:m.id,height:Ue,position:m.position},...dt])},[Q,m.title,m.description,b,m.id]);let ye=re.useCallback(()=>{A(!0),ae(rr.current),b(ue=>ue.filter(Me=>Me.toastId!==m.id)),setTimeout(()=>{S(m)},m4)},[m,S,b,rr]);re.useEffect(()=>{if(m.promise&&W==="loading"||m.duration===1/0||m.type==="loading")return;let ue;return _||g||H&&Ie?(()=>{if(pr.current<mr.current){let Me=new Date().getTime()-mr.current;ee.current=ee.current-Me}pr.current=new Date().getTime()})():ee.current!==1/0&&(mr.current=new Date().getTime(),ue=setTimeout(()=>{var Me;(Me=m.onAutoClose)==null||Me.call(m,m),ye()},ee.current)),()=>clearTimeout(ue)},[_,g,m,W,H,Ie,ye]),re.useEffect(()=>{m.delete&&ye()},[ye,m.delete]);function ze(){var ue,Me,Ue;return R!=null&&R.loading?re.createElement("div",{className:Pr(N==null?void 0:N.loader,(ue=m==null?void 0:m.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":W==="loading"},R.loading):$?re.createElement("div",{className:Pr(N==null?void 0:N.loader,(Me=m==null?void 0:m.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":W==="loading"},$):re.createElement(G5,{className:Pr(N==null?void 0:N.loader,(Ue=m==null?void 0:m.classNames)==null?void 0:Ue.loader),visible:W==="loading"})}return re.createElement("li",{tabIndex:0,ref:we,className:Pr(M,ve,N==null?void 0:N.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,N==null?void 0:N.default,N==null?void 0:N[W],(r=m==null?void 0:m.classNames)==null?void 0:r[W]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:k,"data-styled":!(m.jsx||m.unstyled||w),"data-mounted":Q,"data-promise":!!m.promise,"data-swiped":Pe,"data-removed":U,"data-visible":Tt,"data-y-position":P,"data-x-position":oe,"data-index":y,"data-front":$e,"data-swiping":V,"data-dismissible":le,"data-type":W,"data-invert":Ce,"data-swipe-out":ge,"data-swipe-direction":Z,"data-expanded":!!(_||O&&Q),style:{"--index":y,"--toasts-before":y,"--z-index":j.length-y,"--offset":`${U?K:rr.current}px`,"--initial-height":O?"auto":`${G}px`,...C,...m.style},onDragEnd:()=>{se(!1),te(null),et.current=null},onPointerDown:ue=>{Ne||!le||(he.current=new Date,ae(rr.current),ue.target.setPointerCapture(ue.pointerId),ue.target.tagName!=="BUTTON"&&(se(!0),et.current={x:ue.clientX,y:ue.clientY}))},onPointerUp:()=>{var ue,Me,Ue,dt;if(ge||!le)return;et.current=null;let mt=Number(((ue=we.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Lt=Number(((Me=we.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gr=new Date().getTime()-((Ue=he.current)==null?void 0:Ue.getTime()),lt=B==="x"?mt:Lt,Be=Math.abs(lt)/gr;if(Math.abs(lt)>=f4||Be>.11){ae(rr.current),(dt=m.onDismiss)==null||dt.call(m,m),ie(B==="x"?mt>0?"right":"left":Lt>0?"down":"up"),ye(),ke(!0),Te(!1);return}se(!1),te(null)},onPointerMove:ue=>{var Me,Ue,dt,mt;if(!et.current||!le||((Me=window.getSelection())==null?void 0:Me.toString().length)>0)return;let Lt=ue.clientY-et.current.y,gr=ue.clientX-et.current.x,lt=(Ue=e.swipeDirections)!=null?Ue:p4(X);!B&&(Math.abs(gr)>1||Math.abs(Lt)>1)&&te(Math.abs(gr)>Math.abs(Lt)?"x":"y");let Be={x:0,y:0};B==="y"?(lt.includes("top")||lt.includes("bottom"))&&(lt.includes("top")&&Lt<0||lt.includes("bottom")&&Lt>0)&&(Be.y=Lt):B==="x"&&(lt.includes("left")||lt.includes("right"))&&(lt.includes("left")&&gr<0||lt.includes("right")&&gr>0)&&(Be.x=gr),(Math.abs(Be.x)>0||Math.abs(Be.y)>0)&&Te(!0),(dt=we.current)==null||dt.style.setProperty("--swipe-amount-x",`${Be.x}px`),(mt=we.current)==null||mt.style.setProperty("--swipe-amount-y",`${Be.y}px`)}},hn&&!m.jsx?re.createElement("button",{"aria-label":z,"data-disabled":Ne,"data-close-button":!0,onClick:Ne||!le?()=>{}:()=>{var ue;ye(),(ue=m.onDismiss)==null||ue.call(m,m)},className:Pr(N==null?void 0:N.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(a=R==null?void 0:R.close)!=null?a:Z5):null,m.jsx||u.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:re.createElement(re.Fragment,null,W||m.icon||m.promise?re.createElement("div",{"data-icon":"",className:Pr(N==null?void 0:N.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ze():null,m.type!=="loading"?m.icon||(R==null?void 0:R[W])||H5(W):null):null,re.createElement("div",{"data-content":"",className:Pr(N==null?void 0:N.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},re.createElement("div",{"data-title":"",className:Pr(N==null?void 0:N.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?re.createElement("div",{"data-description":"",className:Pr(q,Ae,N==null?void 0:N.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),u.isValidElement(m.cancel)?m.cancel:m.cancel&&ll(m.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:ue=>{var Me,Ue;ll(m.cancel)&&le&&((Ue=(Me=m.cancel).onClick)==null||Ue.call(Me,ue),ye())},className:Pr(N==null?void 0:N.cancelButton,(h=m==null?void 0:m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,u.isValidElement(m.action)?m.action:m.action&&ll(m.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:ue=>{var Me,Ue;ll(m.action)&&((Ue=(Me=m.action).onClick)==null||Ue.call(Me,ue),!ue.defaultPrevented&&ye())},className:Pr(N==null?void 0:N.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function fx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function x4(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?d4:c4;function c(d){["top","right","bottom","left"].forEach(h=>{r[`${i}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${i}-${d}`]=l:r[`${i}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var v4=u.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:d,theme:h="light",richColors:f,duration:p,style:m,visibleToasts:w=l4,toastOptions:g,dir:b=fx(),gap:v=h4,loadingIcon:x,icons:y,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:_}=e,[S,k]=re.useState([]),T=re.useMemo(()=>Array.from(new Set([n].concat(S.filter(H=>H.position).map(H=>H.position)))),[S,n]),[C,E]=re.useState([]),[I,M]=re.useState(!1),[q,J]=re.useState(!1),[X,F]=re.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=re.useRef(null),O=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=re.useRef(null),R=re.useRef(!1),z=re.useCallback(H=>{k(B=>{var te;return(te=B.find(Z=>Z.id===H.id))!=null&&te.delete||Kt.dismiss(H.id),B.filter(({id:Z})=>Z!==H.id)})},[]);return re.useEffect(()=>Kt.subscribe(H=>{if(H.dismiss){k(B=>B.map(te=>te.id===H.id?{...te,delete:!0}:te));return}setTimeout(()=>{ty.flushSync(()=>{k(B=>{let te=B.findIndex(Z=>Z.id===H.id);return te!==-1?[...B.slice(0,te),{...B[te],...H},...B.slice(te+1)]:[H,...B]})})})}),[]),re.useEffect(()=>{if(h!=="system"){F(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:B})=>{F(B?"dark":"light")})}catch{H.addListener(({matches:te})=>{try{F(te?"dark":"light")}catch(Z){console.error(Z)}})}},[h]),re.useEffect(()=>{S.length<=1&&M(!1)},[S]),re.useEffect(()=>{let H=B=>{var te,Z;s.every(ie=>B[ie]||B.code===ie)&&(M(!0),(te=$.current)==null||te.focus()),B.code==="Escape"&&(document.activeElement===$.current||(Z=$.current)!=null&&Z.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[s]),re.useEffect(()=>{if($.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,R.current=!1)}},[$.current]),re.createElement("section",{ref:t,"aria-label":`${j} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((H,B)=>{var te;let[Z,ie]=H.split("-");return S.length?re.createElement("ol",{key:H,dir:b==="auto"?fx():b,tabIndex:-1,ref:$,className:l,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":Z,"data-lifted":I&&S.length>1&&!a,"data-x-position":ie,style:{"--front-toast-height":`${((te=C[0])==null?void 0:te.height)||0}px`,"--width":`${u4}px`,"--gap":`${v}px`,...m,...x4(c,d)},onBlur:Q=>{R.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(R.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||R.current||(R.current=!0,N.current=Q.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{q||M(!1)},onDragEnd:()=>M(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},S.filter(Q=>!Q.position&&B===0||Q.position===H).map((Q,me)=>{var U,A;return re.createElement(g4,{key:Q.id,icons:y,index:me,toast:Q,defaultRichColors:f,duration:(U=g==null?void 0:g.duration)!=null?U:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:w,closeButton:(A=g==null?void 0:g.closeButton)!=null?A:i,interacting:q,position:H,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:z,toasts:S.filter(V=>V.position==Q.position),heights:C.filter(V=>V.position==Q.position),setHeights:E,expandByDefault:a,gap:v,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});function Pm({recipe:e,onClose:t}){var H;const[r,n]=u.useState(0),[s,a]=u.useState(new Set),[i,l]=u.useState(new Set),[c,d]=u.useState(!1),[h,f]=u.useState(!1),[p,m]=u.useState(0),[w,g]=u.useState(!0),[b,v]=u.useState(!1),[x,y]=u.useState(e.servings||4),j=u.useRef(null),_=u.useRef(null),S=e.steps||[];u.useEffect(()=>{if(c&&!h&&p>0){const B=setInterval(()=>{m(te=>te<=1?(d(!1),f(!1),w&&k(),0):te-1)},1e3);return()=>clearInterval(B)}},[c,h,p,w]);const k=()=>{const B=new(window.AudioContext||window.webkitAudioContext),te=B.createOscillator(),Z=B.createGain();te.connect(Z),Z.connect(B.destination),te.frequency.value=800,te.type="sine",Z.gain.setValueAtTime(.3,B.currentTime),Z.gain.exponentialRampToValueAtTime(.01,B.currentTime+.5),te.start(B.currentTime),te.stop(B.currentTime+.5)},T=B=>{j.current=B.touches[0].clientX},C=B=>{_.current=B.touches[0].clientX},E=()=>{if(!j.current||!_.current)return;const B=j.current-_.current;Math.abs(B)>50&&(B>0&&r<S.length-1?I():B<0&&r>0&&M()),j.current=null,_.current=null},I=()=>{r<S.length-1&&(n(r+1),q())},M=()=>{r>0&&(n(r-1),q())},q=()=>{d(!1),f(!1),m(0)},J=()=>{const B=S[r];if(B!=null&&B.duration){const te=B.duration.match(/(\d+)/);if(te){const Z=parseInt(te[1]);m(Z*60),d(!0),f(!1)}}},X=()=>{c?f(!h):J()},F=B=>{const te=Math.floor(B/60),Z=B%60;return`${te}:${Z.toString().padStart(2,"0")}`},$=B=>{a(te=>{const Z=new Set(te);return Z.has(B)?Z.delete(B):Z.add(B),Z})},O=B=>{l(te=>{const Z=new Set(te);return Z.has(B)?Z.delete(B):Z.add(B),Z})},N=B=>{const te=B.toLowerCase(),Z={flour:"",sugar:"",butter:"",egg:"",chocolate:"",vanilla:"",baking:""};for(const[ie,Q]of Object.entries(Z))if(te.includes(ie))return Q;return""},R=s.size===e.ingredients.length,z=(r+1)/S.length*100;return o.jsx("div",{className:"fixed inset-0 z-50 bg-white overflow-hidden",children:o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 text-white px-3 py-2 sm:px-4 sm:py-3 flex items-center justify-between shadow-lg flex-shrink-0",children:[o.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[o.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold truncate",children:e.title}),o.jsxs("p",{className:"text-orange-100 text-[10px] sm:text-xs",children:["Step ",r+1," of ",S.length]})]}),o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[o.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>g(!w),className:"text-white hover:bg-white/20 h-8 w-8 sm:h-9 sm:w-9",children:w?o.jsx(xw,{className:"w-4 h-4 sm:w-5 sm:h-5"}):o.jsx(UE,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),o.jsx(Y,{variant:"ghost",size:"icon",onClick:t,className:"text-white hover:bg-white/20 h-8 w-8 sm:h-9 sm:w-9",children:o.jsx(Bt,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),o.jsx("div",{className:"w-full bg-gray-200 h-1 sm:h-1.5 flex-shrink-0",children:o.jsx("div",{className:"bg-orange-600 h-full transition-all duration-300",style:{width:`${z}%`}})}),o.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:o.jsxs("div",{className:"p-3 sm:p-4 md:p-6 space-y-3 sm:space-y-4 pb-24",children:[o.jsxs("div",{className:"relative w-full h-40 sm:h-48 md:h-64 rounded-lg sm:rounded-xl overflow-hidden shadow-lg flex-shrink-0",children:[o.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),o.jsxs("div",{className:"absolute bottom-2 left-2 right-2 sm:bottom-3 sm:left-3 sm:right-3 md:bottom-4 md:left-4 md:right-4",children:[o.jsx("h3",{className:"text-white text-base sm:text-lg md:text-xl font-bold drop-shadow-lg line-clamp-1",children:e.title}),o.jsxs("p",{className:"text-white/90 text-[10px] sm:text-xs md:text-sm mt-0.5 sm:mt-1 drop-shadow",children:[e.prepTime+e.cookTime," min  ",e.servings," servings"]})]})]}),o.jsxs("div",{className:`rounded-lg sm:rounded-xl p-3 sm:p-4 border-2 shadow-sm ${b?"bg-orange-50 border-orange-300":"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-300"}`,children:[o.jsx(Y,{onClick:()=>v(!b),className:`w-full font-semibold h-10 sm:h-11 text-sm sm:text-base ${b?"bg-orange-600 hover:bg-orange-700":"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700"}`,children:b?o.jsxs(o.Fragment,{children:[o.jsx(RE,{className:"w-4 h-4 mr-2"}),"Disable Voice Control"]}):o.jsxs(o.Fragment,{children:[o.jsx(hw,{className:"w-4 h-4 mr-2"}),"Enable Voice Control"]})}),o.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 text-center mt-2",children:b?'Say "Next", "Previous", "Repeat", or "Read ingredients"':"Navigate recipes hands-free with voice commands"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border-2 border-emerald-200 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Cs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-600"}),o.jsx("span",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:"Servings"})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx(Y,{variant:"outline",size:"sm",onClick:()=>y(Math.max(1,x-1)),className:"h-7 w-7 sm:h-8 sm:w-8 p-0",children:o.jsx(fw,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),o.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900 min-w-[1.5rem] sm:min-w-[2rem] text-center",children:x}),o.jsx(Y,{variant:"outline",size:"sm",onClick:()=>y(x+1),className:"h-7 w-7 sm:h-8 sm:w-8 p-0",children:o.jsx(Br,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]}),x!==e.servings&&o.jsxs("p",{className:"text-[10px] sm:text-xs text-emerald-700 mt-2 text-center",children:["Scaled from original ",e.servings," servings"]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border-2 border-blue-200 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[o.jsxs("h3",{className:"text-sm sm:text-base md:text-lg font-bold text-gray-900 flex items-center gap-2",children:[R?o.jsx(_l,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-600"}):o.jsx(vE,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400"}),"Ingredients"]}),o.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-600",children:[s.size,"/",e.ingredients.length]})]}),o.jsx("div",{className:"space-y-2",children:e.ingredients.map((B,te)=>o.jsxs("div",{className:`flex items-center gap-2 sm:gap-3 p-2 sm:p-2.5 rounded-lg transition-all ${s.has(te)?"bg-orange-100 border border-orange-300":"bg-white border border-gray-200"}`,children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-gray-100 flex items-center justify-center text-lg sm:text-xl flex-shrink-0",children:N(B.name)}),o.jsx(oi,{id:`ingredient-${te}`,checked:s.has(te),onCheckedChange:()=>$(te),className:"flex-shrink-0"}),o.jsxs("label",{htmlFor:`ingredient-${te}`,className:`text-xs sm:text-sm cursor-pointer flex-1 min-w-0 ${s.has(te)?"text-gray-500 line-through":"text-gray-900"}`,children:[o.jsxs("span",{className:"font-semibold",children:[B.quantity," ",B.unit]})," ",B.name]})]},te))})]}),o.jsx("div",{className:"touch-pan-y select-none",onTouchStart:T,onTouchMove:C,onTouchEnd:E,children:o.jsxs("div",{className:`bg-white rounded-lg sm:rounded-xl shadow-lg border-2 p-4 sm:p-6 md:p-8 transition-all ${i.has(r)?"border-orange-600 bg-orange-50":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[o.jsx(oi,{id:`step-${r}`,checked:i.has(r),onCheckedChange:()=>O(r),className:"w-5 h-5 sm:w-6 sm:h-6 flex-shrink-0"}),o.jsxs("h3",{className:`font-bold text-lg sm:text-xl md:text-2xl ${i.has(r)?"text-gray-500 line-through":"text-gray-900"}`,children:["Step ",r+1]})]}),((H=S[r])==null?void 0:H.duration)&&o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[o.jsxs(Y,{variant:"outline",size:"sm",onClick:X,className:`gap-1 sm:gap-2 h-8 sm:h-9 text-xs sm:text-sm px-2 sm:px-3 ${c&&!h?"border-orange-600 bg-orange-50":"border-blue-300"}`,children:[c&&!h?o.jsx(im,{className:"w-3 h-3 sm:w-4 sm:h-4"}):o.jsx(lm,{className:"w-3 h-3 sm:w-4 sm:h-4"}),o.jsx("span",{className:"hidden sm:inline",children:c&&!h?"Pause":"Start"})]}),c&&o.jsx(Y,{variant:"outline",size:"sm",onClick:q,className:"h-8 w-8 sm:h-9 sm:w-9 p-0",children:o.jsx(AE,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]}),c&&o.jsxs("div",{className:`mb-3 sm:mb-4 p-3 sm:p-4 md:p-6 rounded-lg sm:rounded-xl text-center ${p<=10?"bg-red-100 border-2 border-red-300 animate-pulse":"bg-orange-100 border-2 border-orange-300"}`,children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3",children:[o.jsx(pw,{className:`w-4 h-4 sm:w-5 sm:h-5 ${p<=10?"text-red-600":"text-orange-600"}`}),o.jsx("span",{className:`font-mono text-3xl sm:text-4xl md:text-5xl font-bold ${p<=10?"text-red-600":"text-orange-600"}`,children:F(p)})]}),h&&o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-2",children:"Timer paused"})]}),o.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700 leading-relaxed",children:S[r].instruction}),o.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 text-center mt-4 sm:mt-6",children:" Swipe left or right to navigate"})]})})]})}),o.jsx("div",{className:"bg-white border-t-2 border-gray-200 px-3 py-2 sm:px-4 sm:py-3 shadow-lg flex-shrink-0 safe-area-bottom",children:o.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3 max-w-4xl mx-auto",children:[o.jsxs(Y,{variant:"outline",size:"lg",onClick:M,disabled:r===0,className:"gap-1 sm:gap-2 text-xs sm:text-sm px-3 sm:px-4 h-10 sm:h-11",children:[o.jsx(Nh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"hidden xs:inline",children:"Previous"}),o.jsx("span",{className:"xs:hidden",children:"Prev"})]}),o.jsx("div",{className:"flex-1 text-center",children:o.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600",children:b?'Say "Next" or swipe':"Swipe to navigate"})}),o.jsxs(Y,{size:"lg",onClick:I,disabled:r===S.length-1,className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 gap-1 sm:gap-2 text-xs sm:text-sm px-3 sm:px-4 h-10 sm:h-11",children:[o.jsx("span",{children:"Next"}),o.jsx(_h,{className:"w-4 h-4 sm:w-5 sm:h-5"})]})]})})]})})}function Eb({recipe:e,open:t,onOpenChange:r}){var v,x;const{state:n,dispatch:s}=Bs(),[a,i]=u.useState(new Set),[l,c]=u.useState(!1),d=n.savedRecipes.some(y=>y.id===e.id),h=e.steps&&e.steps.length>0;if(l&&h)return o.jsx(Pm,{recipe:e,onClose:()=>c(!1)});const f=y=>{i(j=>{const _=new Set(j);return _.has(y)?_.delete(y):_.add(y),_})},p=()=>{d?(s({type:"REMOVE_RECIPE",payload:e.id}),D.success("Recipe removed from your collection")):(s({type:"SAVE_RECIPE",payload:e}),D.success("Recipe saved to your collection"))},m=()=>{e.ingredients.forEach(y=>{const j={id:`${e.id}-${y.name}-${Date.now()}`,name:y.name,quantity:parseFloat(y.quantity)||1,unit:y.unit,categoryId:"cat-7",checked:!1,sourceRecipeIds:[e.id]};s({type:"ADD_GROCERY_ITEM",payload:j})}),D.success("Ingredients added to grocery list")},w=()=>{const y={id:`${e.id}-${Date.now()}`,recipeId:e.id,date:new Date().toISOString().split("T")[0],mealType:e.mealType[0]||"Dinner",servings:e.servings};s({type:"ADD_MEAL_PLAN",payload:y}),D.success("Recipe added to meal plan")},g=()=>{d&&(s({type:"REMOVE_RECIPE",payload:e.id}),D.success("Recipe deleted"),r(!1))},b={Easy:"bg-orange-100 text-orange-700 border-orange-200",Medium:"bg-amber-100 text-amber-700 border-amber-200",Hard:"bg-red-100 text-red-700 border-red-200"};return o.jsx(_t,{open:t,onOpenChange:r,children:o.jsxs(vt,{className:"max-w-full w-full h-full max-h-full p-0 gap-0 overflow-hidden m-0 rounded-none",children:[o.jsx(Dt,{className:"sr-only",children:e.title}),o.jsx(Es,{className:"h-full",children:o.jsxs("div",{className:"relative",children:[o.jsx(Y,{variant:"ghost",size:"icon",className:"fixed top-3 right-3 z-50 bg-white/95 hover:bg-white shadow-lg rounded-full min-h-[44px] min-w-[44px] touch-manipulation active:scale-95",onClick:()=>r(!1),children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative w-full h-64 bg-gray-100",children:[o.jsx("img",{src:(v=e.imageUrl)!=null&&v.includes("instagram.com")||(x=e.imageUrl)!=null&&x.includes("cdninstagram.com")?`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(e.imageUrl.replace(/&amp;/g,"&"))}`:e.imageUrl,alt:e.title,className:"w-full h-full object-cover",loading:"lazy"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[o.jsx("h1",{className:"text-2xl font-bold mb-2 leading-tight pr-12",children:e.title}),o.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[o.jsx(Je,{className:"bg-white/95 text-gray-900 hover:bg-white text-xs",children:e.cuisineType}),o.jsx(Je,{variant:"outline",className:`${b[e.difficulty]} border text-xs`,children:e.difficulty}),e.dietaryTags.slice(0,2).map(y=>o.jsx(Je,{variant:"secondary",className:"bg-white/90 text-gray-900 text-xs",children:y},y)),e.dietaryTags.length>2&&o.jsxs(Je,{variant:"secondary",className:"bg-white/90 text-gray-900 text-xs",children:["+",e.dietaryTags.length-2]})]})]})]}),o.jsxs("div",{className:"p-4 pb-24",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 bg-gradient-to-br from-orange-50 to-amber-50 rounded-lg border border-orange-100",children:[o.jsx("div",{className:"bg-primary p-2 rounded-lg",children:o.jsx(tn,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Total"}),o.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[e.prepTime+e.cookTime,"m"]})]})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg border border-blue-100",children:[o.jsx("div",{className:"bg-blue-500 p-2 rounded-lg",children:o.jsx(Cs,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Serves"}),o.jsx("p",{className:"text-sm font-bold text-gray-900",children:e.servings})]})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg border border-amber-100",children:[o.jsx("div",{className:"bg-amber-500 p-2 rounded-lg",children:o.jsx(pw,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Prep"}),o.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[e.prepTime,"m"]})]})]})]}),h&&o.jsxs("div",{className:"mb-4",children:[o.jsxs(Y,{size:"lg",onClick:()=>c(!0),className:"w-full bg-accent hover:bg-accent/90 text-white text-base min-h-[52px] gap-2 shadow-lg hover:shadow-xl active:scale-[0.98] transition-all touch-manipulation",children:[o.jsx(xE,{className:"w-5 h-5"}),"Start Cooking"]}),o.jsx("p",{className:"text-center text-xs text-gray-600 mt-2 px-2",children:"Step-by-step mode with timers and ingredient checklist"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[o.jsxs(Y,{size:"lg",variant:d?"outline":"default",onClick:p,className:`gap-2 min-h-[48px] touch-manipulation active:scale-95 transition-all text-sm ${d?"border-2 border-secondary text-secondary hover:bg-orange-50":"bg-secondary hover:bg-secondary/90 text-white"}`,children:[o.jsx(jh,{className:`w-4 h-4 flex-shrink-0 ${d?"fill-current":""}`}),o.jsx("span",{className:"truncate",children:d?"Saved":"Save"})]}),o.jsxs(Y,{size:"lg",variant:"outline",onClick:w,className:"gap-2 border-2 hover:bg-blue-50 hover:border-blue-500 hover:text-blue-700 min-h-[48px] touch-manipulation active:scale-95 transition-all text-sm",children:[o.jsx(Bo,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Meal Plan"})]})]}),o.jsxs("div",{className:"flex gap-2 mb-6",children:[o.jsxs(Y,{variant:"outline",onClick:m,className:"flex-1 gap-2 hover:bg-orange-50 hover:border-primary hover:text-primary min-h-[44px] touch-manipulation active:scale-95 transition-all text-sm",children:[o.jsx(Is,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Grocery List"})]}),d&&o.jsx(Y,{variant:"outline",size:"icon",onClick:g,className:"hover:bg-rose-50 hover:border-rose-500 hover:text-rose-700 min-h-[44px] min-w-[44px] touch-manipulation active:scale-95 transition-all",children:o.jsx(Jt,{className:"w-4 h-4"})})]}),o.jsx(Cl,{className:"my-6"}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("div",{className:"bg-orange-100 p-2 rounded-lg",children:o.jsx(vo,{className:"w-4 h-4 text-primary"})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Ingredients"})]}),o.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-lg p-4",children:o.jsx("div",{className:"space-y-2",children:e.ingredients.map((y,j)=>o.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg hover:bg-orange-50 transition-colors min-h-[44px]",children:[o.jsx(oi,{id:`ingredient-${j}`,checked:a.has(j),onCheckedChange:()=>f(j),className:"mt-1.5 min-w-[20px] min-h-[20px] touch-manipulation"}),o.jsxs("label",{htmlFor:`ingredient-${j}`,className:`flex-1 text-sm text-gray-700 cursor-pointer leading-relaxed ${a.has(j)?"line-through text-gray-400":""}`,children:[o.jsxs("span",{className:"font-semibold text-primary",children:[y.quantity," ",y.unit]})," ",y.name]})]},j))})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:o.jsx(ts,{className:"w-4 h-4 text-blue-600"})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Instructions"})]}),o.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-lg p-4",children:o.jsx("ol",{className:"space-y-4",children:e.instructions.map((y,j)=>o.jsxs("li",{className:"flex gap-3",children:[o.jsx("div",{className:"flex-shrink-0 w-7 h-7 rounded-full bg-primary text-white flex items-center justify-center font-bold text-sm shadow-md",children:j+1}),o.jsx("p",{className:"text-sm text-gray-700 pt-0.5 leading-relaxed",children:y})]},j))})})]}),e.notes&&o.jsxs(o.Fragment,{children:[o.jsx(Cl,{className:"my-6"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Notes"}),o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:e.notes})})]})]}),e.sourceUrl&&o.jsxs(o.Fragment,{children:[o.jsx(Cl,{className:"my-6"}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:"Recipe Source"}),o.jsx("p",{className:"text-xs text-gray-600",children:"View original recipe"})]}),o.jsx(Y,{variant:"outline",size:"sm",asChild:!0,className:"gap-2 hover:bg-white min-h-[40px] touch-manipulation active:scale-95 transition-all w-full sm:w-auto",children:o.jsxs("a",{href:e.sourceUrl,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(Bc,{className:"w-4 h-4"}),"Visit Source"]})})]})]})]})]})})]})})}const y4="https://vohvdarghgqskzqjclux.supabase.co",w4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvaHZkYXJnaGdxc2t6cWpjbHV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4ODgwMDcsImV4cCI6MjA3ODQ2NDAwN30.6povbtgWFLTvq6lxVrqii_-PrOiLZrUo1n-BMlpK4gc",ht=nm(y4,w4);async function b4(e){if(!ht)return[];const{data:t,error:r}=await ht.from("reviews").select("*").eq("recipe_id",e).order("created_at",{ascending:!1});if(r)throw r;return await Promise.all((t||[]).map(async s=>{const{data:a}=await ht.from("review_images").select("id, image_url").eq("review_id",s.id);return{...s,images:a||[]}}))}async function j4(e,t){if(!ht)return null;const{data:r,error:n}=await ht.from("reviews").select("*").eq("recipe_id",e).eq("user_id",t).maybeSingle();if(n)throw n;if(!r)return null;const{data:s}=await ht.from("review_images").select("id, image_url").eq("review_id",r.id);return{...r,images:s||[]}}async function Rb(e){if(!ht)throw new Error("Supabase not configured");const r=`reviews/${`${Date.now()}-${Math.random().toString(36).substr(2,9)}-${e.name}`}`,{error:n}=await ht.storage.from("recipe-images").upload(r,e);if(n)throw n;const{data:s}=ht.storage.from("recipe-images").getPublicUrl(r);return s.publicUrl}async function N4(e,t,r,n){if(!ht)throw new Error("Supabase not configured");const{data:{user:s}}=await ht.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:a,error:i}=await ht.from("reviews").insert({recipe_id:e,user_id:s.id,rating:t,comment:r}).select().single();if(i)throw i;if(n.length>0){const l=await Promise.all(n.map(Rb)),{error:c}=await ht.from("review_images").insert(l.map(d=>({review_id:a.id,image_url:d})));if(c)throw c}try{const{data:l}=await ht.from("posts").select("id").eq("recipe_id",e);if(l&&l.length>0){const c=l[0].id,d="".repeat(t),h=r?` ${r}`:"";await ht.from("comments").insert({post_id:c,user_id:s.id,text:`${d}${h}`,rating:t})}}catch(l){console.error("Failed to add review as comment to social post:",l)}return a}async function _4(e,t,r,n){if(!ht)throw new Error("Supabase not configured");const{error:s}=await ht.from("reviews").update({rating:t,comment:r,updated_at:new Date().toISOString()}).eq("id",e);if(s)throw s;if(n.length>0){const a=await Promise.all(n.map(Rb)),{error:i}=await ht.from("review_images").insert(a.map(l=>({review_id:e,image_url:l})));if(i)throw i}return{id:e,rating:t,comment:r}}async function S4(e){if(!ht)return 0;const{data:t,error:r}=await ht.from("reviews").select("rating").eq("recipe_id",e);if(r)throw r;if(!t||t.length===0)return 0;const n=t.reduce((s,a)=>s+a.rating,0)/t.length;return Math.round(n*10)/10}const Sn=u.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:je("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Sn.displayName="Textarea";function k4({rating:e,size:t="md",interactive:r=!1,onRate:n}){const[s,a]=u.useState(0),i={sm:{text:"text-base",button:"w-8 h-8",gap:"gap-1"},md:{text:"text-xl",button:"w-10 h-10",gap:"gap-1.5"},lg:{text:"text-2xl",button:"w-12 h-12",gap:"gap-2"}}[t],l=c=>{r&&n&&n(c)};return o.jsx("div",{className:`flex ${i.gap}`,children:[1,2,3,4,5].map(c=>{const d=c<=(s||e);return o.jsx("button",{onClick:()=>l(c),onMouseEnter:()=>r&&a(c),onMouseLeave:()=>r&&a(0),disabled:!r,className:`
              flex items-center justify-center rounded-lg transition-all duration-200
              ${i.button}
              ${r?"cursor-pointer hover:scale-110 active:scale-95 touch-manipulation":"cursor-default"}
              ${r?"hover:bg-orange-50":""}
              ${i.text}
            `,"aria-label":`Rate ${c} out of 5`,children:o.jsx("span",{className:`transition-all duration-200 ${d?"opacity-100 scale-100":"opacity-20 grayscale scale-90"}`,children:""})},c)})})}function C4({recipe:e,open:t,onOpenChange:r,onReviewSubmitted:n}){const[s,a]=u.useState(0),[i,l]=u.useState(""),[c,d]=u.useState(!1),[h,f]=u.useState(null);u.useEffect(()=>{t&&p()},[t,e.id]);const p=async()=>{try{const w=localStorage.getItem("userId");if(!w)return;const g=await j4(e.id,w);g?(a(g.rating),l(g.comment||""),f(g.id)):(a(0),l(""),f(null))}catch(w){console.error("Failed to load existing review:",w)}},m=async()=>{if(s===0){D.error("Please select a rating");return}d(!0);try{h?(await _4(h,s,i,[]),D.success("Review updated successfully!")):(await N4(e.id,s,i,[]),D.success("Review submitted successfully!")),n==null||n(),r(!1),a(0),l("")}catch(w){console.error("Failed to submit review:",w),D.error("Failed to submit review. Please try again.")}finally{d(!1)}};return o.jsx(_t,{open:t,onOpenChange:r,children:o.jsx(vt,{className:"max-w-full w-full max-h-full h-full p-0 gap-0 m-0 rounded-none sm:max-w-2xl sm:max-h-[90vh] sm:rounded-lg sm:m-4",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs(Vt,{className:"px-4 py-4 border-b border-gray-200 flex-shrink-0",children:[o.jsx(Dt,{className:"text-xl",children:h?"Edit Your Review":"Write a Review"}),o.jsxs(Nr,{className:"text-sm",children:["Share your experience with ",e.title]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Your Rating"}),o.jsx("div",{className:"flex justify-center py-2",children:o.jsx(k4,{rating:s,size:"lg",interactive:!0,onRate:a})}),s>0&&o.jsx("p",{className:"text-center text-sm text-gray-600 mt-2",children:s===5?" Amazing!":s===4?" Great!":s===3?" Good":s===2?" Okay":" Not great"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:"Comments (Optional)"}),o.jsx(Sn,{value:i,onChange:w=>l(w.target.value),placeholder:"Share your experience with this recipe... What did you love? Any tips for others?",className:"min-h-32 text-base resize-none",disabled:c,maxLength:500}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[i.length,"/500 characters"]})]})]})}),o.jsx("div",{className:"px-4 py-4 border-t border-gray-200 flex-shrink-0 bg-white",children:o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 sm:justify-end",children:[o.jsx(Y,{variant:"outline",onClick:()=>r(!1),disabled:c,className:"w-full sm:w-auto min-h-[48px] touch-manipulation active:scale-95 transition-all",children:"Cancel"}),o.jsx(Y,{onClick:m,disabled:c||s===0,className:"w-full sm:w-auto min-h-[48px] bg-accent hover:bg-accent/90 touch-manipulation active:scale-95 transition-all",children:c?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):h?"Update Review":"Submit Review"})]})})]})})})}function Oh({recipe:e,onSave:t,onCook:r,onDelete:n,showReviewButton:s=!1,isAdmin:a=!1}){var k,T,C;const{state:i}=Bs(),[l,c]=u.useState(!1),[d,h]=u.useState(!1),[f,p]=u.useState(0),[m,w]=u.useState(0),[g,b]=u.useState(null),v=e.prepTime+e.cookTime,x=i.savedRecipes.some(E=>E.id===e.id),y={Easy:"bg-orange-100 text-orange-700 border-orange-200",Medium:"bg-amber-100 text-amber-700 border-amber-200",Hard:"bg-red-100 text-red-700 border-red-200"},j=async()=>{try{const E=await b4(e.id);w(E.length);const I=await S4(e.id);p(I)}catch(E){console.error("Failed to load review data:",E)}},_=async()=>{try{let E=null;const{data:I,error:M}=await L.from("posts").select("*").eq("recipe_id",e.id).maybeSingle();if(console.log("[RecipeCard] Search by recipe_id:",e.id,"Found:",I?"YES":"NO","Error:",M),I)E=I;else{const{data:q}=await L.from("public_recipes").select("video_url").eq("id",e.id).maybeSingle();if(console.log("[RecipeCard] Search by video_url. Recipe DB entry:",q==null?void 0:q.video_url),q!=null&&q.video_url){const{data:J}=await L.from("posts").select("*").eq("recipe_url",q.video_url).maybeSingle();console.log("[RecipeCard] Found post by URL:",J?"YES":"NO"),E=J}}if(E){const{data:q}=await L.from("profiles").select("username, avatar_url").eq("id",E.user_id).maybeSingle(),{data:J}=await L.from("likes").select("user_id").eq("post_id",E.id),{count:X}=await L.from("comments").select("*",{count:"exact",head:!0}).eq("post_id",E.id);b({...E,profiles:q,_count:{likes:(J==null?void 0:J.length)||0,comments:X||0}}),console.log("[RecipeCard]  Social post loaded for recipe:",e.id,"Post ID:",E.id)}else console.log("[RecipeCard]  No social post found for recipe:",e.id)}catch(E){console.error("[RecipeCard] Failed to load social post:",E)}};u.useEffect(()=>{j(),_()},[e.id]),u.useEffect(()=>{console.log("[RecipeCard] Recipe:",e.id,"Review count:",m,"Social post:",g?"EXISTS":"NULL")},[m,g]);const S=E=>{if(E.stopPropagation(),!g){console.error("[RecipeCard] No social post available");return}console.log("[RecipeCard]  Opening post:",g.id),window.dispatchEvent(new CustomEvent("open-shared-post",{detail:g.id})),window.__pendingSharedPostId=g.id,setTimeout(()=>{delete window.__pendingSharedPostId},2e3),window.location.pathname!=="/discover"&&(console.log("[RecipeCard] Navigating to /discover"),window.history.pushState({},"","/discover"),window.dispatchEvent(new CustomEvent("navigate",{detail:"discover"})))};return o.jsxs(o.Fragment,{children:[o.jsxs(He,{className:"group overflow-hidden hover:shadow-xl transition-all duration-300 border-0 bg-white cursor-pointer active:scale-[0.98] flex flex-col h-full",onClick:()=>c(!0),children:[o.jsxs("div",{className:"relative overflow-hidden aspect-square",children:[o.jsx("img",{src:(k=e.imageUrl)!=null&&k.includes("instagram.com")||(T=e.imageUrl)!=null&&T.includes("cdninstagram.com")?`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(e.imageUrl.replace(/&amp;/g,"&"))}`:e.imageUrl,alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[x&&o.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-full p-2 shadow-lg",children:o.jsx(jh,{className:"w-4 h-4 text-rose-500 fill-rose-500"})}),a&&n&&o.jsx("button",{onClick:E=>{E.stopPropagation(),confirm("Are you sure you want to delete this recipe?")&&n(e.id)},className:"bg-red-600/95 backdrop-blur-sm rounded-full p-2.5 shadow-lg hover:bg-red-700 active:scale-95 transition-all touch-manipulation",children:o.jsx(Jt,{className:"w-4 h-4 text-white"})})]})]}),o.jsxs(Xe,{className:"p-4 space-y-3 flex-1",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Je,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 font-medium text-xs",children:e.cuisineType}),o.jsx("h3",{className:"font-bold text-gray-900 leading-tight text-sm sm:text-base lg:text-lg xl:text-xl hyphens-auto break-words",children:Or(e.title)})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(tn,{className:"w-4 h-4 flex-shrink-0"}),o.jsxs("span",{className:"font-medium whitespace-nowrap",children:[v," min"]})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(ts,{className:"w-4 h-4 flex-shrink-0"}),o.jsx(Je,{variant:"outline",className:`text-xs ${y[e.difficulty]}`,children:e.difficulty})]})]}),e.dietaryTags.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[e.dietaryTags.slice(0,3).map(E=>o.jsx(Je,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:E},E)),e.dietaryTags.length>3&&o.jsxs(Je,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:["+",e.dietaryTags.length-3]})]})]}),o.jsxs(kw,{className:"p-3 sm:p-4 pt-0 flex flex-col gap-2",children:[o.jsxs(Y,{variant:x?"default":"outline",size:"sm",className:`w-full min-h-[44px] touch-manipulation active:scale-95 transition-all text-xs sm:text-sm ${x?"bg-secondary hover:bg-secondary/90 text-white":"border-gray-300 hover:bg-primary hover:text-white"}`,onClick:E=>{E.stopPropagation(),t==null||t(e.id)},children:[o.jsx(jh,{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 flex-shrink-0 ${x?"fill-white":""}`}),o.jsx("span",{className:"truncate text-xs sm:text-sm leading-tight",children:x?"Saved":"Save Recipe"})]}),o.jsxs(Y,{size:"sm",className:"w-full min-h-[44px] bg-accent hover:bg-accent/90 text-white shadow-md hover:shadow-lg active:scale-95 transition-all touch-manipulation text-xs sm:text-sm",onClick:E=>{E.stopPropagation(),r==null||r(e.id)},children:[o.jsx(wE,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 flex-shrink-0"}),o.jsx("span",{className:"leading-tight",children:"Cook"})]}),s&&o.jsxs(Y,{variant:"outline",size:"sm",className:"w-full min-h-[44px] border-gray-300 hover:bg-orange-50 hover:border-primary active:scale-95 transition-all touch-manipulation text-xs sm:text-sm",onClick:E=>{E.stopPropagation(),h(!0)},children:[o.jsx("span",{className:"text-sm sm:text-base mr-1.5 sm:mr-2 flex-shrink-0",children:""}),m>0?o.jsxs("span",{className:"flex items-center gap-1.5 sm:gap-2 truncate min-w-0 leading-tight",children:[o.jsx("span",{className:"font-semibold",children:f.toFixed(1)}),o.jsxs("span",{className:"text-gray-500 truncate text-xs sm:text-sm",children:["(",m,")"]})]}):o.jsx("span",{className:"leading-tight",children:"Write Review"})]}),s&&g&&o.jsxs(Y,{variant:"outline",size:"sm",className:"w-full min-h-[44px] border-orange-300 text-orange-600 hover:bg-orange-50 hover:border-orange-500 active:scale-95 transition-all touch-manipulation text-xs sm:text-sm",onClick:S,children:[o.jsx("span",{className:"text-sm sm:text-base mr-1.5 sm:mr-2 flex-shrink-0",children:""}),o.jsxs("span",{className:"flex items-center gap-1.5 sm:gap-2 truncate min-w-0 leading-tight",children:[o.jsx("span",{children:"See Reviews"}),((C=g._count)==null?void 0:C.comments)>0&&o.jsx("span",{className:"text-xs bg-orange-100 px-1.5 sm:px-2 py-0.5 rounded-full font-semibold flex-shrink-0",children:g._count.comments})]})]})]})]}),o.jsx(Eb,{recipe:e,open:l,onOpenChange:c}),o.jsx(C4,{recipe:e,open:d,onOpenChange:h,onReviewSubmitted:()=>{j()}})]})}const nt=u.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:je("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));nt.displayName="Input";const E4="https://vohvdarghgqskzqjclux.supabase.co",R4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvaHZkYXJnaGdxc2t6cWpjbHV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4ODgwMDcsImV4cCI6MjA3ODQ2NDAwN30.6povbtgWFLTvq6lxVrqii_-PrOiLZrUo1n-BMlpK4gc",Si=nm(E4,R4);function Tm(e){return{id:e.id,title:e.title,ingredients:e.ingredients,instructions:e.instructions,prepTime:e.prep_time,cookTime:e.cook_time,servings:e.servings,tags:e.tags||[],cuisineType:e.cuisine_type,difficulty:e.difficulty,dietaryTags:e.dietary_tags||[],mealType:e.meal_type||[],imageUrl:e.image_url,videoUrl:e.video_url,sourceUrl:e.source_url,notes:e.notes,isSaved:!1}}function P4(e){return{title:e.title,ingredients:e.ingredients,instructions:e.instructions,prep_time:e.prepTime,cook_time:e.cookTime,servings:e.servings,tags:e.tags||[],cuisine_type:e.cuisineType,difficulty:e.difficulty,dietary_tags:e.dietaryTags||[],meal_type:e.mealType||[],image_url:e.imageUrl,video_url:e.videoUrl,source_url:e.sourceUrl,notes:e.notes,is_public:!0}}async function T4(e){const t=P4(e);console.log("[createRecipe] Attempting to insert:",t);const{data:r,error:n}=await Si.from("public_recipes").insert(t).select().single();if(n)throw console.error("Error creating recipe:",n),console.error("Error details:",{message:n.message,details:n.details,hint:n.hint,code:n.code}),console.error("Supabase request failed",n),new Error(n.message||"Failed to create recipe");return Tm(r)}async function Pb(){const{data:e,error:t}=await Si.from("public_recipes").select("*").eq("is_public",!0).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching recipes:",t),new Error("Failed to fetch recipes");return(e||[]).map(Tm)}async function A4(e){const{data:t,error:r}=await Si.from("public_recipes").select("*").eq("id",e).maybeSingle();return r?(console.error("Error fetching recipe:",r),null):t?Tm(t):null}async function Tb(e){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))throw new Error("Cannot delete mock recipes - only database recipes can be deleted");const{error:r}=await Si.from("public_recipes").delete().eq("id",e);if(r)throw console.error("Error deleting recipe:",r),new Error("Failed to delete recipe")}const Am=Object.freeze(Object.defineProperty({__proto__:null,createRecipe:T4,deleteRecipe:Tb,getAllPublicRecipes:Pb,getRecipeById:A4,supabase:Si},Symbol.toStringTag,{value:"Module"})),O4="modulepreload",I4=function(e){return"/"+e},mx={},yo=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=I4(c),c in mx)return;mx[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":O4,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function td({postId:e,isOpen:t,onClose:r,onCommentPosted:n}){const[s,a]=u.useState([]),[i,l]=u.useState(""),[c,d]=u.useState(!1),[h,f]=u.useState(!1),[p,m]=u.useState(null),[w,g]=u.useState(0),[b,v]=u.useState(0),[x,y]=u.useState(0),[j,_]=u.useState(0),[S,k]=u.useState(null),[T,C]=u.useState(!1),[E,I]=u.useState(null);u.useEffect(()=>{t&&e&&(M(),q(),J(),L.auth.getUser().then(({data:N})=>{var R,z;m(((R=N.user)==null?void 0:R.id)||null),(z=N.user)!=null&&z.id&&X(N.user.id)}))},[t,e]);const M=async()=>{if(e)try{const{data:N,error:R}=await L.from("posts").select("*").eq("id",e).maybeSingle();if(R)throw R;k(N),N!=null&&N.spotify_preview_url&&setTimeout(()=>{const z=document.getElementById(`modal-audio-${e}`);z&&(z.play().catch(H=>console.log("Auto-play prevented:",H)),C(!0))},500)}catch(N){console.error("Error loading post:",N)}},q=async()=>{if(e){d(!0);try{const{data:N,error:R}=await L.from("comments").select("*").eq("post_id",e).order("created_at",{ascending:!0});if(R)throw console.error("Error loading comments:",R),R;if(!N||N.length===0){a([]);return}const z=[...new Set(N.map(ie=>ie.user_id))],{data:H,error:B}=await L.from("profiles").select("id, username, avatar_url").in("id",z);if(B)throw console.error("Error loading profiles:",B),B;const te=new Map((H||[]).map(ie=>[ie.id,ie])),Z=N.map(ie=>({...ie,profiles:te.get(ie.user_id)||{username:"Unknown User",avatar_url:null}}));a(Z)}catch(N){console.error("Error loading comments:",N),D.error("Failed to load comments")}finally{d(!1)}}},J=async()=>{if(e)try{const{data:N,error:R}=await L.from("post_ratings").select("rating").eq("post_id",e);if(R)throw R;if(N&&N.length>0){const z=N.reduce((H,B)=>H+B.rating,0)/N.length;y(z),_(N.length)}else y(0),_(0)}catch(N){console.error("Error loading ratings:",N)}},X=async N=>{if(e)try{const{data:R,error:z}=await L.from("post_ratings").select("rating").eq("post_id",e).eq("user_id",N).maybeSingle();if(z)throw z;g((R==null?void 0:R.rating)||0)}catch(R){console.error("Error loading user rating:",R)}},F=async N=>{if(!p){D.error("Please log in to rate");return}try{const{error:R}=await L.from("post_ratings").upsert({post_id:e,user_id:p,rating:N},{onConflict:"post_id,user_id"});if(R)throw R;g(N),await J(),n&&n(),D.success("Rating submitted!")}catch(R){console.error("Error submitting rating:",R),D.error("Failed to submit rating")}},$=async N=>{if(N.preventDefault(),!(!i.trim()||!p)){f(!0);try{const{data:R}=await L.from("posts").select("user_id").eq("id",e).maybeSingle(),{error:z}=await L.from("comments").insert({post_id:e,user_id:p,text:i.trim()});if(z)throw z;if(R&&R.user_id!==p){console.log("[Notifications] Sending comment notification:",{user_id:R.user_id,actor_id:p,type:"comment",post_id:e});const{data:H,error:B}=await L.from("notifications").insert({user_id:R.user_id,actor_id:p,type:"comment",post_id:e});B?console.error("[Notifications] Error sending comment notification:",B):console.log("[Notifications] Comment notification sent successfully:",H)}l(""),await q(),D.success("Comment posted!"),n&&n(),r()}catch(R){console.error("Error posting comment:",R),D.error("Failed to post comment")}finally{f(!1)}}},O=()=>{const N=document.getElementById(`modal-audio-${e}`);N&&(T?N.pause():N.play(),C(!T))};return!S&&c?o.jsx(_t,{open:t,onOpenChange:r,children:o.jsx(vt,{className:"max-w-lg w-[95vw] h-[90vh] flex items-center justify-center p-0 gap-0 z-[9999] overflow-hidden",children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading post..."})]})})}):o.jsx(_t,{open:t,onOpenChange:r,children:o.jsx(vt,{className:"max-w-lg w-[95vw] h-[90vh] sm:max-h-[85vh] p-0 gap-0 overflow-hidden z-[9999] flex flex-col",children:o.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[o.jsxs("div",{className:"w-full h-[35vh] sm:h-[40vh] bg-black flex items-center justify-center relative overflow-hidden flex-shrink-0",children:[S!=null&&S.image_url?o.jsx("img",{src:S.image_url,alt:S.title||"Post",className:"w-full h-full object-contain"}):o.jsx("div",{className:"text-white text-center",children:o.jsx("p",{children:"No image available"})}),o.jsx("button",{onClick:r,className:"absolute top-2 right-2 w-8 h-8 bg-black/70 backdrop-blur-sm text-white rounded-full flex items-center justify-center hover:bg-black/90 z-10",children:o.jsx(Bt,{className:"w-5 h-5"})}),(S==null?void 0:S.spotify_preview_url)&&o.jsxs("div",{className:"absolute bottom-2 left-2 right-2 z-10",children:[o.jsxs("button",{onClick:O,className:"bg-black/70 hover:bg-black/90 backdrop-blur-sm text-white px-2 py-1.5 sm:px-3 sm:py-2 rounded-full shadow-lg transition-all flex items-center gap-2 w-full",children:[T?o.jsx(im,{className:"w-4 h-4 sm:w-5 sm:h-5"}):o.jsx(lm,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsxs("div",{className:"text-left text-[10px] sm:text-xs flex-1 min-w-0",children:[o.jsx("div",{className:"font-semibold truncate",children:S.spotify_track_name}),o.jsx("div",{className:"text-white/80 truncate",children:S.spotify_artist_name})]})]}),o.jsx("audio",{id:`modal-audio-${e}`,src:S.spotify_preview_url})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col bg-white min-h-0",children:[o.jsxs("div",{className:"px-3 py-2 sm:px-4 sm:py-3 border-b flex-shrink-0",children:[o.jsx("h3",{className:"font-bold text-sm sm:text-base truncate",children:(S==null?void 0:S.title)||"Post"}),(S==null?void 0:S.caption)&&o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-0.5 line-clamp-2",children:S.caption})]}),o.jsx("div",{className:"px-3 py-2 sm:px-4 sm:py-3 border-b flex-shrink-0",children:o.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(N=>o.jsx("span",{className:`text-sm sm:text-base ${N<=x?"opacity-100":"opacity-20 grayscale"}`,children:""},N))}),o.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 whitespace-nowrap",children:[x>0?x.toFixed(1):"No ratings",j>0&&` (${j})`]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-xs sm:text-sm text-gray-700 font-medium",children:"Your rating:"}),o.jsx("div",{className:"flex items-center gap-0.5 sm:gap-1",children:[1,2,3,4,5].map(N=>o.jsx("button",{type:"button",onClick:()=>F(N),onMouseEnter:()=>v(N),onMouseLeave:()=>v(0),className:"transition-transform active:scale-110 touch-manipulation p-1",children:o.jsx("span",{className:`text-base sm:text-lg ${N<=(b||w)?"opacity-100":"opacity-20 grayscale"}`,children:""})},N))})]})]})}),((S==null?void 0:S.recipe_id)||(S==null?void 0:S.recipe_url))&&o.jsx("div",{className:"px-3 py-2 sm:px-4 sm:py-3 border-b flex-shrink-0",children:o.jsxs(Y,{onClick:async()=>{if(S.recipe_id){const{getRecipeById:N}=await yo(async()=>{const{getRecipeById:z}=await Promise.resolve().then(()=>Am);return{getRecipeById:z}},void 0),R=await N(S.recipe_id);R?I(R):D.error("Recipe not found")}else S.recipe_url&&window.open(S.recipe_url,"_blank")},variant:"outline",size:"sm",className:"w-full border-orange-600 text-orange-600 hover:bg-orange-50",children:[o.jsx(Bc,{className:"w-4 h-4 mr-2"}),"View Recipe"]})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-2 sm:px-4 sm:py-3 space-y-2 sm:space-y-3 min-h-[100px] max-h-[30vh] sm:max-h-none",children:c?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"})}):s.length===0?o.jsx("div",{className:"text-center py-8 sm:py-12 text-gray-500 text-xs sm:text-sm",children:"No comments yet. Be the first to comment!"}):s.map(N=>{var R,z,H,B,te;return o.jsxs("div",{className:"flex gap-2 sm:gap-3 group",children:[(R=N.profiles)!=null&&R.avatar_url?o.jsx("img",{src:N.profiles.avatar_url,alt:N.profiles.username,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full object-cover flex-shrink-0"}):o.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-white font-medium text-xs flex-shrink-0",children:(B=(H=(z=N.profiles)==null?void 0:z.username)==null?void 0:H[0])==null?void 0:B.toUpperCase()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"bg-gray-100 rounded-2xl px-3 py-2 relative",children:[o.jsx("button",{onClick:()=>{var Z;return window.location.href=`/${((Z=N.profiles)==null?void 0:Z.username)||"user"}`},className:"font-semibold text-xs sm:text-sm hover:underline",children:(te=N.profiles)==null?void 0:te.username}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-700 break-words mt-0.5",children:N.text}),p===N.user_id&&o.jsx("button",{onClick:async()=>{if(confirm("Delete this comment?"))try{const{error:Z}=await L.from("comments").delete().eq("id",N.id).eq("user_id",p);if(Z)throw Z;await q(),D.success("Comment deleted"),n&&n()}catch(Z){console.error("Error deleting comment:",Z),D.error("Failed to delete comment")}},className:"absolute top-1 right-1 p-1.5 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity touch-manipulation",title:"Delete comment",children:o.jsx(Bt,{className:"w-3 h-3"})})]}),o.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 mt-1 px-3",children:new Date(N.created_at).toLocaleDateString()})]})]},N.id)})}),o.jsx("form",{onSubmit:$,className:"border-t px-3 py-3 sm:px-4 sm:py-4 bg-white flex-shrink-0 sticky bottom-0",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(nt,{value:i,onChange:N=>l(N.target.value),placeholder:"Add a comment...",disabled:h,className:"flex-1 text-xs sm:text-sm h-9 sm:h-10"}),o.jsx(Y,{type:"submit",disabled:!i.trim()||h,size:"icon",className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 flex-shrink-0 h-9 w-9 sm:h-10 sm:w-10",children:o.jsx(Eo,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]})})]})]})})})}function M4({onNavigate:e}){const{state:t,dispatch:r}=Bs(),{isAdmin:n}=zc(),[s,a]=u.useState(""),[i,l]=u.useState(null),[c,d]=u.useState(null),[h,f]=u.useState([]),[p,m]=u.useState(null),[w,g]=u.useState(window.innerWidth<768),[b,v]=u.useState(!1);u.useEffect(()=>{const U=()=>g(window.innerWidth<768);return window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]),u.useEffect(()=>{const U=A=>{m(A.detail)};return window.addEventListener("open-shared-post",U),()=>{window.removeEventListener("open-shared-post",U)}},[]),u.useEffect(()=>{const U=async()=>{try{console.log("[Discover] Loading recipes from database...");const V=await Pb();console.log("[Discover] Loaded",V.length,"recipes from database"),f(V)}catch(V){console.error("Failed to load recipes:",V),f([])}};U();const A=()=>{document.visibilityState==="visible"&&U()};return document.addEventListener("visibilitychange",A),()=>{document.removeEventListener("visibilitychange",A)}},[]);const x=async U=>{try{await Tb(U),f(h.filter(A=>A.id!==U)),D.success("Recipe deleted successfully")}catch(A){console.error("Failed to delete recipe:",A),D.error("Failed to delete recipe")}},y=u.useMemo(()=>{const U=new Set(h.map(A=>A.cuisineType));return Array.from(U).sort()},[h]),j=u.useMemo(()=>h.filter(U=>{const A=s===""||U.title.toLowerCase().includes(s.toLowerCase())||U.tags.some(se=>se.toLowerCase().includes(s.toLowerCase()))||U.ingredients.some(se=>se.name.toLowerCase().includes(s.toLowerCase())),V=!i||U.cuisineType===i;return A&&V}),[s,i,h]),[_,S]=u.useState(!1),[k,T]=u.useState(!1),[C,E]=u.useState(!1),[I,M]=u.useState(!1),[q,J]=u.useState(!1),[X,F]=u.useState(!1),$=u.useMemo(()=>{const U=[...h].sort((A,V)=>(V.popularity||0)-(A.popularity||0));return _?U:U.slice(0,w?6:12)},[h,_,w]),O=u.useMemo(()=>{const U=h.filter(A=>A.prepTime+A.cookTime<=30&&A.difficulty==="Easy");return k?U:U.slice(0,w?6:12)},[h,k,w]),N=u.useMemo(()=>{const U=h.filter(A=>A.dietaryTags.includes("Vegetarian")||A.dietaryTags.includes("Vegan"));return C?U:U.slice(0,w?6:12)},[h,C,w]),R=u.useMemo(()=>{const U=["Thai","Japanese","Korean","Indian","Middle Eastern","Mexican","Vietnamese","Vegan/Vegetarian"],A=h.filter(V=>U.includes(V.cuisineType));return I?A:A.slice(0,w?6:12)},[h,I,w]),z=u.useMemo(()=>{const U=h.filter(A=>A.cuisineType==="Pet Meals");return q?U:U.slice(0,w?6:12)},[h,q,w]),H=u.useMemo(()=>{const U=h.filter(A=>A.cuisineType==="Culinary/Baked Goods");return X?U:U.slice(0,w?6:12)},[h,X,w]),[B,te]=u.useState([]);u.useEffect(()=>{(()=>{const A=L2(h,t.savedRecipes,t.userPreferences,6);te(A)})()},[h,t.savedRecipes,t.userPreferences,w]);const Z=u.useMemo(()=>U2(t.savedRecipes),[t.savedRecipes]),ie=U=>{const A=h.find(V=>V.id===U);if(A){const V=t.savedRecipes.some(se=>se.id===U);r(V?{type:"REMOVE_RECIPE",payload:U}:{type:"SAVE_RECIPE",payload:A})}},Q=U=>{const A=h.find(V=>V.id===U);A&&(console.log("Cook clicked for:",A.title),d(A))},me=({title:U,subtitle:A,icon:V,recipes:se,showAll:ge,onToggle:ke,allCount:Pe,buttonColor:Te})=>o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:`bg-gradient-to-r ${Te} p-2 rounded-lg`,children:o.jsx(V,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:U}),o.jsx("p",{className:"text-sm md:text-base text-gray-600",children:A})]})]}),o.jsx("div",{className:`grid gap-4 md:gap-6 auto-rows-fr ${w?"grid-cols-2":"grid-cols-2 md:grid-cols-3 lg:grid-cols-4"}`,children:se.map(K=>o.jsx(Oh,{recipe:K,onSave:ie,onCook:Q,onDelete:x,isAdmin:n,showReviewButton:!0},K.id))}),Pe>(w?6:12)&&o.jsx("div",{className:"text-center mt-8",children:o.jsx(Y,{onClick:()=>ke(!ge),variant:"outline",size:"lg",className:"text-sm md:text-base",children:ge?"Show Less":"Show More"})})]});return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[o.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[o.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-900 mb-3 md:mb-4",children:"Discover Amazing Recipes"}),o.jsxs("p",{className:"text-sm md:text-base text-gray-600 max-w-2xl mx-auto mb-2",children:["Recipes scraped from across ",o.jsx("span",{className:"font-semibold text-blue-600",children:"social media"})," and the ",o.jsx("span",{className:"font-semibold text-blue-600",children:"web"})]}),o.jsx("p",{className:"text-xs md:text-sm text-gray-500 max-w-2xl mx-auto",children:"Save recipes  Add your own recipes  Plan your meals"})]}),o.jsxs("div",{className:"mb-8 md:mb-12 space-y-4 md:space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx(mw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx(nt,{type:"text",placeholder:"Search recipes, ingredients...",value:s,onChange:U=>a(U.target.value),className:"pl-12 h-12 md:h-14 text-base border-gray-300 focus:border-orange-500 focus:ring-orange-500 shadow-sm"})]}),w?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>v(!b),className:"w-full flex items-center justify-between px-4 py-3 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[o.jsx("span",{className:"font-medium text-gray-900",children:i?`Cuisine: ${i}`:"Filter by Cuisine"}),b?o.jsx(Bt,{className:"w-5 h-5"}):o.jsx(om,{className:"w-5 h-5"})]}),b&&o.jsxs("div",{className:"space-y-2 bg-white border border-gray-200 rounded-lg p-3",children:[o.jsx(Y,{variant:i===null?"default":"outline",onClick:()=>{l(null),v(!1)},size:"sm",className:`w-full justify-start ${i===null?"bg-orange-500 hover:bg-orange-600":""}`,children:"All Cuisines"}),y.map(U=>o.jsx(Y,{variant:i===U?"default":"outline",onClick:()=>{l(U),v(!1)},size:"sm",className:`w-full justify-start text-sm ${i===U?"bg-orange-500 hover:bg-orange-600":""}`,children:U},U))]})]}):o.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[o.jsx(Y,{variant:i===null?"default":"outline",onClick:()=>l(null),size:"sm",className:i===null?"bg-orange-500 hover:bg-orange-600":"",children:"All Cuisines"}),y.map(U=>o.jsx(Y,{variant:i===U?"default":"outline",onClick:()=>l(U),size:"sm",className:i===U?"bg-orange-500 hover:bg-orange-600":"",children:U},U))]})]}),s===""&&i===null?o.jsxs("div",{className:"space-y-12 md:space-y-16",children:[o.jsx(me,{title:"Trending Now",subtitle:"Most popular recipes this week",icon:IE,recipes:$,showAll:_,onToggle:S,allCount:h.length,buttonColor:"from-orange-500 to-rose-500"}),o.jsx(me,{title:"Quick & Easy",subtitle:"Delicious meals ready in 30 minutes or less",icon:FE,recipes:O,showAll:k,onToggle:T,allCount:h.filter(U=>U.prepTime+U.cookTime<=30&&U.difficulty==="Easy").length,buttonColor:"from-emerald-500 to-teal-500"}),o.jsx(me,{title:"Healthy Options",subtitle:"Vegetarian and vegan recipes for a lighter meal",icon:SE,recipes:N,showAll:C,onToggle:E,allCount:h.filter(U=>U.dietaryTags.includes("Vegetarian")||U.dietaryTags.includes("Vegan")).length,buttonColor:"from-green-500 to-emerald-500"}),o.jsx(me,{title:"International Flavors",subtitle:"Explore cuisines from around the world",icon:uw,recipes:R,showAll:I,onToggle:M,allCount:h.filter(U=>["Thai","Japanese","Korean","Indian","Middle Eastern","Mexican","Vietnamese"].includes(U.cuisineType)).length,buttonColor:"from-amber-500 to-orange-500"}),z.length>0&&o.jsx(me,{title:"Pet Meals & Treats",subtitle:"Homemade recipes for your furry friends",icon:sm,recipes:z,showAll:q,onToggle:J,allCount:h.filter(U=>U.cuisineType==="Pet Meals").length,buttonColor:"from-pink-500 to-rose-500"}),H.length>0&&o.jsx(me,{title:"Culinary & Baked Goods",subtitle:"From artisan breads to elegant pastries",icon:gE,recipes:H,showAll:X,onToggle:F,allCount:h.filter(U=>U.cuisineType==="Culinary/Baked Goods").length,buttonColor:"from-amber-500 to-orange-500"}),o.jsx(me,{title:"Recommended for You",subtitle:Z,icon:OE,recipes:B,showAll:!1,onToggle:()=>{},allCount:B.length,buttonColor:"from-blue-500 to-cyan-500"})]}):o.jsxs("section",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Search Results"}),o.jsxs("p",{className:"text-gray-600",children:["Found ",j.length," recipe",j.length!==1?"s":""]})]}),j.length>0?o.jsx("div",{className:`grid gap-4 md:gap-6 auto-rows-fr ${w?"grid-cols-2":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}`,children:j.map(U=>o.jsx(Oh,{recipe:U,onSave:ie,onCook:Q,onDelete:x,isAdmin:n,showReviewButton:!0},U.id))}):o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-lg text-gray-500",children:"No recipes found. Try adjusting your search."})})]})]}),c&&o.jsx(Pm,{recipe:c,onClose:()=>d(null)}),p&&o.jsx(td,{postId:p,isOpen:!!p,onClose:()=>m(null),onCommentPosted:()=>{}})]})}function D4(e){if(!e)return[];const t=/#(\w+)/g,r=e.match(t);return r?r.map(n=>n.slice(1).toLowerCase()).filter((n,s,a)=>a.indexOf(n)===s):[]}function $4(e,t){return e&&e.split(/(\s+)/g).map((n,s)=>{if(n.startsWith("#")){const a=n.slice(1);return re.createElement("span",{key:s,onClick:i=>{i.stopPropagation(),t(a)},className:"text-blue-600 hover:text-blue-700 cursor-pointer font-semibold"},n)}return n.startsWith("http://")||n.startsWith("https://")?re.createElement("a",{key:s,href:n,target:"_blank",rel:"noopener noreferrer",onClick:a=>a.stopPropagation(),className:"text-blue-600 hover:underline"},n):re.createElement("span",{key:s},n)})}function L4({userId:e,currentUserId:t,posts:r,isFollowing:n,onBack:s,onToggleFollow:a,onMessage:i,onRefresh:l}){var $,O;const c=r.filter(N=>N.user_id===e),[d,h]=u.useState(null),[f,p]=u.useState(null),[m,w]=u.useState(new Set),[g,b]=u.useState(0),[v,x]=u.useState(0),[y,j]=u.useState(!1),[_,S]=u.useState(!1),[k,T]=u.useState([]),[C,E]=u.useState([]),[I,M]=u.useState(null);u.useEffect(()=>{const N=async()=>{const{data:H}=await L.from("profiles").select("username, avatar_url, bio, banner_url").eq("id",e).maybeSingle();H&&h(H)},R=async()=>{const{count:H}=await L.from("follows").select("*",{count:"exact",head:!0}).eq("following_id",e),{count:B}=await L.from("follows").select("*",{count:"exact",head:!0}).eq("follower_id",e);b(H||0),x(B||0)},z=async()=>{if(!t)return;const{data:H}=await L.from("likes").select("post_id").eq("user_id",t).in("post_id",c.map(B=>B.id));H&&w(new Set(H.map(B=>B.post_id)))};N(),R(),z()},[e,t,c.length]);const q=async()=>{const{data:N}=await L.from("follows").select("follower_id, profiles:follower_id(id, username, avatar_url)").eq("following_id",e);T(N||[]),j(!0)},J=async()=>{const{data:N}=await L.from("follows").select("following_id, profiles:following_id(id, username, avatar_url)").eq("follower_id",e);E(N||[]),S(!0)},X=async N=>{if(!t)return;const{error:R}=await L.from("comments").delete().eq("id",N).eq("user_id",t);R?D.error("Failed to delete comment"):(D.success("Comment deleted"),l&&l())},F=async N=>{if(!t)return;const R=m.has(N);try{if(R)await L.from("likes").delete().match({post_id:N,user_id:t}),w(z=>{const H=new Set(z);return H.delete(N),H});else{await L.from("likes").insert({post_id:N,user_id:t});const z=c.find(H=>H.id===N);z&&z.user_id!==t&&await L.from("notifications").insert({user_id:z.user_id,actor_id:t,type:"like",post_id:N}),w(H=>new Set(H).add(N))}}catch(z){console.error("Error toggling like:",z),D.error("Failed to update like")}};return o.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[o.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 px-4 py-3 shadow-sm",children:o.jsxs(Y,{onClick:s,variant:"ghost",className:"min-h-[44px] gap-2 touch-manipulation active:scale-95 transition-all",children:[o.jsx(zo,{className:"w-5 h-5"}),"Back to Feed"]})}),o.jsxs("div",{className:"bg-white border-b border-gray-200",children:[o.jsx("div",{className:"relative h-32",children:d!=null&&d.banner_url?o.jsx("img",{src:d.banner_url,alt:"Banner",className:"w-full h-full object-cover",loading:"lazy"}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-orange-100 to-amber-100"})}),o.jsxs("div",{className:"relative px-4 pb-3",children:[o.jsxs("div",{className:"flex items-start gap-3 -mt-10",children:[o.jsx("div",{className:"relative flex-shrink-0",children:d!=null&&d.avatar_url?o.jsx("img",{src:d.avatar_url,alt:d.username,className:"w-20 h-20 rounded-full object-cover border-4 border-white shadow-lg"}):o.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-white text-2xl font-bold border-4 border-white shadow-lg",children:(O=($=d==null?void 0:d.username)==null?void 0:$[0])==null?void 0:O.toUpperCase()})}),o.jsx("div",{className:"flex-1 pt-10 min-w-0",children:d!=null&&d.bio?o.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 break-words",children:d.bio}):o.jsx("p",{className:"text-sm text-gray-400 italic",children:"No bio"})})]}),o.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 truncate",children:(d==null?void 0:d.username)||"Loading..."}),e==="51ad04fa-6d63-4c45-9423-76183eea7b39"&&o.jsx(Da,{className:"w-5 h-5 text-yellow-500 fill-yellow-500 flex-shrink-0"})]}),e!==t&&o.jsxs("div",{className:"flex gap-2 mt-3",children:[o.jsxs(Y,{onClick:()=>{i&&d&&i(e,d.username)},variant:"outline",size:"sm",className:"flex-1 min-h-[44px] touch-manipulation active:scale-95 transition-all",children:[o.jsx(Eo,{className:"w-4 h-4 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Message"})]}),o.jsx(Y,{onClick:()=>a(e),variant:n?"outline":"default",size:"sm",className:`flex-1 min-h-[44px] touch-manipulation active:scale-95 transition-all ${n?"":"bg-orange-500 hover:bg-orange-600"}`,children:n?o.jsxs(o.Fragment,{children:[o.jsx(DE,{className:"w-4 h-4 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Supporting"})]}):o.jsxs(o.Fragment,{children:[o.jsx($E,{className:"w-4 h-4 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Support"})]})})]})]}),o.jsx("div",{className:"px-4 py-3 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-center gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-base font-bold",children:c.length}),o.jsx("div",{className:"text-xs text-gray-500",children:"posts"})]}),o.jsxs("button",{onClick:q,className:"text-center hover:bg-gray-50 px-3 py-1 rounded-lg transition-colors min-h-[44px] touch-manipulation active:scale-95",children:[o.jsx("div",{className:"text-base font-bold",children:g}),o.jsx("div",{className:"text-xs text-gray-500",children:"supporters"})]}),o.jsxs("button",{onClick:J,className:"text-center hover:bg-gray-50 px-3 py-1 rounded-lg transition-colors min-h-[44px] touch-manipulation active:scale-95",children:[o.jsx("div",{className:"text-base font-bold",children:v}),o.jsx("div",{className:"text-xs text-gray-500",children:"supporting"})]})]})})]}),o.jsx("div",{className:"p-4",children:c.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:"No posts yet"}):o.jsx("div",{className:"space-y-4",children:c.map(N=>{var z,H,B;const R=m.has(N.id);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"relative",children:[N.image_url?o.jsx("img",{src:N.image_url,alt:N.title||"Post",className:"w-full aspect-square object-cover",loading:"lazy"}):N.video_url?o.jsx("video",{src:N.video_url,controls:!0,className:"w-full aspect-square object-cover"}):null,N.title&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent px-3 py-2",children:o.jsx("h3",{className:"text-white text-sm font-semibold line-clamp-2",children:N.title})})]}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex gap-4 mb-2",children:[o.jsx("button",{onClick:()=>F(N.id),className:"transition-transform hover:scale-110 active:scale-95 min-h-[44px] min-w-[44px] flex items-center justify-center -ml-2 touch-manipulation",children:o.jsx(sm,{className:`w-6 h-6 ${R?"fill-red-500 text-red-500":"text-gray-600"}`})}),o.jsx("button",{onClick:()=>p(N.id),className:"transition-transform hover:scale-110 active:scale-95 min-h-[44px] min-w-[44px] flex items-center justify-center -ml-2 touch-manipulation",children:o.jsx(am,{className:"w-6 h-6 text-gray-600"})})]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[((z=N._count)==null?void 0:z.likes)||0," ",((H=N._count)==null?void 0:H.likes)===1?"like":"likes"]}),N.caption&&o.jsx("p",{className:"text-sm leading-relaxed break-words",children:N.caption}),N.latest_comment&&o.jsxs("div",{className:"mt-3 relative",onTouchStart:()=>{var te;return((te=N.latest_comment)==null?void 0:te.user_id)===t&&M(N.latest_comment.id)},onTouchEnd:()=>setTimeout(()=>M(null),3e3),children:[o.jsxs("div",{className:"flex items-start gap-2 pr-10",children:[o.jsx("span",{className:"font-semibold text-sm flex-shrink-0",children:(B=N.latest_comment.profiles)==null?void 0:B.username}),o.jsx("span",{className:"text-sm text-gray-700 break-words",children:N.latest_comment.text})]}),N.latest_comment.user_id===t&&I===N.latest_comment.id&&o.jsx("button",{onClick:te=>{te.stopPropagation(),X(N.latest_comment.id)},className:"absolute top-0 right-0 w-10 h-10 bg-red-500 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-red-600 active:scale-90 z-10 touch-manipulation",title:"Delete comment",children:o.jsx(Jt,{className:"w-4 h-4"})})]}),N._count&&N._count.comments>0&&o.jsxs("button",{onClick:()=>p(N.id),className:"text-sm text-gray-500 mt-2 hover:text-gray-700 block min-h-[36px] touch-manipulation",children:["View all ",N._count.comments," ",N._count.comments===1?"comment":"comments"]})]})]},N.id)})})}),f&&(()=>{const N=c.find(z=>z.id===f),R=N&&t&&t===N.user_id;return N?o.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-hidden",children:[o.jsx(td,{postId:f,isOpen:!0,onClose:()=>p(null)}),o.jsx("button",{onClick:()=>p(null),className:"absolute top-3 left-3 bg-black/50 backdrop-blur-md text-white p-2.5 rounded-full shadow hover:bg-black/70 z-[100] min-h-[44px] min-w-[44px] touch-manipulation active:scale-95",title:"Close",children:o.jsx(zo,{className:"w-5 h-5"})}),R&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{const z=prompt("Edit your caption:");z&&L.from("posts").update({caption:z}).eq("id",f).eq("user_id",t).then(({error:H})=>{H?D.error("Failed to update post"):(D.success("Post updated"),l&&l())})},className:"absolute top-3 right-14 bg-blue-600 text-white p-2.5 rounded-full shadow hover:bg-blue-700 z-[100] min-h-[44px] min-w-[44px] touch-manipulation active:scale-95",title:"Edit post",children:""}),o.jsx("button",{onClick:async()=>{if(!confirm("Delete this post?"))return;const{error:z}=await L.from("posts").delete().eq("id",f).eq("user_id",t);z?D.error("Failed to delete post"):(D.success("Post deleted"),p(null),l&&l())},className:"absolute top-3 right-3 bg-red-600 text-white p-2.5 rounded-full shadow hover:bg-red-700 z-[100] min-h-[44px] min-w-[44px] touch-manipulation active:scale-95",title:"Delete post",children:o.jsx(Jt,{className:"w-5 h-5"})})]})]})}):null})(),o.jsx(_t,{open:y,onOpenChange:j,children:o.jsxs(vt,{className:"max-w-sm",children:[o.jsx(Vt,{children:o.jsx(Dt,{children:"Supporters"})}),o.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[k.map(N=>{var R,z,H,B;return o.jsxs("div",{className:"flex items-center gap-3 min-h-[44px]",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-red-400 flex items-center justify-center text-white font-bold flex-shrink-0",children:((H=(z=(R=N.profiles)==null?void 0:R.username)==null?void 0:z[0])==null?void 0:H.toUpperCase())||o.jsx(si,{className:"w-5 h-5"})}),o.jsx("span",{className:"font-medium truncate",children:((B=N.profiles)==null?void 0:B.username)||"User"})]},N.follower_id)}),k.length===0&&o.jsx("p",{className:"text-center text-gray-500 py-8",children:"No supporters yet"})]})]})}),o.jsx(_t,{open:_,onOpenChange:S,children:o.jsxs(vt,{className:"max-w-sm",children:[o.jsx(Vt,{children:o.jsx(Dt,{children:"Supporting"})}),o.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[C.map(N=>{var R,z,H,B;return o.jsxs("div",{className:"flex items-center gap-3 min-h-[44px]",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-red-400 flex items-center justify-center text-white font-bold flex-shrink-0",children:((H=(z=(R=N.profiles)==null?void 0:R.username)==null?void 0:z[0])==null?void 0:H.toUpperCase())||o.jsx(si,{className:"w-5 h-5"})}),o.jsx("span",{className:"font-medium truncate",children:((B=N.profiles)==null?void 0:B.username)||"User"})]},N.following_id)}),C.length===0&&o.jsx("p",{className:"text-center text-gray-500 py-8",children:"Not supporting anyone yet"})]})]})})]})}function px(e){const t=U4(e),r=u.forwardRef((n,s)=>{const{children:a,...i}=n,l=u.Children.toArray(a),c=l.find(z4);if(c){const d=c.props.children,h=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return o.jsx(t,{...i,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function U4(e){const t=u.forwardRef((r,n)=>{const{children:s,...a}=r;if(u.isValidElement(s)){const i=V4(s),l=B4(a,s.props);return s.type!==u.Fragment&&(l.ref=n?Rn(n,i):i),u.cloneElement(s,l)}return u.Children.count(s)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var F4=Symbol("radix.slottable");function z4(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===F4}function B4(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function V4(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ki(e){const t=e+"CollectionProvider",[r,n]=er(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:b,children:v}=g,x=re.useRef(null),y=re.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:y,collectionRef:x,children:v})};i.displayName=t;const l=e+"CollectionSlot",c=px(l),d=re.forwardRef((g,b)=>{const{scope:v,children:x}=g,y=a(l,v),j=Re(b,y.collectionRef);return o.jsx(c,{ref:j,children:x})});d.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",p=px(h),m=re.forwardRef((g,b)=>{const{scope:v,children:x,...y}=g,j=re.useRef(null),_=Re(b,j),S=a(h,v);return re.useEffect(()=>(S.itemMap.set(j,{ref:j,...y}),()=>void S.itemMap.delete(j))),o.jsx(p,{[f]:"",ref:_,children:x})});m.displayName=h;function w(g){const b=a(e+"CollectionConsumer",g);return re.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((S,k)=>y.indexOf(S.ref.current)-y.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:d,ItemSlot:m},w,n]}const W4=["top","right","bottom","left"],ns=Math.min,sr=Math.max,uc=Math.round,cl=Math.floor,on=e=>({x:e,y:e}),q4={left:"right",right:"left",bottom:"top",top:"bottom"},H4={start:"end",end:"start"};function Ih(e,t,r){return sr(e,ns(t,r))}function kn(e,t){return typeof e=="function"?e(t):e}function Cn(e){return e.split("-")[0]}function Zo(e){return e.split("-")[1]}function Om(e){return e==="x"?"y":"x"}function Im(e){return e==="y"?"height":"width"}const K4=new Set(["top","bottom"]);function rn(e){return K4.has(Cn(e))?"y":"x"}function Mm(e){return Om(rn(e))}function G4(e,t,r){r===void 0&&(r=!1);const n=Zo(e),s=Mm(e),a=Im(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=hc(i)),[i,hc(i)]}function Y4(e){const t=hc(e);return[Mh(e),t,Mh(t)]}function Mh(e){return e.replace(/start|end/g,t=>H4[t])}const gx=["left","right"],xx=["right","left"],J4=["top","bottom"],X4=["bottom","top"];function Q4(e,t,r){switch(e){case"top":case"bottom":return r?t?xx:gx:t?gx:xx;case"left":case"right":return t?J4:X4;default:return[]}}function Z4(e,t,r,n){const s=Zo(e);let a=Q4(Cn(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Mh)))),a}function hc(e){return e.replace(/left|right|bottom|top/g,t=>q4[t])}function eT(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ab(e){return typeof e!="number"?eT(e):{top:e,right:e,bottom:e,left:e}}function fc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function vx(e,t,r){let{reference:n,floating:s}=e;const a=rn(t),i=Mm(t),l=Im(i),c=Cn(t),d=a==="y",h=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:h,y:n.y-s.height};break;case"bottom":m={x:h,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Zo(t)){case"start":m[i]-=p*(r&&d?-1:1);break;case"end":m[i]+=p*(r&&d?-1:1);break}return m}const tT=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=vx(d,n,c),p=n,m={},w=0;for(let g=0;g<l.length;g++){const{name:b,fn:v}=l[g],{x,y,data:j,reset:_}=await v({x:h,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:m,rects:d,platform:i,elements:{reference:e,floating:t}});h=x??h,f=y??f,m={...m,[b]:{...m[b],...j}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(d=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:h,y:f}=vx(d,p,c)),g=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:m}};async function ii(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=kn(t,e),w=Ab(m),b=l[p?f==="floating"?"reference":"floating":f],v=fc(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),x=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},_=fc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:y,strategy:c}):x);return{top:(v.top-_.top+w.top)/j.y,bottom:(_.bottom-v.bottom+w.bottom)/j.y,left:(v.left-_.left+w.left)/j.x,right:(_.right-v.right+w.right)/j.x}}const rT=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:h=0}=kn(e,t)||{};if(d==null)return{};const f=Ab(h),p={x:r,y:n},m=Mm(s),w=Im(m),g=await i.getDimensions(d),b=m==="y",v=b?"top":"left",x=b?"bottom":"right",y=b?"clientHeight":"clientWidth",j=a.reference[w]+a.reference[m]-p[m]-a.floating[w],_=p[m]-a.reference[m],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let k=S?S[y]:0;(!k||!await(i.isElement==null?void 0:i.isElement(S)))&&(k=l.floating[y]||a.floating[w]);const T=j/2-_/2,C=k/2-g[w]/2-1,E=ns(f[v],C),I=ns(f[x],C),M=E,q=k-g[w]-I,J=k/2-g[w]/2+T,X=Ih(M,J,q),F=!c.arrow&&Zo(s)!=null&&J!==X&&a.reference[w]/2-(J<M?E:I)-g[w]/2<0,$=F?J<M?J-M:J-q:0;return{[m]:p[m]+$,data:{[m]:X,centerOffset:J-X-$,...F&&{alignmentOffset:$}},reset:F}}}),nT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...b}=kn(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=Cn(s),x=rn(l),y=Cn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=p||(y||!g?[hc(l)]:Y4(l)),S=w!=="none";!p&&S&&_.push(...Z4(l,g,w,j));const k=[l,..._],T=await ii(t,b),C=[];let E=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&C.push(T[v]),f){const J=G4(s,i,j);C.push(T[J[0]],T[J[1]])}if(E=[...E,{placement:s,overflows:C}],!C.every(J=>J<=0)){var I,M;const J=(((I=a.flip)==null?void 0:I.index)||0)+1,X=k[J];if(X&&(!(f==="alignment"?x!==rn(X):!1)||E.every(O=>rn(O.placement)===x?O.overflows[0]>0:!0)))return{data:{index:J,overflows:E},reset:{placement:X}};let F=(M=E.filter($=>$.overflows[0]<=0).sort(($,O)=>$.overflows[1]-O.overflows[1])[0])==null?void 0:M.placement;if(!F)switch(m){case"bestFit":{var q;const $=(q=E.filter(O=>{if(S){const N=rn(O.placement);return N===x||N==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(N=>N>0).reduce((N,R)=>N+R,0)]).sort((O,N)=>O[1]-N[1])[0])==null?void 0:q[0];$&&(F=$);break}case"initialPlacement":F=l;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function yx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function wx(e){return W4.some(t=>e[t]>=0)}const sT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=kn(e,t);switch(n){case"referenceHidden":{const a=await ii(t,{...s,elementContext:"reference"}),i=yx(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:wx(i)}}}case"escaped":{const a=await ii(t,{...s,altBoundary:!0}),i=yx(a,r.floating);return{data:{escapedOffsets:i,escaped:wx(i)}}}default:return{}}}}},Ob=new Set(["left","top"]);async function oT(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Cn(r),l=Zo(r),c=rn(r)==="y",d=Ob.has(i)?-1:1,h=a&&c?-1:1,f=kn(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(m=l==="end"?w*-1:w),c?{x:m*h,y:p*d}:{x:p*d,y:m*h}}const aT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await oT(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},iT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:v,y:x}=b;return{x:v,y:x}}},...c}=kn(e,t),d={x:r,y:n},h=await ii(t,c),f=rn(Cn(s)),p=Om(f);let m=d[p],w=d[f];if(a){const b=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=m+h[b],y=m-h[v];m=Ih(x,m,y)}if(i){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=w+h[b],y=w-h[v];w=Ih(x,w,y)}const g=l.fn({...t,[p]:m,[f]:w});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[p]:a,[f]:i}}}}}},lT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=kn(e,t),h={x:r,y:n},f=rn(s),p=Om(f);let m=h[p],w=h[f];const g=kn(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const y=p==="y"?"height":"width",j=a.reference[p]-a.floating[y]+b.mainAxis,_=a.reference[p]+a.reference[y]-b.mainAxis;m<j?m=j:m>_&&(m=_)}if(d){var v,x;const y=p==="y"?"width":"height",j=Ob.has(Cn(s)),_=a.reference[f]-a.floating[y]+(j&&((v=i.offset)==null?void 0:v[f])||0)+(j?0:b.crossAxis),S=a.reference[f]+a.reference[y]+(j?0:((x=i.offset)==null?void 0:x[f])||0)-(j?b.crossAxis:0);w<_?w=_:w>S&&(w=S)}return{[p]:m,[f]:w}}}},cT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...d}=kn(e,t),h=await ii(t,d),f=Cn(s),p=Zo(s),m=rn(s)==="y",{width:w,height:g}=a.floating;let b,v;f==="top"||f==="bottom"?(b=f,v=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,b=p==="end"?"top":"bottom");const x=g-h.top-h.bottom,y=w-h.left-h.right,j=ns(g-h[b],x),_=ns(w-h[v],y),S=!t.middlewareData.shift;let k=j,T=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),S&&!p){const E=sr(h.left,0),I=sr(h.right,0),M=sr(h.top,0),q=sr(h.bottom,0);m?T=w-2*(E!==0||I!==0?E+I:sr(h.left,h.right)):k=g-2*(M!==0||q!==0?M+q:sr(h.top,h.bottom))}await c({...t,availableWidth:T,availableHeight:k});const C=await i.getDimensions(l.floating);return w!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function rd(){return typeof window<"u"}function ea(e){return Ib(e)?(e.nodeName||"").toLowerCase():"#document"}function dr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function un(e){var t;return(t=(Ib(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ib(e){return rd()?e instanceof Node||e instanceof dr(e).Node:!1}function Gr(e){return rd()?e instanceof Element||e instanceof dr(e).Element:!1}function cn(e){return rd()?e instanceof HTMLElement||e instanceof dr(e).HTMLElement:!1}function bx(e){return!rd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dr(e).ShadowRoot}const dT=new Set(["inline","contents"]);function Ci(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Yr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!dT.has(s)}const uT=new Set(["table","td","th"]);function hT(e){return uT.has(ea(e))}const fT=[":popover-open",":modal"];function nd(e){return fT.some(t=>{try{return e.matches(t)}catch{return!1}})}const mT=["transform","translate","scale","rotate","perspective"],pT=["transform","translate","scale","rotate","perspective","filter"],gT=["paint","layout","strict","content"];function Dm(e){const t=$m(),r=Gr(e)?Yr(e):e;return mT.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||pT.some(n=>(r.willChange||"").includes(n))||gT.some(n=>(r.contain||"").includes(n))}function xT(e){let t=ss(e);for(;cn(t)&&!Wo(t);){if(Dm(t))return t;if(nd(t))return null;t=ss(t)}return null}function $m(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vT=new Set(["html","body","#document"]);function Wo(e){return vT.has(ea(e))}function Yr(e){return dr(e).getComputedStyle(e)}function sd(e){return Gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ss(e){if(ea(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bx(e)&&e.host||un(e);return bx(t)?t.host:t}function Mb(e){const t=ss(e);return Wo(t)?e.ownerDocument?e.ownerDocument.body:e.body:cn(t)&&Ci(t)?t:Mb(t)}function li(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Mb(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=dr(s);if(a){const l=Dh(i);return t.concat(i,i.visualViewport||[],Ci(s)?s:[],l&&r?li(l):[])}return t.concat(s,li(s,[],r))}function Dh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Db(e){const t=Yr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=cn(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=uc(r)!==a||uc(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function Lm(e){return Gr(e)?e:e.contextElement}function To(e){const t=Lm(e);if(!cn(t))return on(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=Db(t);let i=(a?uc(r.width):r.width)/n,l=(a?uc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const yT=on(0);function $b(e){const t=dr(e);return!$m()||!t.visualViewport?yT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wT(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==dr(e)?!1:t}function Ds(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=Lm(e);let i=on(1);t&&(n?Gr(n)&&(i=To(n)):i=To(e));const l=wT(a,r,n)?$b(a):on(0);let c=(s.left+l.x)/i.x,d=(s.top+l.y)/i.y,h=s.width/i.x,f=s.height/i.y;if(a){const p=dr(a),m=n&&Gr(n)?dr(n):n;let w=p,g=Dh(w);for(;g&&n&&m!==w;){const b=To(g),v=g.getBoundingClientRect(),x=Yr(g),y=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*b.x,j=v.top+(g.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,d*=b.y,h*=b.x,f*=b.y,c+=y,d+=j,w=dr(g),g=Dh(w)}}return fc({width:h,height:f,x:c,y:d})}function od(e,t){const r=sd(e).scrollLeft;return t?t.left+r:Ds(un(e)).left+r}function Lb(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-od(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function bT(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=un(n),l=t?nd(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=on(1);const h=on(0),f=cn(n);if((f||!f&&!a)&&((ea(n)!=="body"||Ci(i))&&(c=sd(n)),cn(n))){const m=Ds(n);d=To(n),h.x=m.x+n.clientLeft,h.y=m.y+n.clientTop}const p=i&&!f&&!a?Lb(i,c):on(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:r.y*d.y-c.scrollTop*d.y+h.y+p.y}}function jT(e){return Array.from(e.getClientRects())}function NT(e){const t=un(e),r=sd(e),n=e.ownerDocument.body,s=sr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=sr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+od(e);const l=-r.scrollTop;return Yr(n).direction==="rtl"&&(i+=sr(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}const jx=25;function _T(e,t){const r=dr(e),n=un(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const h=$m();(!h||h&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=od(n);if(d<=0){const h=n.ownerDocument,f=h.body,p=getComputedStyle(f),m=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(n.clientWidth-f.clientWidth-m);w<=jx&&(a-=w)}else d<=jx&&(a+=d);return{width:a,height:i,x:l,y:c}}const ST=new Set(["absolute","fixed"]);function kT(e,t){const r=Ds(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=cn(e)?To(e):on(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,d=n*a.y;return{width:i,height:l,x:c,y:d}}function Nx(e,t,r){let n;if(t==="viewport")n=_T(e,r);else if(t==="document")n=NT(un(e));else if(Gr(t))n=kT(t,r);else{const s=$b(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return fc(n)}function Ub(e,t){const r=ss(e);return r===t||!Gr(r)||Wo(r)?!1:Yr(r).position==="fixed"||Ub(r,t)}function CT(e,t){const r=t.get(e);if(r)return r;let n=li(e,[],!1).filter(l=>Gr(l)&&ea(l)!=="body"),s=null;const a=Yr(e).position==="fixed";let i=a?ss(e):e;for(;Gr(i)&&!Wo(i);){const l=Yr(i),c=Dm(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&ST.has(s.position)||Ci(i)&&!c&&Ub(e,i))?n=n.filter(h=>h!==i):s=l,i=ss(i)}return t.set(e,n),n}function ET(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?nd(t)?[]:CT(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((d,h)=>{const f=Nx(t,h,s);return d.top=sr(f.top,d.top),d.right=ns(f.right,d.right),d.bottom=ns(f.bottom,d.bottom),d.left=sr(f.left,d.left),d},Nx(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function RT(e){const{width:t,height:r}=Db(e);return{width:t,height:r}}function PT(e,t,r){const n=cn(t),s=un(t),a=r==="fixed",i=Ds(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=on(0);function d(){c.x=od(s)}if(n||!n&&!a)if((ea(t)!=="body"||Ci(s))&&(l=sd(t)),n){const m=Ds(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&d();a&&!n&&s&&d();const h=s&&!n&&!a?Lb(s,l):on(0),f=i.left+l.scrollLeft-c.x-h.x,p=i.top+l.scrollTop-c.y-h.y;return{x:f,y:p,width:i.width,height:i.height}}function hu(e){return Yr(e).position==="static"}function _x(e,t){if(!cn(e)||Yr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return un(e)===r&&(r=r.ownerDocument.body),r}function Fb(e,t){const r=dr(e);if(nd(e))return r;if(!cn(e)){let s=ss(e);for(;s&&!Wo(s);){if(Gr(s)&&!hu(s))return s;s=ss(s)}return r}let n=_x(e,t);for(;n&&hT(n)&&hu(n);)n=_x(n,t);return n&&Wo(n)&&hu(n)&&!Dm(n)?r:n||xT(e)||r}const TT=async function(e){const t=this.getOffsetParent||Fb,r=this.getDimensions,n=await r(e.floating);return{reference:PT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function AT(e){return Yr(e).direction==="rtl"}const OT={convertOffsetParentRelativeRectToViewportRelativeRect:bT,getDocumentElement:un,getClippingRect:ET,getOffsetParent:Fb,getElementRects:TT,getClientRects:jT,getDimensions:RT,getScale:To,isElement:Gr,isRTL:AT};function zb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function IT(e,t){let r=null,n;const s=un(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:h,top:f,width:p,height:m}=d;if(l||t(),!p||!m)return;const w=cl(f),g=cl(s.clientWidth-(h+p)),b=cl(s.clientHeight-(f+m)),v=cl(h),y={rootMargin:-w+"px "+-g+"px "+-b+"px "+-v+"px",threshold:sr(0,ns(1,c))||1};let j=!0;function _(S){const k=S[0].intersectionRatio;if(k!==c){if(!j)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!zb(d,e.getBoundingClientRect())&&i(),j=!1}try{r=new IntersectionObserver(_,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,y)}r.observe(e)}return i(!0),a}function MT(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Lm(e),h=s||a?[...d?li(d):[],...li(t)]:[];h.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const f=d&&l?IT(d,r):null;let p=-1,m=null;i&&(m=new ResizeObserver(v=>{let[x]=v;x&&x.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),r()}),d&&!c&&m.observe(d),m.observe(t));let w,g=c?Ds(e):null;c&&b();function b(){const v=Ds(e);g&&!zb(g,v)&&r(),g=v,w=requestAnimationFrame(b)}return r(),()=>{var v;h.forEach(x=>{s&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(w)}}const DT=aT,$T=iT,LT=nT,UT=cT,FT=sT,Sx=rT,zT=lT,BT=(e,t,r)=>{const n=new Map,s={platform:OT,...r},a={...s.platform,_c:n};return tT(e,t,{...s,platform:a})};var VT=typeof document<"u",WT=function(){},El=VT?u.useLayoutEffect:WT;function mc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!mc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!mc(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Bb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kx(e,t){const r=Bb(e);return Math.round(t*r)/r}function fu(e){const t=u.useRef(e);return El(()=>{t.current=e}),t}function qT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,f]=u.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=u.useState(n);mc(p,n)||m(n);const[w,g]=u.useState(null),[b,v]=u.useState(null),x=u.useCallback(O=>{O!==S.current&&(S.current=O,g(O))},[]),y=u.useCallback(O=>{O!==k.current&&(k.current=O,v(O))},[]),j=a||w,_=i||b,S=u.useRef(null),k=u.useRef(null),T=u.useRef(h),C=c!=null,E=fu(c),I=fu(s),M=fu(d),q=u.useCallback(()=>{if(!S.current||!k.current)return;const O={placement:t,strategy:r,middleware:p};I.current&&(O.platform=I.current),BT(S.current,k.current,O).then(N=>{const R={...N,isPositioned:M.current!==!1};J.current&&!mc(T.current,R)&&(T.current=R,Go.flushSync(()=>{f(R)}))})},[p,t,r,I,M]);El(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[d]);const J=u.useRef(!1);El(()=>(J.current=!0,()=>{J.current=!1}),[]),El(()=>{if(j&&(S.current=j),_&&(k.current=_),j&&_){if(E.current)return E.current(j,_,q);q()}},[j,_,q,E,C]);const X=u.useMemo(()=>({reference:S,floating:k,setReference:x,setFloating:y}),[x,y]),F=u.useMemo(()=>({reference:j,floating:_}),[j,_]),$=u.useMemo(()=>{const O={position:r,left:0,top:0};if(!F.floating)return O;const N=kx(F.floating,h.x),R=kx(F.floating,h.y);return l?{...O,transform:"translate("+N+"px, "+R+"px)",...Bb(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:N,top:R}},[r,l,F.floating,h.x,h.y]);return u.useMemo(()=>({...h,update:q,refs:X,elements:F,floatingStyles:$}),[h,q,X,F,$])}const HT=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Sx({element:n.current,padding:s}).fn(r):{}:n?Sx({element:n,padding:s}).fn(r):{}}}},KT=(e,t)=>({...DT(e),options:[e,t]}),GT=(e,t)=>({...$T(e),options:[e,t]}),YT=(e,t)=>({...zT(e),options:[e,t]}),JT=(e,t)=>({...LT(e),options:[e,t]}),XT=(e,t)=>({...UT(e),options:[e,t]}),QT=(e,t)=>({...FT(e),options:[e,t]}),ZT=(e,t)=>({...HT(e),options:[e,t]});var e3="Arrow",Vb=u.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(_e.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Vb.displayName=e3;var t3=Vb,Um="Popper",[Wb,ad]=er(Um),[r3,qb]=Wb(Um),Hb=e=>{const{__scopePopper:t,children:r}=e,[n,s]=u.useState(null);return o.jsx(r3,{scope:t,anchor:n,onAnchorChange:s,children:r})};Hb.displayName=Um;var Kb="PopperAnchor",Gb=u.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=qb(Kb,r),i=u.useRef(null),l=Re(t,i),c=u.useRef(null);return u.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||i.current,d!==c.current&&a.onAnchorChange(c.current)}),n?null:o.jsx(_e.div,{...s,ref:l})});Gb.displayName=Kb;var Fm="PopperContent",[n3,s3]=Wb(Fm),Yb=u.forwardRef((e,t)=>{var Q,me,U,A,V,se;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:w,...g}=e,b=qb(Fm,r),[v,x]=u.useState(null),y=Re(t,ge=>x(ge)),[j,_]=u.useState(null),S=Xc(j),k=(S==null?void 0:S.width)??0,T=(S==null?void 0:S.height)??0,C=n+(a!=="center"?"-"+a:""),E=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(d)?d:[d],M=I.length>0,q={padding:E,boundary:I.filter(a3),altBoundary:M},{refs:J,floatingStyles:X,placement:F,isPositioned:$,middlewareData:O}=qT({strategy:"fixed",placement:C,whileElementsMounted:(...ge)=>MT(...ge,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[KT({mainAxis:s+T,alignmentAxis:i}),c&&GT({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?YT():void 0,...q}),c&&JT({...q}),XT({...q,apply:({elements:ge,rects:ke,availableWidth:Pe,availableHeight:Te})=>{const{width:K,height:ae}=ke.reference,G=ge.floating.style;G.setProperty("--radix-popper-available-width",`${Pe}px`),G.setProperty("--radix-popper-available-height",`${Te}px`),G.setProperty("--radix-popper-anchor-width",`${K}px`),G.setProperty("--radix-popper-anchor-height",`${ae}px`)}}),j&&ZT({element:j,padding:l}),i3({arrowWidth:k,arrowHeight:T}),p&&QT({strategy:"referenceHidden",...q})]}),[N,R]=Qb(F),z=Et(w);St(()=>{$&&(z==null||z())},[$,z]);const H=(Q=O.arrow)==null?void 0:Q.x,B=(me=O.arrow)==null?void 0:me.y,te=((U=O.arrow)==null?void 0:U.centerOffset)!==0,[Z,ie]=u.useState();return St(()=>{v&&ie(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:$?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(A=O.transformOrigin)==null?void 0:A.x,(V=O.transformOrigin)==null?void 0:V.y].join(" "),...((se=O.hide)==null?void 0:se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(n3,{scope:r,placedSide:N,onArrowChange:_,arrowX:H,arrowY:B,shouldHideArrow:te,children:o.jsx(_e.div,{"data-side":N,"data-align":R,...g,ref:y,style:{...g.style,animation:$?void 0:"none"}})})})});Yb.displayName=Fm;var Jb="PopperArrow",o3={top:"bottom",right:"left",bottom:"top",left:"right"},Xb=u.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=s3(Jb,n),i=o3[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(t3,{...s,ref:r,style:{...s.style,display:"block"}})})});Xb.displayName=Jb;function a3(e){return e!==null}var i3=e=>({name:"transformOrigin",options:e,fn(t){var b,v,x;const{placement:r,rects:n,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,h]=Qb(r),f={start:"0%",center:"50%",end:"100%"}[h],p=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let w="",g="";return d==="bottom"?(w=i?f:`${p}px`,g=`${-c}px`):d==="top"?(w=i?f:`${p}px`,g=`${n.floating.height+c}px`):d==="right"?(w=`${-c}px`,g=i?f:`${m}px`):d==="left"&&(w=`${n.floating.width+c}px`,g=i?f:`${m}px`),{data:{x:w,y:g}}}});function Qb(e){const[t,r="center"]=e.split("-");return[t,r]}var Zb=Hb,e1=Gb,t1=Yb,r1=Xb,mu="rovingFocusGroup.onEntryFocus",l3={bubbles:!1,cancelable:!0},Ei="RovingFocusGroup",[$h,n1,c3]=ki(Ei),[d3,s1]=er(Ei,[c3]),[u3,h3]=d3(Ei),o1=u.forwardRef((e,t)=>o.jsx($h.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx($h.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(f3,{...e,ref:t})})}));o1.displayName=Ei;var f3=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=e,p=u.useRef(null),m=Re(t,p),w=Qo(a),[g,b]=Kr({prop:i,defaultProp:l??null,onChange:c,caller:Ei}),[v,x]=u.useState(!1),y=Et(d),j=n1(r),_=u.useRef(!1),[S,k]=u.useState(0);return u.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(mu,y),()=>T.removeEventListener(mu,y)},[y]),o.jsx(u3,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:g,onItemFocus:u.useCallback(T=>b(T),[b]),onItemShiftTab:u.useCallback(()=>x(!0),[]),onFocusableItemAdd:u.useCallback(()=>k(T=>T+1),[]),onFocusableItemRemove:u.useCallback(()=>k(T=>T-1),[]),children:o.jsx(_e.div,{tabIndex:v||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:de(e.onMouseDown,()=>{_.current=!0}),onFocus:de(e.onFocus,T=>{const C=!_.current;if(T.target===T.currentTarget&&C&&!v){const E=new CustomEvent(mu,l3);if(T.currentTarget.dispatchEvent(E),!E.defaultPrevented){const I=j().filter(F=>F.focusable),M=I.find(F=>F.active),q=I.find(F=>F.id===g),X=[M,q,...I].filter(Boolean).map(F=>F.ref.current);l1(X,h)}}_.current=!1}),onBlur:de(e.onBlur,()=>x(!1))})})}),a1="RovingFocusGroupItem",i1=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=Vr(),d=a||c,h=h3(a1,r),f=h.currentTabStopId===d,p=n1(r),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:g}=h;return u.useEffect(()=>{if(n)return m(),()=>w()},[n,m,w]),o.jsx($h.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:o.jsx(_e.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:de(e.onMouseDown,b=>{n?h.onItemFocus(d):b.preventDefault()}),onFocus:de(e.onFocus,()=>h.onItemFocus(d)),onKeyDown:de(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=g3(b,h.orientation,h.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=p().filter(j=>j.focusable).map(j=>j.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const j=y.indexOf(b.currentTarget);y=h.loop?x3(y,j+1):y.slice(j+1)}setTimeout(()=>l1(y))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});i1.displayName=a1;var m3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function g3(e,t,r){const n=p3(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return m3[n]}function l1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function x3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var v3=o1,y3=i1;function w3(e){const t=b3(e),r=u.forwardRef((n,s)=>{const{children:a,...i}=n,l=u.Children.toArray(a),c=l.find(N3);if(c){const d=c.props.children,h=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return o.jsx(t,{...i,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function b3(e){const t=u.forwardRef((r,n)=>{const{children:s,...a}=r;if(u.isValidElement(s)){const i=S3(s),l=_3(a,s.props);return s.type!==u.Fragment&&(l.ref=n?Rn(n,i):i),u.cloneElement(s,l)}return u.Children.count(s)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var j3=Symbol("radix.slottable");function N3(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===j3}function _3(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function S3(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Lh=["Enter"," "],k3=["ArrowDown","PageUp","Home"],c1=["ArrowUp","PageDown","End"],C3=[...k3,...c1],E3={ltr:[...Lh,"ArrowRight"],rtl:[...Lh,"ArrowLeft"]},R3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ri="Menu",[ci,P3,T3]=ki(Ri),[Ws,d1]=er(Ri,[T3,ad,s1]),id=ad(),u1=s1(),[A3,qs]=Ws(Ri),[O3,Pi]=Ws(Ri),h1=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=e,l=id(t),[c,d]=u.useState(null),h=u.useRef(!1),f=Et(a),p=Qo(s);return u.useEffect(()=>{const m=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),o.jsx(Zb,{...l,children:o.jsx(A3,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:o.jsx(O3,{scope:t,onClose:u.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:i,children:n})})})};h1.displayName=Ri;var I3="MenuAnchor",zm=u.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=id(r);return o.jsx(e1,{...s,...n,ref:t})});zm.displayName=I3;var Bm="MenuPortal",[M3,f1]=Ws(Bm,{forceMount:void 0}),m1=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=qs(Bm,t);return o.jsx(M3,{scope:t,forceMount:r,children:o.jsx(tr,{present:r||a.open,children:o.jsx(Hc,{asChild:!0,container:s,children:n})})})};m1.displayName=Bm;var _r="MenuContent",[D3,Vm]=Ws(_r),p1=u.forwardRef((e,t)=>{const r=f1(_r,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=qs(_r,e.__scopeMenu),i=Pi(_r,e.__scopeMenu);return o.jsx(ci.Provider,{scope:e.__scopeMenu,children:o.jsx(tr,{present:n||a.open,children:o.jsx(ci.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx($3,{...s,ref:t}):o.jsx(L3,{...s,ref:t})})})})}),$3=u.forwardRef((e,t)=>{const r=qs(_r,e.__scopeMenu),n=u.useRef(null),s=Re(t,n);return u.useEffect(()=>{const a=n.current;if(a)return mm(a)},[]),o.jsx(Wm,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:de(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),L3=u.forwardRef((e,t)=>{const r=qs(_r,e.__scopeMenu);return o.jsx(Wm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),U3=w3("MenuContent.ScrollLock"),Wm=u.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m,disableOutsideScroll:w,...g}=e,b=qs(_r,r),v=Pi(_r,r),x=id(r),y=u1(r),j=P3(r),[_,S]=u.useState(null),k=u.useRef(null),T=Re(t,k,b.onContentChange),C=u.useRef(0),E=u.useRef(""),I=u.useRef(0),M=u.useRef(null),q=u.useRef("right"),J=u.useRef(0),X=w?Gc:u.Fragment,F=w?{as:U3,allowPinchZoom:!0}:void 0,$=N=>{var Q,me;const R=E.current+N,z=j().filter(U=>!U.disabled),H=document.activeElement,B=(Q=z.find(U=>U.ref.current===H))==null?void 0:Q.textValue,te=z.map(U=>U.textValue),Z=X3(te,R,B),ie=(me=z.find(U=>U.textValue===Z))==null?void 0:me.ref.current;(function U(A){E.current=A,window.clearTimeout(C.current),A!==""&&(C.current=window.setTimeout(()=>U(""),1e3))})(R),ie&&setTimeout(()=>ie.focus())};u.useEffect(()=>()=>window.clearTimeout(C.current),[]),fm();const O=u.useCallback(N=>{var z,H;return q.current===((z=M.current)==null?void 0:z.side)&&Z3(N,(H=M.current)==null?void 0:H.area)},[]);return o.jsx(D3,{scope:r,searchRef:E,onItemEnter:u.useCallback(N=>{O(N)&&N.preventDefault()},[O]),onItemLeave:u.useCallback(N=>{var R;O(N)||((R=k.current)==null||R.focus(),S(null))},[O]),onTriggerLeave:u.useCallback(N=>{O(N)&&N.preventDefault()},[O]),pointerGraceTimerRef:I,onPointerGraceIntentChange:u.useCallback(N=>{M.current=N},[]),children:o.jsx(X,{...F,children:o.jsx(qc,{asChild:!0,trapped:s,onMountAutoFocus:de(a,N=>{var R;N.preventDefault(),(R=k.current)==null||R.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m,children:o.jsx(v3,{asChild:!0,...y,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:de(c,N=>{v.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(t1,{role:"menu","aria-orientation":"vertical","data-state":T1(b.open),"data-radix-menu-content":"",dir:v.dir,...x,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:de(g.onKeyDown,N=>{const z=N.target.closest("[data-radix-menu-content]")===N.currentTarget,H=N.ctrlKey||N.altKey||N.metaKey,B=N.key.length===1;z&&(N.key==="Tab"&&N.preventDefault(),!H&&B&&$(N.key));const te=k.current;if(N.target!==te||!C3.includes(N.key))return;N.preventDefault();const ie=j().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);c1.includes(N.key)&&ie.reverse(),Y3(ie)}),onBlur:de(e.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(C.current),E.current="")}),onPointerMove:de(e.onPointerMove,di(N=>{const R=N.target,z=J.current!==N.clientX;if(N.currentTarget.contains(R)&&z){const H=N.clientX>J.current?"right":"left";q.current=H,J.current=N.clientX}}))})})})})})})});p1.displayName=_r;var F3="MenuGroup",qm=u.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(_e.div,{role:"group",...n,ref:t})});qm.displayName=F3;var z3="MenuLabel",g1=u.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(_e.div,{...n,ref:t})});g1.displayName=z3;var pc="MenuItem",Cx="menu.itemSelect",ld=u.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=u.useRef(null),i=Pi(pc,e.__scopeMenu),l=Vm(pc,e.__scopeMenu),c=Re(t,a),d=u.useRef(!1),h=()=>{const f=a.current;if(!r&&f){const p=new CustomEvent(Cx,{bubbles:!0,cancelable:!0});f.addEventListener(Cx,m=>n==null?void 0:n(m),{once:!0}),Cw(f,p),p.defaultPrevented?d.current=!1:i.onClose()}};return o.jsx(x1,{...s,ref:c,disabled:r,onClick:de(e.onClick,h),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),d.current=!0},onPointerUp:de(e.onPointerUp,f=>{var p;d.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:de(e.onKeyDown,f=>{const p=l.searchRef.current!=="";r||p&&f.key===" "||Lh.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ld.displayName=pc;var x1=u.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,i=Vm(pc,r),l=u1(r),c=u.useRef(null),d=Re(t,c),[h,f]=u.useState(!1),[p,m]=u.useState("");return u.useEffect(()=>{const w=c.current;w&&m((w.textContent??"").trim())},[a.children]),o.jsx(ci.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:o.jsx(y3,{asChild:!0,...l,focusable:!n,children:o.jsx(_e.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:de(e.onPointerMove,di(w=>{n?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:de(e.onPointerLeave,di(w=>i.onItemLeave(w))),onFocus:de(e.onFocus,()=>f(!0)),onBlur:de(e.onBlur,()=>f(!1))})})})}),B3="MenuCheckboxItem",v1=u.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(N1,{scope:e.__scopeMenu,checked:r,children:o.jsx(ld,{role:"menuitemcheckbox","aria-checked":gc(r)?"mixed":r,...s,ref:t,"data-state":Km(r),onSelect:de(s.onSelect,()=>n==null?void 0:n(gc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});v1.displayName=B3;var y1="MenuRadioGroup",[V3,W3]=Ws(y1,{value:void 0,onValueChange:()=>{}}),w1=u.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=Et(n);return o.jsx(V3,{scope:e.__scopeMenu,value:r,onValueChange:a,children:o.jsx(qm,{...s,ref:t})})});w1.displayName=y1;var b1="MenuRadioItem",j1=u.forwardRef((e,t)=>{const{value:r,...n}=e,s=W3(b1,e.__scopeMenu),a=r===s.value;return o.jsx(N1,{scope:e.__scopeMenu,checked:a,children:o.jsx(ld,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":Km(a),onSelect:de(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});j1.displayName=b1;var Hm="MenuItemIndicator",[N1,q3]=Ws(Hm,{checked:!1}),_1=u.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=q3(Hm,r);return o.jsx(tr,{present:n||gc(a.checked)||a.checked===!0,children:o.jsx(_e.span,{...s,ref:t,"data-state":Km(a.checked)})})});_1.displayName=Hm;var H3="MenuSeparator",S1=u.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});S1.displayName=H3;var K3="MenuArrow",k1=u.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=id(r);return o.jsx(r1,{...s,...n,ref:t})});k1.displayName=K3;var G3="MenuSub",[O6,C1]=Ws(G3),wa="MenuSubTrigger",E1=u.forwardRef((e,t)=>{const r=qs(wa,e.__scopeMenu),n=Pi(wa,e.__scopeMenu),s=C1(wa,e.__scopeMenu),a=Vm(wa,e.__scopeMenu),i=u.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:e.__scopeMenu},h=u.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return u.useEffect(()=>h,[h]),u.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(zm,{asChild:!0,...d,children:o.jsx(x1,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":T1(r.open),...e,ref:Rn(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:de(e.onPointerMove,di(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:de(e.onPointerLeave,di(f=>{var m,w;h();const p=(m=r.content)==null?void 0:m.getBoundingClientRect();if(p){const g=(w=r.content)==null?void 0:w.dataset.side,b=g==="right",v=b?-5:5,x=p[b?"left":"right"],y=p[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x,y:p.top},{x:y,y:p.top},{x:y,y:p.bottom},{x,y:p.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:de(e.onKeyDown,f=>{var m;const p=a.searchRef.current!=="";e.disabled||p&&f.key===" "||E3[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});E1.displayName=wa;var R1="MenuSubContent",P1=u.forwardRef((e,t)=>{const r=f1(_r,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=qs(_r,e.__scopeMenu),i=Pi(_r,e.__scopeMenu),l=C1(R1,e.__scopeMenu),c=u.useRef(null),d=Re(t,c);return o.jsx(ci.Provider,{scope:e.__scopeMenu,children:o.jsx(tr,{present:n||a.open,children:o.jsx(ci.Slot,{scope:e.__scopeMenu,children:o.jsx(Wm,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:de(e.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:de(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:de(e.onKeyDown,h=>{var m;const f=h.currentTarget.contains(h.target),p=R3[i.dir].includes(h.key);f&&p&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),h.preventDefault())})})})})})});P1.displayName=R1;function T1(e){return e?"open":"closed"}function gc(e){return e==="indeterminate"}function Km(e){return gc(e)?"indeterminate":e?"checked":"unchecked"}function Y3(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function J3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function X3(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=J3(e,Math.max(a,0));s.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Q3(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],d=l.x,h=l.y,f=c.x,p=c.y;h>n!=p>n&&r<(f-d)*(n-h)/(p-h)+d&&(s=!s)}return s}function Z3(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Q3(r,t)}function di(e){return t=>t.pointerType==="mouse"?e(t):void 0}var eA=h1,tA=zm,rA=m1,nA=p1,sA=qm,oA=g1,aA=ld,iA=v1,lA=w1,cA=j1,dA=_1,uA=S1,hA=k1,fA=E1,mA=P1,cd="DropdownMenu",[pA]=er(cd,[d1]),Ht=d1(),[gA,A1]=pA(cd),O1=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=Ht(t),d=u.useRef(null),[h,f]=Kr({prop:s,defaultProp:a??!1,onChange:i,caller:cd});return o.jsx(gA,{scope:t,triggerId:Vr(),triggerRef:d,contentId:Vr(),open:h,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(p=>!p),[f]),modal:l,children:o.jsx(eA,{...c,open:h,onOpenChange:f,dir:n,modal:l,children:r})})};O1.displayName=cd;var I1="DropdownMenuTrigger",M1=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=A1(I1,r),i=Ht(r);return o.jsx(tA,{asChild:!0,...i,children:o.jsx(_e.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Rn(t,a.triggerRef),onPointerDown:de(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:de(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});M1.displayName=I1;var xA="DropdownMenuPortal",D1=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ht(t);return o.jsx(rA,{...n,...r})};D1.displayName=xA;var $1="DropdownMenuContent",L1=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=A1($1,r),a=Ht(r),i=u.useRef(!1);return o.jsx(nA,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:de(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:de(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!s.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L1.displayName=$1;var vA="DropdownMenuGroup",yA=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return o.jsx(sA,{...s,...n,ref:t})});yA.displayName=vA;var wA="DropdownMenuLabel",U1=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return o.jsx(oA,{...s,...n,ref:t})});U1.displayName=wA;var bA="DropdownMenuItem",F1=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return o.jsx(aA,{...s,...n,ref:t})});F1.displayName=bA;var jA="DropdownMenuCheckboxItem",z1=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return o.jsx(iA,{...s,...n,ref:t})});z1.displayName=jA;var NA="DropdownMenuRadioGroup",_A=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return o.jsx(lA,{...s,...n,ref:t})});_A.displayName=NA;var SA="DropdownMenuRadioItem",B1=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return o.jsx(cA,{...s,...n,ref:t})});B1.displayName=SA;var kA="DropdownMenuItemIndicator",V1=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return o.jsx(dA,{...s,...n,ref:t})});V1.displayName=kA;var CA="DropdownMenuSeparator",W1=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return o.jsx(uA,{...s,...n,ref:t})});W1.displayName=CA;var EA="DropdownMenuArrow",RA=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return o.jsx(hA,{...s,...n,ref:t})});RA.displayName=EA;var PA="DropdownMenuSubTrigger",q1=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return o.jsx(fA,{...s,...n,ref:t})});q1.displayName=PA;var TA="DropdownMenuSubContent",H1=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ht(r);return o.jsx(mA,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});H1.displayName=TA;var AA=O1,OA=M1,IA=D1,K1=L1,G1=U1,Y1=F1,J1=z1,X1=B1,Q1=V1,Z1=W1,ej=q1,tj=H1;const rj=AA,nj=OA,MA=u.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(ej,{ref:s,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(p5,{className:"ml-auto h-4 w-4"})]}));MA.displayName=ej.displayName;const DA=u.forwardRef(({className:e,...t},r)=>o.jsx(tj,{ref:r,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));DA.displayName=tj.displayName;const Gm=u.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(IA,{children:o.jsx(K1,{ref:n,sideOffset:t,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Gm.displayName=K1.displayName;const ui=u.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(Y1,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));ui.displayName=Y1.displayName;const $A=u.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(J1,{ref:s,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Q1,{children:o.jsx(Nm,{className:"h-4 w-4"})})}),t]}));$A.displayName=J1.displayName;const LA=u.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(X1,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Q1,{children:o.jsx(b5,{className:"h-4 w-4 fill-current"})})}),t]}));LA.displayName=X1.displayName;const UA=u.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(G1,{ref:n,className:je("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));UA.displayName=G1.displayName;const FA=u.forwardRef(({className:e,...t},r)=>o.jsx(Z1,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));FA.displayName=Z1.displayName;var zA=Symbol("radix.slottable");function BA(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=zA,t}var sj="AlertDialog",[VA]=er(sj,[Uw]),Pn=Uw(),oj=e=>{const{__scopeAlertDialog:t,...r}=e,n=Pn(t);return o.jsx(tb,{...n,...r,modal:!0})};oj.displayName=sj;var WA="AlertDialogTrigger",qA=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pn(r);return o.jsx(c5,{...s,...n,ref:t})});qA.displayName=WA;var HA="AlertDialogPortal",aj=e=>{const{__scopeAlertDialog:t,...r}=e,n=Pn(t);return o.jsx(rb,{...n,...r})};aj.displayName=HA;var KA="AlertDialogOverlay",ij=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pn(r);return o.jsx(vm,{...s,...n,ref:t})});ij.displayName=KA;var Ao="AlertDialogContent",[GA,YA]=VA(Ao),JA=BA("AlertDialogContent"),lj=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=Pn(r),i=u.useRef(null),l=Re(t,i),c=u.useRef(null);return o.jsx(o5,{contentName:Ao,titleName:cj,docsSlug:"alert-dialog",children:o.jsx(GA,{scope:r,cancelRef:c,children:o.jsxs(ym,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:de(s.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[o.jsx(JA,{children:n}),o.jsx(QA,{contentRef:i})]})})})});lj.displayName=Ao;var cj="AlertDialogTitle",dj=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pn(r);return o.jsx(wm,{...s,...n,ref:t})});dj.displayName=cj;var uj="AlertDialogDescription",hj=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pn(r);return o.jsx(bm,{...s,...n,ref:t})});hj.displayName=uj;var XA="AlertDialogAction",fj=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Pn(r);return o.jsx(jm,{...s,...n,ref:t})});fj.displayName=XA;var mj="AlertDialogCancel",pj=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=YA(mj,r),a=Pn(r),i=Re(t,s);return o.jsx(jm,{...a,...n,ref:i})});pj.displayName=mj;var QA=({contentRef:e})=>{const t=`\`${Ao}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ao}\` by passing a \`${uj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ao}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ZA=oj,eO=aj,gj=ij,xj=lj,vj=fj,yj=pj,wj=dj,bj=hj;const xc=ZA,tO=eO,jj=u.forwardRef(({className:e,...t},r)=>o.jsx(gj,{className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));jj.displayName=gj.displayName;const hi=u.forwardRef(({className:e,...t},r)=>o.jsxs(tO,{children:[o.jsx(jj,{}),o.jsx(xj,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));hi.displayName=xj.displayName;const fi=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",e),...t});fi.displayName="AlertDialogHeader";const mi=({className:e,...t})=>o.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});mi.displayName="AlertDialogFooter";const pi=u.forwardRef(({className:e,...t},r)=>o.jsx(wj,{ref:r,className:je("text-lg font-semibold",e),...t}));pi.displayName=wj.displayName;const gi=u.forwardRef(({className:e,...t},r)=>o.jsx(bj,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));gi.displayName=bj.displayName;const xi=u.forwardRef(({className:e,...t},r)=>o.jsx(vj,{ref:r,className:je(hm(),e),...t}));xi.displayName=vj.displayName;const vi=u.forwardRef(({className:e,...t},r)=>o.jsx(yj,{ref:r,className:je(hm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));vi.displayName=yj.displayName;function rO({onNavigateToMessages:e,onNavigate:t,sharedPostId:r,onPostViewed:n}={}){const{isAdmin:s}=zc(),[a,i]=u.useState([]),[l,c]=u.useState(!0),[d,h]=u.useState(0),[f,p]=u.useState(!0),[m,w]=u.useState(null),[g,b]=u.useState(null),[v,x]=u.useState({}),[y,j]=u.useState(null),[_,S]=u.useState(null),[k,T]=u.useState(!1),[C,E]=u.useState(new Set),[I,M]=u.useState(null),[q,J]=u.useState(""),[X,F]=u.useState([]),[$,O]=u.useState(!1),[N,R]=u.useState(null),z=u.useRef(null),[H,B]=u.useState(null),[te,Z]=u.useState(0),[ie,Q]=u.useState(!1),[me,U]=u.useState([]),[A,V]=u.useState(null),[se,ge]=u.useState("followers"),[ke,Pe]=u.useState([]),[Te,K]=u.useState(new Set),[ae,G]=u.useState(!1),Se=10;u.useEffect(()=>{L.auth.getUser().then(async({data:P})=>{var pe;const oe=((pe=P.user)==null?void 0:pe.id)||null;if(w(oe),oe){const{data:Ie}=await L.from("follows").select("following_id").eq("follower_id",oe);Ie&&E(new Set(Ie.map(Ce=>Ce.following_id)))}})},[]),u.useEffect(()=>{const P=()=>{const Ie=window.location.pathname.match(/^\/post\/([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})$/i);if(Ie){const Ce=Ie[1];console.log("[Discover] Opening shared post from URL:",Ce),b(Ce),window.history.replaceState({},"","/discover")}};P(),window.addEventListener("popstate",P);const oe=pe=>{pe.detail&&b(pe.detail)};return window.addEventListener("open-shared-post",oe),()=>{window.removeEventListener("popstate",P),window.removeEventListener("open-shared-post",oe)}},[]),u.useEffect(()=>{if(!m)return;const P=async()=>{console.log("[Notifications] Loading notifications for user:",m);const{data:pe,error:Ie}=await L.from("notifications").select("*").eq("user_id",m).neq("type","message").order("created_at",{ascending:!1}).limit(20);if(Ie){console.error("[Notifications] Error loading notifications:",Ie);return}if(console.log("[Notifications] Loaded notifications:",pe),pe){const Ce=[...new Set(pe.map(ue=>ue.actor_id))],{data:Ne}=await L.from("profiles").select("id, username, avatar_url").in("id",Ce);console.log("[Notifications] Loaded actor profiles:",Ne);const ye=new Map((Ne==null?void 0:Ne.map(ue=>[ue.id,ue]))||[]),ze=pe.map(ue=>({...ue,actor:ye.get(ue.actor_id)||{username:"Unknown",avatar_url:null}}));U(ze),Z(ze.filter(ue=>!ue.read).length),console.log("[Notifications] Unread count:",ze.filter(ue=>!ue.read).length)}};P();const oe=L.channel("notifications-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${m}`},()=>{P()}).subscribe();return()=>{L.removeChannel(oe)}},[m]),u.useEffect(()=>{r&&m&&(async()=>{const{data:oe}=await L.from("posts").select("*, profiles(username, avatar_url), likes(user_id), comments(id)").eq("id",r).maybeSingle();oe&&(b(r),n&&n())})()},[r,m,n]);const ee=u.useCallback(async(P,oe=!1)=>{try{let pe=L.from("posts").select("*").order("created_at",{ascending:!1});if(H){const{data:ye}=await L.from("hashtags").select("id").eq("tag",H.toLowerCase()).maybeSingle();if(ye){const{data:ze}=await L.from("post_hashtags").select("post_id").eq("hashtag_id",ye.id),ue=(ze||[]).map(Me=>Me.post_id);if(ue.length===0){i([]),p(!1),c(!1);return}pe=pe.in("id",ue)}else{i([]),p(!1),c(!1);return}}const{data:Ie,error:Ce}=await pe.range(P*Se,(P+1)*Se-1);if(Ce)throw Ce;const Ne=await Promise.all((Ie||[]).map(async ye=>{const{data:ze}=await L.from("profiles").select("username, avatar_url").eq("id",ye.user_id).single(),{data:ue}=await L.from("likes").select("user_id").eq("post_id",ye.id),{count:Me}=await L.from("comments").select("*",{count:"exact",head:!0}).eq("post_id",ye.id),{data:Ue}=await L.from("comments").select("id, text, created_at, user_id, rating").eq("post_id",ye.id).order("created_at",{ascending:!1}).limit(2),dt=await Promise.all((Ue||[]).map(async lt=>{const{data:Be}=await L.from("profiles").select("username").eq("id",lt.user_id).single();return{...lt,profiles:Be}})),{data:mt}=await L.from("post_ratings").select("rating").eq("post_id",ye.id),Lt=(mt==null?void 0:mt.length)||0,gr=Lt>0?mt.reduce((lt,Be)=>lt+Be.rating,0)/Lt:0;return x(lt=>({...lt,[ye.id]:{average:gr,count:Lt}})),{...ye,profiles:ze,likes:ue||[],comments:dt,_count:{likes:(ue==null?void 0:ue.length)||0,comments:Me||0}}}));oe?(i(Ne),h(0)):i(ye=>[...ye,...Ne]),p((Ie||[]).length===Se)}catch(pe){console.error("Error fetching posts:",pe),D.error("Failed to load posts")}finally{c(!1)}},[H]);u.useEffect(()=>{let P=!0,oe=null;return(async()=>{P&&await ee(0,!0)})(),oe=L.channel("posts-and-comments-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"posts"},async Ie=>{if(!P)return;const Ce=Ie.new,{data:Ne}=await L.from("profiles").select("username, avatar_url").eq("id",Ce.user_id).maybeSingle(),ye={...Ce,profiles:Ne||{username:"User",avatar_url:null},likes:[],comments:[],_count:{likes:0,comments:0}};i(ze=>ze.some(ue=>ue.id===ye.id)?ze:[ye,...ze])}).on("postgres_changes",{event:"INSERT",schema:"public",table:"comments"},()=>{}).on("postgres_changes",{event:"INSERT",schema:"public",table:"likes"},()=>{}).subscribe(),()=>{P=!1,oe&&L.removeChannel(oe)}},[]);const he=()=>{const P=d+1;h(P),ee(P)},we=async P=>{if(m)try{if(C.has(P)){const{error:pe}=await L.from("follows").delete().eq("follower_id",m).eq("following_id",P);if(pe)throw pe;E(Ie=>{const Ce=new Set(Ie);return Ce.delete(P),Ce}),D.success("Unsupported")}else{const{error:pe}=await L.from("follows").insert({follower_id:m,following_id:P});if(pe)throw pe;await L.from("notifications").insert({user_id:P,actor_id:m,type:"follow"}),E(Ie=>new Set([...Ie,P])),D.success("Supporting!")}}catch(oe){console.error("Error toggling follow:",oe),D.error("Failed to update follow status")}},$e=async()=>{if(y)try{const{error:P}=await L.from("posts").delete().eq("id",y);if(P)throw P;i(oe=>oe.filter(pe=>pe.id!==y)),D.success("Post deleted"),j(null)}catch(P){console.error("Error deleting post:",P),D.error("Failed to delete post")}},Tt=async P=>{var pe;const oe=(pe=P.target.files)==null?void 0:pe[0];if(!(!oe||!_)){T(!0);try{const Ie=oe.name.split(".").pop(),Ce=`${m}/${Date.now()}.${Ie}`,{error:Ne}=await L.storage.from("avatars").upload(Ce,oe);if(Ne)throw Ne;const{data:ye}=L.storage.from("avatars").getPublicUrl(Ce);S(ze=>ze?{...ze,photoUrl:ye.publicUrl}:null),D.success("Photo uploaded!")}catch(Ie){console.error("Error uploading photo:",Ie),D.error("Failed to upload photo")}finally{T(!1)}}},W=async()=>{if(_)try{const{error:P}=await L.from("posts").update({caption:_.caption.trim()||null,recipe_url:_.recipeUrl.trim()||null,photo_url:_.photoUrl.trim()||null,image_url:_.photoUrl.trim()||null}).eq("id",_.id);if(P)throw P;i(oe=>oe.map(pe=>pe.id===_.id?{...pe,caption:_.caption.trim()||null,image_url:_.photoUrl.trim()||null,recipe_url:_.recipeUrl.trim()||null,photo_url:_.photoUrl.trim()||null}:pe)),D.success("Post updated"),S(null)}catch(P){console.error("Error updating post:",P),D.error("Failed to update post")}},le=async P=>{var Ie;if(!m)return;const oe=a.find(Ce=>Ce.id===P),pe=(Ie=oe==null?void 0:oe.likes)==null?void 0:Ie.some(Ce=>Ce.user_id===m);try{if(pe)await L.from("likes").delete().match({post_id:P,user_id:m}),i(Ce=>Ce.map(Ne=>Ne.id===P?{...Ne,likes:Ne.likes.filter(ye=>ye.user_id!==m),_count:{...Ne._count,likes:Ne._count.likes-1}}:Ne));else{await L.from("likes").insert({post_id:P,user_id:m});const Ce=a.find(Ne=>Ne.id===P);if(Ce&&Ce.user_id!==m){console.log("[Notifications] Sending like notification:",{user_id:Ce.user_id,actor_id:m,type:"like",post_id:P});const{data:Ne,error:ye}=await L.from("notifications").insert({user_id:Ce.user_id,actor_id:m,type:"like",post_id:P});ye?console.error("[Notifications] Error sending like notification:",ye):console.log("[Notifications] Like notification sent successfully:",Ne)}i(Ne=>Ne.map(ye=>ye.id===P?{...ye,likes:[...ye.likes,{user_id:m}],_count:{...ye._count,likes:ye._count.likes+1}}:ye))}}catch(Ce){console.error("Error toggling like:",Ce),D.error("Failed to update like")}};if(l)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading feed..."})]})});const ve=async P=>{console.log("[Search] Performing search for:",P);try{const{data:oe,error:pe}=await L.from("profiles").select("id, username, avatar_url").ilike("username",`${P}%`).limit(10);if(pe){console.error("[Search] Error:",pe),D.error("Search failed: "+pe.message),F([]),O(!1);return}console.log("[Search] Results:",oe),F(oe||[]),O(!0)}catch(oe){console.error("[Search] Exception:",oe),F([]),O(!1)}},Ae=P=>{if(J(P),z.current&&clearTimeout(z.current),!P.trim()){F([]),O(!1);return}z.current=setTimeout(()=>{ve(P)},300)},yt=async P=>{await L.from("notifications").update({read:!0}).eq("id",P),U(oe=>oe.map(pe=>pe.id===P?{...pe,read:!0}:pe)),Z(oe=>Math.max(0,oe-1))},hn=P=>{P.key==="Enter"&&q.trim()&&(P.preventDefault(),z.current&&clearTimeout(z.current),X.length>0?(R(X[0].id),O(!1),J("")):ve(q))},at=async P=>{if(V(P),ge("followers"),K(new Set),G(!1),m){const{data:oe}=await L.from("follows").select("following_id, profiles:following_id(id, username, avatar_url)").eq("follower_id",m);Pe(oe||[])}},mr=async P=>{var Ne,ye;const oe=a.find(ze=>ze.id===P);if(!oe)return;const pe=((Ne=oe.profiles)==null?void 0:Ne.username)||"someone",Ie=`${window.location.origin}/${pe}?post=${P}`,Ce={title:oe.title||"Check out this recipe on MealScrape!",text:oe.caption?`${oe.caption}

Shared via MealScrape`:"I found this fire recipe on MealScrape!",url:Ie};if(navigator.share&&((ye=navigator.canShare)!=null&&ye.call(navigator,Ce)))try{await navigator.share(Ce),D.success("Shared successfully!")}catch(ze){ze.name!=="AbortError"&&(console.error("Native share failed:",ze),rr(Ie))}else rr(Ie)},rr=P=>{navigator.clipboard.writeText(P).then(()=>{D.success("Link copied to clipboard!")}).catch(()=>{D.error("Failed to copy link")})},pr=P=>{var Ce;const oe=a.find(Ne=>Ne.id===P);if(!oe)return;const Ie=`https://mealscrape.com/${((Ce=oe.profiles)==null?void 0:Ce.username)||"user"}?post=${P}`;navigator.clipboard.writeText(Ie).then(()=>{G(!0),D.success("Link copied!"),setTimeout(()=>G(!1),2e3)}).catch(Ne=>{console.error("Failed to copy:",Ne),D.error("Failed to copy link")})},et=async()=>{var Ce;if(!A||Te.size===0)return;const P=a.find(Ne=>Ne.id===A);if(!P)return;const pe=`https://mealscrape.com/${((Ce=P.profiles)==null?void 0:Ce.username)||"user"}?post=${A}`,Ie=`Check out this recipe: ${P.title||"Shared post"}
${pe}`;try{for(const Ne of Te){let ye=null;const{data:ze}=await L.from("conversations").select("id").or(`and(user1_id.eq.${m},user2_id.eq.${Ne}),and(user1_id.eq.${Ne},user2_id.eq.${m})`).maybeSingle();if(ze)ye=ze.id,console.log("Found existing conversation:",ye);else{const{data:Ue,error:dt}=await L.from("conversations").insert({user1_id:m,user2_id:Ne}).select().single();if(dt)throw console.error("Error creating conversation:",dt),dt;ye=Ue.id,console.log("Created new conversation:",ye)}const{error:ue}=await L.from("direct_messages").insert({conversation_id:ye,sender_id:m,content:Ie});if(ue)throw console.error("Error inserting message:",ue),ue;console.log("Message sent successfully to conversation:",ye);const{error:Me}=await L.from("conversations").update({updated_at:new Date().toISOString(),last_message_at:new Date().toISOString()}).eq("id",ye);Me&&console.error("Error updating conversation:",Me)}if(D.success(`Shared with ${Te.size} ${Te.size===1?"person":"people"}!`),V(null),K(new Set),Te.size===1&&e){const Ne=Array.from(Te)[0],ye=ke.find(ze=>ze.following_id===Ne);ye!=null&&ye.profiles&&e(Ne,ye.profiles.username)}}catch(Ne){console.error("Error sharing post:",Ne),D.error("Failed to share post")}};return o.jsx("div",{className:"min-h-screen bg-gray-50 pb-32 overflow-x-hidden",children:o.jsxs("div",{className:"max-w-sm mx-auto w-full",onClick:()=>{Q(!1),O(!1)},children:[o.jsxs("div",{className:"fixed top-14 left-0 right-0 z-20 bg-white border-b border-gray-200 p-4 max-w-sm mx-auto lg:ml-64 lg:max-w-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(mw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:q,onChange:P=>Ae(P.target.value),onKeyDown:hn,placeholder:"Search users...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),$&&o.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 bg-white border border-gray-200 rounded-lg max-h-60 overflow-y-auto shadow-lg z-50",children:X.length>0?X.map(P=>o.jsxs("button",{onClick:()=>{R(P.id),O(!1),J("")},className:"w-full flex items-center gap-2 p-2 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-0",children:[o.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-orange-400 to-red-400 overflow-hidden flex items-center justify-center",children:P.avatar_url?o.jsx("img",{src:P.avatar_url,alt:P.username,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-white font-semibold text-sm",children:P.username.charAt(0).toUpperCase()})}),o.jsx("span",{className:"font-medium text-gray-900",children:P.username})]},P.id)):o.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No users found"})})]}),o.jsxs("button",{onClick:async P=>{P.stopPropagation(),Q(!ie),!ie&&m&&(await L.from("notifications").update({read:!0}).eq("user_id",m).eq("read",!1),Z(0))},className:"relative p-2 hover:bg-gray-100 rounded-full transition-colors flex-shrink-0",children:[o.jsx(hE,{className:"w-6 h-6 text-gray-700"}),te>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-semibold",children:te>9?"9+":te})]})]}),ie&&o.jsx("div",{className:"absolute left-4 right-4 top-full mt-2 bg-white border border-gray-200 rounded-lg max-h-96 overflow-y-auto shadow-lg z-50",children:me.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No notifications yet"}):me.map(P=>{var oe;return o.jsx("div",{onClick:()=>{var pe;P.read||yt(P.id),Q(!1),P.post_id&&(P.type==="like"||P.type==="comment")?(console.log("[Notifications] Opening post:",P.post_id),b(P.post_id)):P.type==="follow"&&((pe=P.actor)!=null&&pe.username)&&(console.log("[Notifications] Opening profile:",P.actor.username),window.location.href=`/${P.actor.username}`)},className:`p-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ${P.read?"":"bg-blue-50"}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-semibold",children:((oe=P.actor)==null?void 0:oe.username)||"Someone"}),P.type==="follow"&&" started following you",P.type==="like"&&" loved your post",P.type==="comment"&&" commented on your post",P.type==="message"&&" sent you a message"]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[new Date(P.created_at).toLocaleDateString()," at"," ",new Date(P.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),!P.read&&o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]})},P.id)})})]}),o.jsxs("div",{className:"pt-24",style:{paddingTop:"calc(5rem + env(safe-area-inset-top))"},children:[H&&o.jsxs("div",{className:"bg-blue-50 border-b border-blue-200 p-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jE,{className:"w-4 h-4 text-blue-600"}),o.jsxs("span",{className:"text-sm font-semibold text-blue-900",children:["Posts tagged with #",H]})]}),o.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>B(null),className:"text-blue-600 hover:text-blue-700",children:"Clear"})]}),N?o.jsx(L4,{userId:N,currentUserId:m,posts:a,isFollowing:C.has(N),onBack:()=>R(null),onToggleFollow:we,onMessage:(P,oe)=>{e&&e(P,oe)},onRefresh:()=>ee(0,!0)}):a.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500",children:"No posts yet. Be the first to share!"})}):o.jsxs(o.Fragment,{children:[a.map(P=>{var Ce,Ne,ye,ze,ue,Me,Ue,dt,mt,Lt,gr,lt;const oe=(Ce=P.likes)==null?void 0:Ce.some(Be=>Be.user_id===m),pe=((Ne=P.comments)==null?void 0:Ne.slice(0,2))||[],Ie=P.user_id===m;return o.jsxs("div",{className:"bg-white border-b border-gray-200 mb-2 flex flex-col min-h-0",children:[o.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[(ye=P.profiles)!=null&&ye.avatar_url?o.jsx("img",{src:P.profiles.avatar_url,alt:P.profiles.username,className:"w-8 h-8 rounded-full object-cover"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-white font-medium text-sm",children:((Me=(ue=(ze=P.profiles)==null?void 0:ze.username)==null?void 0:ue[0])==null?void 0:Me.toUpperCase())||o.jsx(si,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>{var Be;window.location.href=`/${(Be=P.profiles)==null?void 0:Be.username}`},className:"font-semibold text-sm hover:underline cursor-pointer",children:(Ue=P.profiles)==null?void 0:Ue.username}),P.user_id==="51ad04fa-6d63-4c45-9423-76183eea7b39"&&o.jsx(Da,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"})]})]}),(Ie||s)&&o.jsxs(rj,{children:[o.jsx(nj,{asChild:!0,children:o.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(dw,{className:"w-5 h-5 text-gray-600"})})}),o.jsxs(Gm,{align:"end",children:[o.jsxs(ui,{onClick:()=>S({id:P.id,caption:P.caption||"",recipeUrl:P.recipe_url||"",photoUrl:P.photo_url||""}),className:"cursor-pointer",children:[o.jsx(Ch,{className:"w-4 h-4 mr-2"}),"Edit post"]}),o.jsxs(ui,{onClick:()=>j(P.id),className:"cursor-pointer text-red-600",children:[o.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Delete post"]})]})]})]}),o.jsxs("div",{className:"relative",children:[P.image_url?o.jsx("img",{src:P.image_url,alt:P.title||"Post",className:"w-full aspect-square object-cover"}):P.video_url?o.jsx("video",{src:P.video_url,controls:!0,className:"w-full aspect-square object-cover"}):null,P.spotify_preview_url&&o.jsxs("div",{className:"absolute top-4 right-4 z-10",children:[o.jsxs("button",{onClick:Be=>{Be.stopPropagation();const fn=document.getElementById(`audio-${P.id}`),Hs=Be.currentTarget.querySelector(".play-icon");document.querySelectorAll("audio").forEach(np=>{np.id!==`audio-${P.id}`&&np.pause()}),fn.paused?(fn.play(),Hs&&(Hs.textContent="Pause")):(fn.pause(),Hs&&(Hs.textContent="Play"))},className:"bg-black/70 hover:bg-black/90 backdrop-blur-sm text-white px-3 py-2 rounded-full shadow-lg transition-all flex items-center gap-2",children:[o.jsx("span",{className:"text-xl play-icon",children:"Play"}),o.jsxs("div",{className:"text-left text-xs max-w-32",children:[o.jsx("div",{className:"font-semibold truncate",children:P.spotify_track_name}),o.jsx("div",{className:"text-white/80 truncate",children:P.spotify_artist_name})]})]}),o.jsx("audio",{id:`audio-${P.id}`,src:P.spotify_preview_url})]}),P.title&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent px-4 py-3",children:o.jsxs("div",{className:"flex items-end justify-between gap-2",children:[o.jsx("h3",{className:"text-white text-sm font-semibold flex-1",children:P.title}),v[P.id]&&v[P.id].count>0&&o.jsxs("div",{className:"flex items-center gap-1 bg-black/50 px-2 py-1 rounded-full",children:[o.jsx("span",{className:"text-lg",children:""}),o.jsx("span",{className:"text-white text-xs font-semibold",children:v[P.id].average.toFixed(1)}),o.jsxs("span",{className:"text-white/70 text-xs",children:["(",v[P.id].count,")"]})]})]})})]}),o.jsxs("div",{className:"px-4 py-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>le(P.id),className:"transition-transform hover:scale-110 relative",children:[o.jsx(sm,{className:`w-7 h-7 ${oe?"fill-red-500 text-red-500":"text-gray-700"}`}),((dt=P._count)==null?void 0:dt.likes)&&P._count.likes>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:P._count.likes})]}),o.jsxs("button",{onClick:()=>b(P.id),className:"transition-transform hover:scale-110 relative",children:[o.jsx(am,{className:"w-7 h-7 text-gray-700"}),((mt=P._count)==null?void 0:mt.comments)&&P._count.comments>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:P._count.comments})]}),o.jsx("button",{onClick:()=>at(P.id),className:"ml-auto transition-transform hover:scale-110",children:o.jsx(Eo,{className:"w-7 h-7 text-gray-700 hover:text-orange-600 transition-colors"})})]}),P.caption&&o.jsxs("div",{className:"text-sm",children:[o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx("span",{className:"font-semibold",children:(Lt=P.profiles)==null?void 0:Lt.username}),P.user_id==="51ad04fa-6d63-4c45-9423-76183eea7b39"&&o.jsx(Da,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"})]})," ",o.jsx("span",{className:"text-gray-700",children:$4(P.caption,Be=>{B(Be),R(null)})})]}),(((gr=P._count)==null?void 0:gr.comments)||0)>0&&o.jsxs("button",{onClick:()=>b(P.id),className:"text-sm text-gray-500 hover:text-gray-700",children:["View all ",(lt=P._count)==null?void 0:lt.comments," comments"]}),pe.map(Be=>{var fn;return o.jsxs("div",{className:"text-sm",children:[o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx("span",{className:"font-semibold",children:(fn=Be.profiles)==null?void 0:fn.username}),Be.user_id==="51ad04fa-6d63-4c45-9423-76183eea7b39"&&o.jsx(Da,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"})]})," ",o.jsx("span",{className:"text-gray-700",children:Be.text})]},Be.id)}),(P.recipe_id||P.recipe_url)&&o.jsxs(Y,{onClick:async()=>{if(P.recipe_id){const{getRecipeById:Be}=await yo(async()=>{const{getRecipeById:Hs}=await Promise.resolve().then(()=>Am);return{getRecipeById:Hs}},void 0),fn=await Be(P.recipe_id);fn?M(fn):D.error("Recipe not found")}else P.recipe_url&&window.open(P.recipe_url,"_blank")},variant:"outline",size:"sm",className:"w-full mt-2 border-orange-600 text-orange-600 hover:bg-orange-50",children:[o.jsx(Bc,{className:"w-4 h-4 mr-2"}),"View Recipe"]}),o.jsx("div",{className:"text-xs text-gray-400 uppercase pt-1",children:new Date(P.created_at).toLocaleDateString()})]})]},P.id)}),f&&o.jsx("div",{className:"py-8 text-center",children:o.jsx(Y,{onClick:he,variant:"outline",children:"Load More"})})]})]}),g&&o.jsx(td,{postId:g,isOpen:!!g,onClose:()=>b(null),onCommentPosted:()=>ee(0,!0)}),o.jsx(xc,{open:!!y,onOpenChange:P=>!P&&j(null),children:o.jsxs(hi,{children:[o.jsxs(fi,{children:[o.jsx(pi,{children:"Delete post?"}),o.jsx(gi,{children:"This action cannot be undone. This will permanently delete your post."})]}),o.jsxs(mi,{children:[o.jsx(vi,{children:"Cancel"}),o.jsx(xi,{onClick:$e,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),o.jsx(xc,{open:!!_,onOpenChange:P=>!P&&S(null),children:o.jsxs(hi,{className:"max-h-[90vh] overflow-y-auto",children:[o.jsxs(fi,{children:[o.jsx(pi,{children:"Edit post"}),o.jsx(gi,{children:"Update your caption and recipe link."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Caption"}),o.jsx(Sn,{value:(_==null?void 0:_.caption)||"",onChange:P=>S(oe=>oe?{...oe,caption:P.target.value}:null),placeholder:"Write a caption...",className:"resize-none",rows:3})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Recipe URL"}),o.jsx("input",{type:"url",value:(_==null?void 0:_.recipeUrl)||"",onChange:P=>S(oe=>oe?{...oe,recipeUrl:P.target.value}:null),placeholder:"https://...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Change Photo/Video (Upload from device)"}),o.jsx("input",{type:"file",accept:"image/*,video/*",onChange:Tt,disabled:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"}),k&&o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Uploading..."}),(_==null?void 0:_.photoUrl)&&o.jsx("img",{src:_.photoUrl,alt:"Preview",className:"mt-2 w-32 h-32 object-cover rounded-lg",onError:P=>{P.currentTarget.style.display="none"}})]})]}),o.jsxs(mi,{children:[o.jsx(vi,{children:"Cancel"}),o.jsx(xi,{onClick:W,className:"bg-orange-600 hover:bg-orange-700",children:"Save changes"})]})]})}),I&&o.jsx(Eb,{recipe:I,open:!!I,onOpenChange:P=>!P&&M(null)}),o.jsx(_t,{open:!!A,onOpenChange:P=>!P&&V(null),children:o.jsxs(vt,{className:"sm:max-w-md max-h-[80vh] overflow-y-auto",children:[o.jsx(Vt,{children:o.jsx(Dt,{children:"Share"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[o.jsx("button",{onClick:()=>ge("followers"),className:`flex-1 py-2 px-4 font-medium transition-colors ${se==="followers"?"text-orange-600 border-b-2 border-orange-600":"text-gray-500 hover:text-gray-700"}`,children:"Send to Followers"}),o.jsx("button",{onClick:()=>ge("link"),className:`flex-1 py-2 px-4 font-medium transition-colors ${se==="link"?"text-orange-600 border-b-2 border-orange-600":"text-gray-500 hover:text-gray-700"}`,children:"Share Link"})]}),se==="followers"&&o.jsx("div",{className:"space-y-4",children:ke.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:"You don't have any followers yet"}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:ke.map(P=>{var Ie,Ce;const oe=P.profiles,pe=Te.has(P.following_id);return o.jsxs("button",{onClick:()=>{const Ne=new Set(Te);pe?Ne.delete(P.following_id):Ne.add(P.following_id),K(Ne)},className:`w-full flex items-center gap-3 p-3 rounded-lg transition-colors ${pe?"bg-orange-50 border-2 border-orange-500":"hover:bg-gray-50 border-2 border-transparent"}`,children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-red-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:oe!=null&&oe.avatar_url?o.jsx("img",{src:oe.avatar_url,alt:oe.username,className:"w-full h-full object-cover"}):(Ce=(Ie=oe==null?void 0:oe.username)==null?void 0:Ie[0])==null?void 0:Ce.toUpperCase()}),o.jsx("div",{className:"flex-1 text-left",children:o.jsx("div",{className:"font-semibold",children:oe==null?void 0:oe.username})}),pe&&o.jsx(sc,{className:"w-5 h-5 text-orange-600"})]},P.following_id)})}),o.jsxs(Y,{onClick:et,disabled:Te.size===0,className:"w-full bg-orange-500 hover:bg-orange-600",children:[o.jsx(Eo,{className:"w-4 h-4 mr-2"}),"Send to ",Te.size," ",Te.size===1?"person":"people"]})]})}),se==="link"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Y,{onClick:()=>A&&mr(A),className:"w-full bg-blue-500 hover:bg-blue-600",children:[o.jsx(Eo,{className:"w-4 h-4 mr-2"}),"Share via Apps"]}),o.jsx(Y,{onClick:()=>A&&pr(A),variant:"outline",className:"w-full",children:ae?o.jsxs(o.Fragment,{children:[o.jsx(sc,{className:"w-4 h-4 mr-2"}),"Link Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(Sh,{className:"w-4 h-4 mr-2"}),"Copy Link"]})})]})]})]})})]})})}function nO(){const{state:e}=Bs(),[t,r]=u.useState(null);return e.savedRecipes.length===0?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 pt-safe pb-safe",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:py-8 pb-28 sm:pb-24",children:[o.jsxs("div",{className:"mb-8 sm:mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-1 sm:mb-2",children:"My Recipes"}),o.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600",children:"Your saved recipes collection"})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 sm:py-12 md:py-20 px-4",children:[o.jsx("div",{className:"bg-gradient-to-br from-emerald-100 to-teal-100 p-8 sm:p-6 md:p-8 rounded-full mb-6 shadow-lg",children:o.jsx(mE,{className:"w-20 h-20 sm:w-16 sm:h-16 md:w-20 md:h-20 text-emerald-600"})}),o.jsx("h2",{className:"text-xl sm:text-xl md:text-2xl font-bold text-gray-900 mb-3 text-center px-4 leading-tight",children:"No Saved Recipes Yet"}),o.jsx("p",{className:"text-gray-600 text-center max-w-md mb-6 px-4 text-base sm:text-sm md:text-base leading-relaxed",children:"Start building your recipe collection by exploring and saving your favorite recipes from the Discover page."}),o.jsx("div",{className:"mt-2",children:o.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-emerald-600 font-medium bg-emerald-50 px-4 py-2 rounded-full",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),o.jsx("span",{children:"Explore recipes to get started"})]})})]})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 pt-safe pb-safe",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:py-6 pb-28 sm:pb-24",children:[o.jsxs("div",{className:"mb-6 sm:mb-6 flex items-start sm:items-center justify-between gap-3 sm:gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-1 leading-tight",children:"My Recipes"}),o.jsxs("p",{className:"text-sm sm:text-base md:text-xl text-gray-600 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"font-semibold text-emerald-600",children:e.savedRecipes.length}),o.jsxs("span",{children:["saved recipe",e.savedRecipes.length!==1?"s":""]})]})]}),o.jsx("div",{className:"bg-gradient-to-br from-emerald-100 to-teal-100 p-3 sm:p-3 md:p-4 rounded-2xl sm:rounded-full shadow-md shrink-0",children:o.jsx(ts,{className:"w-6 h-6 sm:w-6 sm:h-6 md:w-8 md:h-8 text-emerald-600"})})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-5 md:gap-6",children:e.savedRecipes.map(n=>o.jsx("div",{className:"flex w-full",children:o.jsx(Oh,{recipe:n,showReviewButton:!0,onCook:s=>{const a=e.savedRecipes.find(i=>i.id===s);a&&r(a)}})},n.id))}),e.savedRecipes.length>6&&o.jsx("div",{className:"mt-8 text-center",children:o.jsxs("div",{className:"inline-flex items-center gap-2 text-xs text-gray-400",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"}),o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"}),o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300"})]})})]}),t&&o.jsx("div",{className:"fixed inset-0 z-50",children:o.jsx(Pm,{recipe:t,onClose:()=>r(null)})})]})}var sO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oO=sO.reduce((e,t)=>{const r=dm(`Primitive.${t}`),n=u.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),aO="Label",Nj=u.forwardRef((e,t)=>o.jsx(oO.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Nj.displayName=aO;var _j=Nj;const iO=Vc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=u.forwardRef(({className:e,...t},r)=>o.jsx(_j,{ref:r,className:je(iO(),e),...t}));Fe.displayName=_j.displayName;function lO(e){const t=cO(e),r=u.forwardRef((n,s)=>{const{children:a,...i}=n,l=u.Children.toArray(a),c=l.find(uO);if(c){const d=c.props.children,h=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return o.jsx(t,{...i,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,h):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function cO(e){const t=u.forwardRef((r,n)=>{const{children:s,...a}=r;if(u.isValidElement(s)){const i=fO(s),l=hO(a,s.props);return s.type!==u.Fragment&&(l.ref=n?Rn(n,i):i),u.cloneElement(s,l)}return u.Children.count(s)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dO=Symbol("radix.slottable");function uO(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dO}function hO(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function fO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Sj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mO="VisuallyHidden",pO=u.forwardRef((e,t)=>o.jsx(_e.span,{...e,ref:t,style:{...Sj,...e.style}}));pO.displayName=mO;var gO=[" ","Enter","ArrowUp","ArrowDown"],xO=[" ","Enter"],$s="Select",[dd,ud,vO]=ki($s),[ta]=er($s,[vO,ad]),hd=ad(),[yO,us]=ta($s),[wO,bO]=ta($s),kj=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:m,form:w}=e,g=hd(t),[b,v]=u.useState(null),[x,y]=u.useState(null),[j,_]=u.useState(!1),S=Qo(d),[k,T]=Kr({prop:n,defaultProp:s??!1,onChange:a,caller:$s}),[C,E]=Kr({prop:i,defaultProp:l,onChange:c,caller:$s}),I=u.useRef(null),M=b?w||!!b.closest("form"):!0,[q,J]=u.useState(new Set),X=Array.from(q).map(F=>F.props.value).join(";");return o.jsx(Zb,{...g,children:o.jsxs(yO,{required:m,scope:t,trigger:b,onTriggerChange:v,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:Vr(),value:C,onValueChange:E,open:k,onOpenChange:T,dir:S,triggerPointerDownPosRef:I,disabled:p,children:[o.jsx(dd.Provider,{scope:t,children:o.jsx(wO,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(F=>{J($=>new Set($).add(F))},[]),onNativeOptionRemove:u.useCallback(F=>{J($=>{const O=new Set($);return O.delete(F),O})},[]),children:r})}),M?o.jsxs(Jj,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:F=>E(F.target.value),disabled:p,form:w,children:[C===void 0?o.jsx("option",{value:""}):null,Array.from(q)]},X):null]})})};kj.displayName=$s;var Cj="SelectTrigger",Ej=u.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=hd(r),i=us(Cj,r),l=i.disabled||n,c=Re(t,i.onTriggerChange),d=ud(r),h=u.useRef("touch"),[f,p,m]=Qj(g=>{const b=d().filter(y=>!y.disabled),v=b.find(y=>y.value===i.value),x=Zj(b,g,v);x!==void 0&&i.onValueChange(x.value)}),w=g=>{l||(i.onOpenChange(!0),m()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(e1,{asChild:!0,...a,children:o.jsx(_e.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Xj(i.value)?"":void 0,...s,ref:c,onClick:de(s.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&w(g)}),onPointerDown:de(s.onPointerDown,g=>{h.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:de(s.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(b&&g.key===" ")&&gO.includes(g.key)&&(w(),g.preventDefault())})})})});Ej.displayName=Cj;var Rj="SelectValue",Pj=u.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=e,c=us(Rj,r),{onValueNodeHasChildrenChange:d}=c,h=a!==void 0,f=Re(t,c.onValueNodeChange);return St(()=>{d(h)},[d,h]),o.jsx(_e.span,{...l,ref:f,style:{pointerEvents:"none"},children:Xj(c.value)?o.jsx(o.Fragment,{children:i}):a})});Pj.displayName=Rj;var jO="SelectIcon",Tj=u.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(_e.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});Tj.displayName=jO;var NO="SelectPortal",Aj=e=>o.jsx(Hc,{asChild:!0,...e});Aj.displayName=NO;var Ls="SelectContent",Oj=u.forwardRef((e,t)=>{const r=us(Ls,e.__scopeSelect),[n,s]=u.useState();if(St(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Go.createPortal(o.jsx(Ij,{scope:e.__scopeSelect,children:o.jsx(dd.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(Mj,{...e,ref:t})});Oj.displayName=Ls;var Ir=10,[Ij,hs]=ta(Ls),_O="SelectContentImpl",SO=lO("SelectContent.RemoveScroll"),Mj=u.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:b,...v}=e,x=us(Ls,r),[y,j]=u.useState(null),[_,S]=u.useState(null),k=Re(t,Q=>j(Q)),[T,C]=u.useState(null),[E,I]=u.useState(null),M=ud(r),[q,J]=u.useState(!1),X=u.useRef(!1);u.useEffect(()=>{if(y)return mm(y)},[y]),fm();const F=u.useCallback(Q=>{const[me,...U]=M().map(se=>se.ref.current),[A]=U.slice(-1),V=document.activeElement;for(const se of Q)if(se===V||(se==null||se.scrollIntoView({block:"nearest"}),se===me&&_&&(_.scrollTop=0),se===A&&_&&(_.scrollTop=_.scrollHeight),se==null||se.focus(),document.activeElement!==V))return},[M,_]),$=u.useCallback(()=>F([T,y]),[F,T,y]);u.useEffect(()=>{q&&$()},[q,$]);const{onOpenChange:O,triggerPointerDownPosRef:N}=x;u.useEffect(()=>{if(y){let Q={x:0,y:0};const me=A=>{var V,se;Q={x:Math.abs(Math.round(A.pageX)-(((V=N.current)==null?void 0:V.x)??0)),y:Math.abs(Math.round(A.pageY)-(((se=N.current)==null?void 0:se.y)??0))}},U=A=>{Q.x<=10&&Q.y<=10?A.preventDefault():y.contains(A.target)||O(!1),document.removeEventListener("pointermove",me),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",U,{capture:!0})}}},[y,O,N]),u.useEffect(()=>{const Q=()=>O(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[O]);const[R,z]=Qj(Q=>{const me=M().filter(V=>!V.disabled),U=me.find(V=>V.ref.current===document.activeElement),A=Zj(me,Q,U);A&&setTimeout(()=>A.ref.current.focus())}),H=u.useCallback((Q,me,U)=>{const A=!X.current&&!U;(x.value!==void 0&&x.value===me||A)&&(C(Q),A&&(X.current=!0))},[x.value]),B=u.useCallback(()=>y==null?void 0:y.focus(),[y]),te=u.useCallback((Q,me,U)=>{const A=!X.current&&!U;(x.value!==void 0&&x.value===me||A)&&I(Q)},[x.value]),Z=n==="popper"?Uh:Dj,ie=Z===Uh?{side:l,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:g,avoidCollisions:b}:{};return o.jsx(Ij,{scope:r,content:y,viewport:_,onViewportChange:S,itemRefCallback:H,selectedItem:T,onItemLeave:B,itemTextRefCallback:te,focusSelectedItem:$,selectedItemText:E,position:n,isPositioned:q,searchRef:R,children:o.jsx(Gc,{as:SO,allowPinchZoom:!0,children:o.jsx(qc,{asChild:!0,trapped:x.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:de(s,Q=>{var me;(me=x.trigger)==null||me.focus({preventScroll:!0}),Q.preventDefault()}),children:o.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(Z,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Q=>Q.preventDefault(),...v,...ie,onPlaced:()=>J(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:de(v.onKeyDown,Q=>{const me=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!me&&Q.key.length===1&&z(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let A=M().filter(V=>!V.disabled).map(V=>V.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(A=A.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const V=Q.target,se=A.indexOf(V);A=A.slice(se+1)}setTimeout(()=>F(A)),Q.preventDefault()}})})})})})})});Mj.displayName=_O;var kO="SelectItemAlignedPosition",Dj=u.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=us(Ls,r),i=hs(Ls,r),[l,c]=u.useState(null),[d,h]=u.useState(null),f=Re(t,k=>h(k)),p=ud(r),m=u.useRef(!1),w=u.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:v,focusSelectedItem:x}=i,y=u.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&g&&b&&v){const k=a.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),E=v.getBoundingClientRect();if(a.dir!=="rtl"){const V=E.left-T.left,se=C.left-V,ge=k.left-se,ke=k.width+ge,Pe=Math.max(ke,T.width),Te=window.innerWidth-Ir,K=ai(se,[Ir,Math.max(Ir,Te-Pe)]);l.style.minWidth=ke+"px",l.style.left=K+"px"}else{const V=T.right-E.right,se=window.innerWidth-C.right-V,ge=window.innerWidth-k.right-se,ke=k.width+ge,Pe=Math.max(ke,T.width),Te=window.innerWidth-Ir,K=ai(se,[Ir,Math.max(Ir,Te-Pe)]);l.style.minWidth=ke+"px",l.style.right=K+"px"}const I=p(),M=window.innerHeight-Ir*2,q=g.scrollHeight,J=window.getComputedStyle(d),X=parseInt(J.borderTopWidth,10),F=parseInt(J.paddingTop,10),$=parseInt(J.borderBottomWidth,10),O=parseInt(J.paddingBottom,10),N=X+F+q+O+$,R=Math.min(b.offsetHeight*5,N),z=window.getComputedStyle(g),H=parseInt(z.paddingTop,10),B=parseInt(z.paddingBottom,10),te=k.top+k.height/2-Ir,Z=M-te,ie=b.offsetHeight/2,Q=b.offsetTop+ie,me=X+F+Q,U=N-me;if(me<=te){const V=I.length>0&&b===I[I.length-1].ref.current;l.style.bottom="0px";const se=d.clientHeight-g.offsetTop-g.offsetHeight,ge=Math.max(Z,ie+(V?B:0)+se+$),ke=me+ge;l.style.height=ke+"px"}else{const V=I.length>0&&b===I[0].ref.current;l.style.top="0px";const ge=Math.max(te,X+g.offsetTop+(V?H:0)+ie)+U;l.style.height=ge+"px",g.scrollTop=me-te+g.offsetTop}l.style.margin=`${Ir}px 0`,l.style.minHeight=R+"px",l.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[p,a.trigger,a.valueNode,l,d,g,b,v,a.dir,n]);St(()=>y(),[y]);const[j,_]=u.useState();St(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const S=u.useCallback(k=>{k&&w.current===!0&&(y(),x==null||x(),w.current=!1)},[y,x]);return o.jsx(EO,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(_e.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Dj.displayName=kO;var CO="SelectPopperPosition",Uh=u.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ir,...a}=e,i=hd(r);return o.jsx(t1,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Uh.displayName=CO;var[EO,Ym]=ta(Ls,{}),Fh="SelectViewport",$j=u.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=hs(Fh,r),i=Ym(Fh,r),l=Re(t,a.onViewportChange),c=u.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(dd.Slot,{scope:r,children:o.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:de(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const m=Math.abs(c.current-h.scrollTop);if(m>0){const w=window.innerHeight-Ir*2,g=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),v=Math.max(g,b);if(v<w){const x=v+m,y=Math.min(w,x),j=x-y;f.style.height=y+"px",f.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});$j.displayName=Fh;var Lj="SelectGroup",[RO,PO]=ta(Lj),TO=u.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Vr();return o.jsx(RO,{scope:r,id:s,children:o.jsx(_e.div,{role:"group","aria-labelledby":s,...n,ref:t})})});TO.displayName=Lj;var Uj="SelectLabel",Fj=u.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=PO(Uj,r);return o.jsx(_e.div,{id:s.id,...n,ref:t})});Fj.displayName=Uj;var vc="SelectItem",[AO,zj]=ta(vc),Bj=u.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,l=us(vc,r),c=hs(vc,r),d=l.value===n,[h,f]=u.useState(a??""),[p,m]=u.useState(!1),w=Re(t,x=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,x,n,s)}),g=Vr(),b=u.useRef("touch"),v=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(AO,{scope:r,value:n,disabled:s,textId:g,isSelected:d,onItemTextChange:u.useCallback(x=>{f(y=>y||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(dd.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:o.jsx(_e.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:de(i.onFocus,()=>m(!0)),onBlur:de(i.onBlur,()=>m(!1)),onClick:de(i.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:de(i.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:de(i.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:de(i.onPointerMove,x=>{var y;b.current=x.pointerType,s?(y=c.onItemLeave)==null||y.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(i.onPointerLeave,x=>{var y;x.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:de(i.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(xO.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});Bj.displayName=vc;var ba="SelectItemText",Vj=u.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=us(ba,r),l=hs(ba,r),c=zj(ba,r),d=bO(ba,r),[h,f]=u.useState(null),p=Re(t,v=>f(v),c.onItemTextChange,v=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,v,c.value,c.disabled)}),m=h==null?void 0:h.textContent,w=u.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=d;return St(()=>(g(w),()=>b(w)),[g,b,w]),o.jsxs(o.Fragment,{children:[o.jsx(_e.span,{id:c.textId,...a,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Go.createPortal(a.children,i.valueNode):null]})});Vj.displayName=ba;var Wj="SelectItemIndicator",qj=u.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return zj(Wj,r).isSelected?o.jsx(_e.span,{"aria-hidden":!0,...n,ref:t}):null});qj.displayName=Wj;var zh="SelectScrollUpButton",Hj=u.forwardRef((e,t)=>{const r=hs(zh,e.__scopeSelect),n=Ym(zh,e.__scopeSelect),[s,a]=u.useState(!1),i=Re(t,n.onScrollButtonChange);return St(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(Gj,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Hj.displayName=zh;var Bh="SelectScrollDownButton",Kj=u.forwardRef((e,t)=>{const r=hs(Bh,e.__scopeSelect),n=Ym(Bh,e.__scopeSelect),[s,a]=u.useState(!1),i=Re(t,n.onScrollButtonChange);return St(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;a(h)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(Gj,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Kj.displayName=Bh;var Gj=u.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=hs("SelectScrollButton",r),i=u.useRef(null),l=ud(r),c=u.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),St(()=>{var h;const d=l().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(_e.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:de(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:de(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:de(s.onPointerLeave,()=>{c()})})}),OO="SelectSeparator",Yj=u.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(_e.div,{"aria-hidden":!0,...n,ref:t})});Yj.displayName=OO;var Vh="SelectArrow",IO=u.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=hd(r),a=us(Vh,r),i=hs(Vh,r);return a.open&&i.position==="popper"?o.jsx(r1,{...s,...n,ref:t}):null});IO.displayName=Vh;var MO="SelectBubbleInput",Jj=u.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=u.useRef(null),a=Re(n,s),i=Jc(t);return u.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(_e.select,{...r,style:{...Sj,...r.style},ref:a,defaultValue:t})});Jj.displayName=MO;function Xj(e){return e===""||e===void 0}function Qj(e){const t=Et(e),r=u.useRef(""),n=u.useRef(0),s=u.useCallback(i=>{const l=r.current+i;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=u.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function Zj(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=DO(e,Math.max(a,0));s.length===1&&(i=i.filter(d=>d!==r));const c=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function DO(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var $O=kj,eN=Ej,LO=Pj,UO=Tj,FO=Aj,tN=Oj,zO=$j,rN=Fj,nN=Bj,BO=Vj,VO=qj,sN=Hj,oN=Kj,aN=Yj;const an=$O,ln=LO,Wr=u.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(eN,{ref:n,className:je("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(UO,{asChild:!0,children:o.jsx(u5,{className:"h-4 w-4 opacity-50"})})]}));Wr.displayName=eN.displayName;const iN=u.forwardRef(({className:e,...t},r)=>o.jsx(sN,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(x5,{})}));iN.displayName=sN.displayName;const lN=u.forwardRef(({className:e,...t},r)=>o.jsx(oN,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(nb,{})}));lN.displayName=oN.displayName;const qr=u.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(FO,{children:o.jsxs(tN,{ref:s,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(iN,{}),o.jsx(zO,{className:je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(lN,{})]})}));qr.displayName=tN.displayName;const WO=u.forwardRef(({className:e,...t},r)=>o.jsx(rN,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",e),...t}));WO.displayName=rN.displayName;const ir=u.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(nN,{ref:n,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(VO,{children:o.jsx(Nm,{className:"h-4 w-4"})})}),o.jsx(BO,{children:t})]}));ir.displayName=nN.displayName;const qO=u.forwardRef(({className:e,...t},r)=>o.jsx(aN,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));qO.displayName=aN.displayName;const cN="https://vohvdarghgqskzqjclux.supabase.co",Ex="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvaHZkYXJnaGdxc2t6cWpjbHV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4ODgwMDcsImV4cCI6MjA3ODQ2NDAwN30.6povbtgWFLTvq6lxVrqii_-PrOiLZrUo1n-BMlpK4gc",HO=`${cN}/functions/v1/recipe-proxy`,KO="https://recipe-backend-nodejs-1.onrender.com/extract";async function Rx(e){var l,c,d,h,f,p,m,w,g,b;if(!e.trim()||!dN(e))throw new Error("Please enter a valid URL");if(/tiktok\.com|instagram\.com|youtube\.com|youtu\.be/i.test(e))try{console.log("[Extractor] Sending to Render server:",e);const v=new AbortController,x=setTimeout(()=>v.abort(),5e4),y=await fetch(KO,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e.trim()}),signal:v.signal});if(clearTimeout(x),!y.ok){if(console.error("[Extractor] Server response not OK:",y.status),y.status>=500||y.status===429)throw new Error("Server waking up  try again in 20 seconds");const C=await y.text();throw console.error("[Extractor] Error response:",C),new Error("Video extraction failed")}const j=await y.json();console.log("[Extractor] Raw data from server:",j);const _=j.thumbnail||j.image||"";console.log("[Extractor] Raw image URL:",_);let S=_;if(_)if(_.includes("cdninstagram.com")||_.includes("fbcdn.net")||_.includes("instagram.com")){const E=_.replace(/&amp;/g,"&");S=`${cN}/functions/v1/image-proxy?url=${encodeURIComponent(E)}`,console.log("[Extractor] Instagram image detected, proxying:",S)}else console.log("[Extractor] Direct image URL (no proxy needed):",S);const k=(j.ingredients||[]).map(C=>{const E=Or(C.trim());if(!E)return{quantity:"",unit:"",name:""};const I=E.match(/^([\d\/\.\-\s\,]+)\s*/),M=I?I[1].trim():"",q=Xg(M);let J=E.slice(M.length).trim();const X=J.match(/^(cups?|tbsps?|tablespoons?|tsps?|teaspoons?|oz|ounces?|lbs?|pounds?|grams?|g|kg|kilograms?|ml|milliliters?|l|liters?|pinch|dash|piece|pieces|clove|cloves|slice|slices|can|cans)\s+/i);let F="";if(X){const $=X[1].toLowerCase();J=J.slice(X[0].length).trim(),$==="g"||$==="gram"||$==="grams"?F="g":$==="kg"||$==="kilogram"||$==="kilograms"?F="kg":$==="ml"||$==="milliliter"||$==="milliliters"?F="ml":$==="l"||$==="liter"||$==="liters"?F="l":$.startsWith("cup")?F="cup":$.startsWith("tbsp")||$.startsWith("tablespoon")?F="tbsp":$.startsWith("tsp")||$.startsWith("teaspoon")?F="tsp":$==="oz"||$.startsWith("ounce")?F="oz":$.startsWith("lb")||$.startsWith("pound")?F="lb":F=$}else F=q?"piece":"";return{quantity:q,unit:F,name:J||E}}),T=C=>{if(!C||C<=0)return"30 mins";if(C<60)return`${C} mins`;const E=Math.floor(C/60),I=C%60;return I?`${E} hr ${I} mins`:`${E} hr`};return console.log("[Extractor] Final image URL being returned:",S),{title:Or(j.title||j.channel||"Video Recipe"),description:"Extracted from video",creator:Or(j.channel||j.creator||"Unknown"),ingredients:k,instructions:(j.instructions||[]).map(C=>Or(C)),prepTime:T(j.prep_time||15),cookTime:T(j.cook_time||35),servings:j.servings||j.yield||"4",cuisineType:"Global",difficulty:"Medium",mealTypes:["Dinner"],dietaryTags:[],imageUrl:S,videoUrl:e,notes:"Extracted using your Render server",sourceUrl:e}}catch(v){throw console.error("[Extractor] Catch block error:",v),v.name==="AbortError"?new Error("Server is waking up  please wait 20-30 seconds and try again"):new Error("Video extraction temporarily unavailable  try again soon")}const r=await fetch(HO,{method:"POST",headers:{"Content-Type":"application/json",apikey:Ex,Authorization:`Bearer ${Ex}`},body:JSON.stringify({url:e.trim()})});if(!r.ok)throw await r.text(),new Error("Failed to extract from website");const n=await r.json(),s=v=>v.map(x=>{const y=Or(x.trim()),j=y.match(/^([\d\/\.\-\s\,]+)\s*/),_=j?j[1].trim():"",S=Xg(_);let k=y.slice(_.length).trim();const T=k.match(/^(cups?|tbsps?|tablespoons?|tsps?|teaspoons?|oz|ounces?|lbs?|pounds?|grams?|g|kg|kilograms?|ml|milliliters?|l|liters?|pinch|dash|piece|pieces|clove|cloves|slice|slices|can|cans)\s+/i);let C="";if(T){const E=T[1].toLowerCase();k=k.slice(T[0].length).trim(),E==="g"||E==="gram"||E==="grams"?C="g":E==="kg"||E==="kilogram"||E==="kilograms"?C="kg":E==="ml"||E==="milliliter"||E==="milliliters"?C="ml":E==="l"||E==="liter"||E==="liters"?C="l":E.startsWith("cup")?C="cup":E.startsWith("tbsp")||E.startsWith("tablespoon")?C="tbsp":E.startsWith("tsp")||E.startsWith("teaspoon")?C="tsp":E==="oz"||E.startsWith("ounce")?C="oz":E.startsWith("lb")||E.startsWith("pound")?C="lb":C=E}else C=S?"piece":"";return{quantity:S,unit:C,name:k||y}}),a=s(n.ingredients||[]),i={title:Or(n.title||"Untitled Recipe"),description:"Extracted recipe",creator:Or(n.author||"Unknown"),ingredients:a,instructions:(n.instructions||[]).map(Or),prepTime:n.prep_time?`${n.prep_time} mins`:"30 mins",cookTime:n.cook_time?`${n.cook_time} mins`:"45 mins",servings:String(n.yield||"4"),cuisineType:"Global",difficulty:"Medium",mealTypes:["Dinner"],dietaryTags:[],imageUrl:n.image||"",videoUrl:"",notes:n.notes||"",sourceUrl:e};return n.hasConflict&&(i.hasConflict=!0,i.structuredVersion={...i,ingredients:s(((l=n.structuredVersion)==null?void 0:l.ingredients)||[]),instructions:(((c=n.structuredVersion)==null?void 0:c.instructions)||[]).map(Or),prepTime:(d=n.structuredVersion)!=null&&d.prep_time?`${n.structuredVersion.prep_time} mins`:"30 mins",cookTime:(h=n.structuredVersion)!=null&&h.cook_time?`${n.structuredVersion.cook_time} mins`:"45 mins",servings:String(((f=n.structuredVersion)==null?void 0:f.yield)||"4"),notes:"From recipe card (structured data)"},i.aiVersion={...i,ingredients:s(((p=n.aiVersion)==null?void 0:p.ingredients)||[]),instructions:(((m=n.aiVersion)==null?void 0:m.instructions)||[]).map(Or),prepTime:(w=n.aiVersion)!=null&&w.prep_time?`${n.aiVersion.prep_time} mins`:"30 mins",cookTime:(g=n.aiVersion)!=null&&g.cook_time?`${n.aiVersion.cook_time} mins`:"45 mins",servings:String(((b=n.aiVersion)==null?void 0:b.yield)||"4"),notes:"From blog content (AI extracted)"}),i}function dN(e){try{return new URL(e),!0}catch{return!1}}async function GO(e,t){try{console.log("[ImageStorage] Downloading image:",e);const r=e.includes("instagram.com")||e.includes("cdninstagram.com")||e.includes("fbcdn.net");let n=e;r&&(n=`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(e)}`);const s=await fetch(n);if(!s.ok)throw new Error(`Failed to fetch image: ${s.status}`);const a=await s.blob();console.log("[ImageStorage] Downloaded blob:",a.type,a.size);const i=a.type.split("/")[1]||"jpg",l=Date.now(),c=`recipes/${t}/${l}.${i}`;console.log("[ImageStorage] Uploading to:",c);const{data:d,error:h}=await L.storage.from("recipe-images").upload(c,a,{contentType:a.type,cacheControl:"31536000",upsert:!1});if(h)throw console.error("[ImageStorage] Upload error:",h),h;console.log("[ImageStorage] Upload successful:",d);const{data:{publicUrl:f}}=L.storage.from("recipe-images").getPublicUrl(c);return console.log("[ImageStorage]  Permanent URL:",f),f}catch(r){return console.error("[ImageStorage]  Failed to store image:",r),e}}function dl(e){if(typeof e=="number")return e;const t=String(e).trim();if(/^PT\d+[HM]$/i.test(t)){const n=t.match(/PT(\d+)H/i),s=t.match(/PT(\d+)M/i)||t.match(/(\d+)M/i);return(n?parseInt(n[1])*60:0)+(s?parseInt(s[1]):0)}const r=parseInt(t);return isNaN(r)?0:r}function Px(e){if(typeof e=="number")return e;const t=String(e).trim(),r=t.match(/(\d+)/),n=parseInt(r?r[1]:t);return isNaN(n)?1:n}const YO=["cup","TBSP","tsp","oz","lb","g","kg","ml","l","piece(s)","whole","pinch","dash","egg(s)","to taste"],JO=["American","Chinese","Culinary/Baked Goods","French","Healing/Medicine","Indian","Italian","Juices/Smoothies","Japanese","Korean","Mediterranean","Mexican/Spanish","Other","Pet Meals","Supplements","Thai","Vegan/Vegetarian","Vietnamese"],XO=["Breakfast","Lunch","Dinner","Snack","Dessert"],QO=["Vegetarian","Vegan","Gluten-Free","Dairy-Free","Keto","Paleo","Low-Carb","High-Protein"];function ZO({onNavigate:e}={}){const{dispatch:t}=Bs(),[r,n]=u.useState(""),[s,a]=u.useState([{quantity:"",unit:"cup",name:""}]),[i,l]=u.useState([""]),[c,d]=u.useState(""),[h,f]=u.useState(""),[p,m]=u.useState(""),[w,g]=u.useState(""),[b,v]=u.useState("Easy"),[x,y]=u.useState([]),[j,_]=u.useState([]),[S,k]=u.useState(""),[T,C]=u.useState(""),[E,I]=u.useState(""),[M,q]=u.useState({}),[J,X]=u.useState(!1),[F,$]=u.useState(""),[O,N]=u.useState(!1),[R,z]=u.useState(null),[H,B]=u.useState(!1),[te,Z]=u.useState(null),[ie,Q]=u.useState(""),[me,U]=u.useState(!1),[A,V]=u.useState(!1),se=()=>{a([...s,{quantity:"",unit:"cup",name:""}])},ge=W=>{s.length>1&&a(s.filter((le,ve)=>ve!==W))},ke=(W,le,ve)=>{const Ae=[...s];Ae[W]={...Ae[W],[le]:ve},a(Ae)},Pe=()=>{l([...i,""])},Te=W=>{i.length>1&&l(i.filter((le,ve)=>ve!==W))},K=(W,le)=>{const ve=[...i];ve[W]=le,l(ve)},ae=W=>{y(le=>le.includes(W)?le.filter(ve=>ve!==W):[...le,W])},G=W=>{_(le=>le.includes(W)?le.filter(ve=>ve!==W):[...le,W])},Se=async W=>{var ve;const le=(ve=W.target.files)==null?void 0:ve[0];if(le){if(!le.type.startsWith("image/")){D.error("Please select an image file");return}if(le.size>5*1024*1024){D.error("Image must be less than 5MB");return}U(!0);try{const{supabase:Ae}=await yo(async()=>{const{supabase:pr}=await Promise.resolve().then(()=>tu);return{supabase:pr}},void 0),{data:{user:yt}}=await Ae.auth.getUser();if(!yt){D.error("You must be logged in to upload images");return}const hn=le.name.split(".").pop(),at=`${yt.id}/${Date.now()}.${hn}`,{error:mr}=await Ae.storage.from("recipe-images").upload(at,le,{cacheControl:"3600",upsert:!1});if(mr)throw mr;const{data:{publicUrl:rr}}=Ae.storage.from("recipe-images").getPublicUrl(at);Z(le),Q(rr),k(""),D.success("Image uploaded successfully!")}catch(Ae){D.error(Ae.message||"Failed to upload image")}finally{U(!1)}}},ee=async()=>{if(!F.trim()){D.error("Please enter a URL");return}if(!dN(F)){D.error("Please enter a valid URL");return}if([".jpg",".jpeg",".png",".gif",".webp",".bmp"].some(ve=>F.toLowerCase().includes(ve))){D.error("Please paste a recipe page URL, not a direct image link.");return}N(!0);try{D.loading("Extracting recipe...",{id:"extract"});const ve=await Rx(F);z(ve),ve.hasConflict?(V(!0),D.warning("Multiple recipe versions found! Please choose which to use.",{id:"extract"})):(B(!0),D.success("Recipe extracted! Review and edit before saving.",{id:"extract"})),N(!1)}catch(ve){ve.message.includes("waking up")?(D.info("Server starting up... retrying in 30 seconds",{id:"extract",duration:3e4}),setTimeout(async()=>{try{D.loading("Retrying extraction...",{id:"extract"});const Ae=await Rx(F);z(Ae),B(!0),D.success("Recipe extracted!",{id:"extract"})}catch(Ae){D.error(Ae.message||"Extraction failed. Please try again.",{id:"extract"})}finally{N(!1)}},3e4)):(D.error(ve.message||"Failed to extract recipe.",{id:"extract"}),N(!1))}},he=()=>{if(!R)return;n(R.title.replace(/\s+on\s+instagram$/i,""));const W=R.ingredients.map(ve=>({quantity:ve.quantity||"",unit:ve.unit||"cup",name:ve.name||""}));a(W),l(R.instructions),d(String(dl(R.prepTime))),f(String(dl(R.cookTime))),m(String(Px(R.servings))),g(R.cuisineType),v(R.difficulty),y(R.mealTypes),_(R.dietaryTags),R.imageUrl&&k(R.imageUrl),C(R.videoUrl||"");const le=F?`Source: ${F}

`:"";I(le+(R.notes||"")),B(!1),z(null),D.success("Recipe loaded! Edit any details as needed.")},we=()=>{B(!1),z(null)},$e=()=>{const W={};return r.trim()||(W.title="Title is required"),w||(W.cuisineType="Cuisine type is required"),(!c||parseInt(c)<=0)&&(W.prepTime="Valid prep time is required"),(!h||parseInt(h)<=0)&&(W.cookTime="Valid cook time is required"),(!p||parseInt(p)<=0)&&(W.servings="Valid servings count is required"),x.length===0&&(W.mealTypes="Select at least one meal type"),s.filter(Ae=>Ae.name.trim()).length===0&&(W.ingredients="Add at least one ingredient"),i.filter(Ae=>Ae.trim()).length===0&&(W.instructions="Add at least one instruction"),q(W),Object.keys(W).length===0},Tt=async W=>{if(W.preventDefault(),X(!0),!$e()){D.error("Please fill in all required fields");return}const le=s.filter(at=>at.name.trim()),ve=i.filter(at=>at.trim());let Ae=ie||S.trim()||void 0,yt=null;const hn=Ae&&!ie&&(Ae.includes("instagram.com")||Ae.includes("cdninstagram.com")||Ae.includes("fbcdn.net"));try{const at=D.loading("Creating recipe..."),{createRecipe:mr}=await yo(async()=>{const{createRecipe:et}=await Promise.resolve().then(()=>Am);return{createRecipe:et}},void 0),rr={title:r.trim(),ingredients:le,instructions:ve,prepTime:dl(c),cookTime:dl(h),servings:Px(p),tags:[...x,...j],cuisineType:w,difficulty:b,dietaryTags:j,mealType:x,imageUrl:Ae,videoUrl:T.trim()||void 0,sourceUrl:F.trim()||void 0,notes:E.trim()||void 0,isSaved:!0},pr=await mr(rr);if(console.log("[AddRecipe] Recipe created with ID:",pr.id),hn&&Ae)try{D.loading("Downloading and storing image permanently...",{id:at}),console.log("[AddRecipe] Downloading Instagram image:",Ae);const et=await GO(Ae,pr.id);if(console.log("[AddRecipe] Permanent URL:",et),et!==Ae){const{supabase:P}=await yo(async()=>{const{supabase:pe}=await Promise.resolve().then(()=>tu);return{supabase:pe}},void 0),{error:oe}=await P.from("public_recipes").update({image_url:et}).eq("id",pr.id);oe?console.error("[AddRecipe] Failed to update with permanent URL:",oe):(console.log("[AddRecipe]  Updated recipe with permanent URL"),Ae=et,yt=et)}}catch(et){console.error("[AddRecipe] Image storage failed, using original URL:",et)}try{const{supabase:et}=await yo(async()=>{const{supabase:oe}=await Promise.resolve().then(()=>tu);return{supabase:oe}},void 0),{data:{user:P}}=await et.auth.getUser();if(P){const oe=yt||ie||null,{error:pe}=await et.from("posts").insert({user_id:P.id,title:r.trim(),image_url:oe,video_url:T.trim()||null,caption:E.trim()||"Check out my recipe!",recipe_url:T.trim()||F.trim()||null,recipe_id:pr.id});pe?(console.error("[AddRecipe] Post creation failed:",pe),D.success("Recipe created successfully!",{id:at})):D.success("Recipe created and posted to your profile!",{id:at})}else D.success("Recipe created successfully!",{id:at})}catch(et){console.error("[AddRecipe] Post creation error:",et),D.success("Recipe created successfully!",{id:at})}t({type:"SAVE_RECIPE",payload:pr}),e&&e("my-recipes")}catch(at){console.error("[AddRecipe] Recipe creation failed:",at);const mr=(at==null?void 0:at.message)||"Failed to create recipe. Please try again.";D.error(mr)}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 pb-32",children:[o.jsx("div",{className:"w-full bg-gradient-to-br from-blue-50 to-white border-b border-slate-200 py-4 md:py-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-slate-900 text-center",children:"Create New Recipe"}),o.jsx("p",{className:"text-sm sm:text-base text-slate-600 text-center mt-1",children:"See a recipe online you like, add it here!"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-4",children:[o.jsxs(He,{className:"border-slate-200 shadow-sm bg-gradient-to-br from-blue-50 to-white",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsxs(bt,{className:"flex items-center gap-2 text-lg",children:[o.jsx(nu,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),o.jsx("span",{className:"leading-tight",children:"Import from URL"})]}),o.jsx(Ct,{className:"text-xs leading-relaxed",children:o.jsxs("div",{className:"mt-2 space-y-2",children:[o.jsx("p",{className:"font-bold text-black pb-0.5 border-b-2 border-black inline-block",children:"INSTRUCTIONS"}),o.jsxs("ol",{className:"space-y-1.5 text-black ml-0.5",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold text-black-600 min-w-[14px]",children:"1."}),o.jsxs("span",{children:[o.jsx("span",{className:"font-bold text-black",children:"COPY"})," a link from online/social media &"," ",o.jsx("span",{className:"font-bold text-black",children:"PASTE"})," below"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold text-black-600 min-w-[14px]",children:"2."}),o.jsxs("span",{children:["Click ",o.jsx("span",{className:"font-bold text-blue-600",children:"Extract Recipe"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-bold text-black-600 min-w-[14px]",children:"3."}),o.jsx("span",{children:"Update as needed  AI does its best, some recipes may need manual editing"})]})]}),o.jsxs("div",{className:"mt-3 pt-2 border-t border-slate-200 space-y-1 text-xs",children:[o.jsx("p",{className:"text-emerald-600 font-semibold",children:"Supported: All recipe websites & most blogs"}),o.jsx("p",{className:"text-orange-600",children:"Warning: Instagram & TikTok (may take 3060 seconds)"}),o.jsx("p",{className:"text-slate-500",children:"Coming Soon: YouTube videos"})]})]})})]}),o.jsxs(Xe,{className:"space-y-3",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(kE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 flex-shrink-0"}),o.jsx(nt,{value:F,onChange:W=>$(W.target.value),placeholder:"Paste recipe link...",className:"pl-10 h-10 text-sm placeholder:text-slate-400",disabled:O,onKeyDown:W=>W.key==="Enter"&&ee()})]}),o.jsx(Y,{type:"button",onClick:async()=>{try{const W=await navigator.clipboard.readText();$(W),D.success("Pasted!")}catch{D.error("Failed to paste. Copy a URL first.")}},disabled:O,variant:"outline",className:"h-10",children:"Paste"})]}),o.jsx(Y,{type:"button",onClick:ee,disabled:O||!F.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white h-12",children:O?o.jsxs(o.Fragment,{children:[o.jsx(ni,{className:"w-5 h-5 mr-2 animate-spin"}),"Extracting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(nu,{className:"w-5 h-5 mr-2"}),"Extract Recipe"]})})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-slate-200"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-gradient-to-br from-slate-50 via-white to-slate-50 px-3 py-1 text-slate-500",children:"Or enter manually"})})]}),o.jsxs("form",{onSubmit:Tt,className:"space-y-4",children:[J&&Object.keys(M).length>0&&o.jsx(He,{className:"border-red-200 bg-red-50",children:o.jsx(Xe,{className:"pt-4 pb-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-red-100 flex items-center justify-center",children:o.jsx("span",{className:"text-red-600 text-sm font-bold",children:"!"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm font-semibold text-red-900 mb-2",children:"Please fix these errors:"}),o.jsx("ul",{className:"space-y-1",children:Object.values(M).map((W,le)=>o.jsxs("li",{className:"text-sm text-red-700 break-words",children:[" ",W]},le))})]})]})})}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-lg",children:"Basic Information"}),o.jsx(Ct,{className:"text-xs",children:"Review extracted info"})]}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"title",className:"text-sm font-medium",children:"Recipe Title *"}),o.jsx(nt,{id:"title",value:r,onChange:W=>n(W.target.value),placeholder:"ex. Chocolate Chip Cookies",className:`mt-1.5 text-base ${M.title?"border-red-500":""}`}),M.title&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:M.title})]}),(ie||S)&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"relative w-full max-w-xs mx-auto aspect-square rounded-lg overflow-hidden border-2 border-slate-200 bg-slate-100",children:o.jsx("img",{src:ie||S,alt:r||"Recipe",className:"w-full h-full object-cover",onError:W=>{const le=W.target.parentElement;le&&(le.innerHTML=`
                            <div class="w-full h-full flex flex-col items-center justify-center text-slate-500 p-4 text-center">
                              <svg class="w-12 h-12 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                              </svg>
                              <p class="text-xs font-medium">Image unavailable</p>
                              <p class="text-xs text-slate-400">(Instagram images may not work)</p>
                            </div>
                          `)}})}),ie&&o.jsx("div",{className:"text-center",children:o.jsxs(Y,{type:"button",variant:"ghost",size:"sm",onClick:()=>{Z(null),Q("")},className:"text-red-600 hover:text-red-700 hover:bg-red-50 text-xs",children:[o.jsx(Bt,{className:"w-3 h-3 mr-1"}),"Remove image"]})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("div",{children:[o.jsxs(Fe,{htmlFor:"prepTime",className:"text-xs font-medium flex items-center gap-1",children:[o.jsx(tn,{className:"w-3 h-3"}),"Prep (min) *"]}),o.jsx(nt,{id:"prepTime",type:"number",value:c,onChange:W=>d(W.target.value),placeholder:"15",className:`mt-1 text-base ${M.prepTime?"border-red-500":""}`})]}),o.jsxs("div",{children:[o.jsxs(Fe,{htmlFor:"cookTime",className:"text-xs font-medium flex items-center gap-1",children:[o.jsx(tn,{className:"w-3 h-3"}),"Cook (min) *"]}),o.jsx(nt,{id:"cookTime",type:"number",value:h,onChange:W=>f(W.target.value),placeholder:"30",className:`mt-1 text-base ${M.cookTime?"border-red-500":""}`})]}),o.jsxs("div",{children:[o.jsxs(Fe,{htmlFor:"servings",className:"text-xs font-medium flex items-center gap-1",children:[o.jsx(Cs,{className:"w-3 h-3"}),"Servings *"]}),o.jsx(nt,{id:"servings",type:"number",value:p,onChange:W=>m(W.target.value),placeholder:"4",className:`mt-1 text-base ${M.servings?"border-red-500":""}`})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"cuisineType",className:"text-sm font-medium",children:"Cuisine Type *"}),o.jsxs(an,{value:w,onValueChange:g,children:[o.jsx(Wr,{className:`mt-1.5 ${M.cuisineType?"border-red-500":""}`,children:o.jsx(ln,{placeholder:"Select cuisine"})}),o.jsx(qr,{children:JO.map(W=>o.jsx(ir,{value:W,children:W},W))})]})]}),o.jsxs("div",{children:[o.jsxs(Fe,{htmlFor:"difficulty",className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(ts,{className:"w-4 h-4"}),"Difficulty *"]}),o.jsxs(an,{value:b,onValueChange:W=>v(W),children:[o.jsx(Wr,{className:"mt-1.5",children:o.jsx(ln,{})}),o.jsxs(qr,{children:[o.jsx(ir,{value:"Easy",children:"Easy"}),o.jsx(ir,{value:"Medium",children:"Medium"}),o.jsx(ir,{value:"Hard",children:"Hard"})]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs(Fe,{className:"text-sm font-medium flex items-center gap-2",children:[o.jsx(kh,{className:"w-4 h-4"}),"Recipe Image"]}),o.jsx("p",{className:"text-xs text-slate-500 mt-1 mb-2",children:"Upload or paste URL"}),o.jsx("input",{type:"file",id:"imageUpload",accept:"image/*",onChange:Se,className:"hidden",disabled:me}),o.jsx(Y,{type:"button",variant:"outline",onClick:()=>{var W;return(W=document.getElementById("imageUpload"))==null?void 0:W.click()},disabled:me,className:"w-full h-12",children:me?o.jsxs(o.Fragment,{children:[o.jsx(ni,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(cm,{className:"w-4 h-4 mr-2"}),"Upload Image"]})}),te&&o.jsxs("p",{className:"text-xs text-emerald-600 mt-2 flex items-center gap-1 truncate",children:[o.jsx(kh,{className:"w-3 h-3 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:te.name})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-slate-200"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-slate-500",children:"or"})})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"imageUrl",className:"text-sm font-medium",children:"Image URL"}),o.jsx(nt,{id:"imageUrl",value:S,onChange:W=>{k(W.target.value),Z(null),Q("")},placeholder:"https://example.com/image.jpg",className:"mt-1.5 text-base",disabled:!!te}),te&&o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Clear uploaded image to use URL"})]})]})]})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-lg",children:"Meal Types *"}),o.jsx(Ct,{className:"text-xs",children:"When is this served?"})]}),o.jsxs(Xe,{children:[o.jsx("div",{className:"flex flex-wrap gap-2",children:XO.map(W=>o.jsx(Je,{variant:x.includes(W)?"default":"outline",className:"cursor-pointer transition-all hover:scale-105 text-sm py-1.5 px-3",onClick:()=>ae(W),children:W},W))}),M.mealTypes&&o.jsx("p",{className:"text-xs text-red-500 mt-2",children:M.mealTypes})]})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-lg",children:"Dietary Tags"}),o.jsx(Ct,{className:"text-xs",children:"Select any that apply"})]}),o.jsx(Xe,{children:o.jsx("div",{className:"flex flex-wrap gap-2",children:QO.map(W=>o.jsx(Je,{variant:j.includes(W)?"default":"outline",className:"cursor-pointer transition-all hover:scale-105 text-sm py-1.5 px-3",onClick:()=>G(W),children:W},W))})})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-lg",children:"Ingredients *"}),o.jsx(Ct,{className:"text-xs",children:"List all ingredients"})]}),o.jsxs(Xe,{className:"space-y-3",children:[s.map((W,le)=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx(nt,{value:W.quantity,onChange:ve=>ke(le,"quantity",ve.target.value),placeholder:"1",className:"w-16 text-center text-base"}),o.jsxs(an,{value:W.unit,onValueChange:ve=>ke(le,"unit",ve),children:[o.jsx(Wr,{className:"w-24",children:o.jsx(ln,{})}),o.jsx(qr,{children:YO.map(ve=>o.jsx(ir,{value:ve,children:ve},ve))})]}),o.jsx(Y,{type:"button",variant:"ghost",size:"icon",onClick:()=>ge(le),disabled:s.length===1,className:"shrink-0",children:o.jsx(Bt,{className:"w-4 h-4"})})]}),o.jsx(nt,{value:W.name,onChange:ve=>ke(le,"name",ve.target.value),placeholder:"Ingredient name",className:"text-base"})]},le)),M.ingredients&&o.jsx("p",{className:"text-xs text-red-500",children:M.ingredients}),o.jsxs(Y,{type:"button",variant:"outline",onClick:se,className:"w-full mt-2 h-11",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"Add Ingredient"]})]})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-lg",children:"Instructions *"}),o.jsx(Ct,{className:"text-xs",children:"Step-by-step instructions"})]}),o.jsxs(Xe,{className:"space-y-3",children:[i.map((W,le)=>o.jsxs("div",{className:"flex gap-2 items-start",children:[o.jsx("div",{className:"flex-shrink-0 w-7 h-7 rounded-full bg-slate-100 flex items-center justify-center text-sm font-semibold text-slate-700 mt-2",children:le+1}),o.jsx(Sn,{value:W,onChange:ve=>K(le,ve.target.value),placeholder:"Describe this step...",className:"flex-1 min-h-[100px] text-base"}),o.jsx(Y,{type:"button",variant:"ghost",size:"icon",onClick:()=>Te(le),disabled:i.length===1,className:"shrink-0 mt-2",children:o.jsx(Bt,{className:"w-4 h-4"})})]},le)),M.instructions&&o.jsx("p",{className:"text-xs text-red-500",children:M.instructions}),o.jsxs(Y,{type:"button",variant:"outline",onClick:Pe,className:"w-full mt-2 h-11",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"Add Step"]})]})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-lg",children:"Notes"}),o.jsx(Ct,{className:"text-xs",children:"Tips or variations"})]}),o.jsx(Xe,{children:o.jsx(Sn,{value:E,onChange:W=>I(W.target.value),placeholder:"Add any helpful notes...",className:"min-h-[120px] text-base"})})]})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-gradient-to-t from-white via-white to-transparent pt-4 pb-safe",children:o.jsxs("div",{className:"flex justify-center items-center gap-3 px-4 pb-4",children:[e&&o.jsx(Y,{type:"button",variant:"outline",onClick:()=>e("my-recipes"),className:"bg-white shadow-lg border-2 border-gray-300 hover:bg-gray-50 px-6 h-12 text-base font-semibold rounded-full",children:"Cancel"}),o.jsx(Y,{type:"submit",onClick:Tt,className:"bg-orange-500 hover:bg-orange-600 text-white px-8 h-12 text-base font-semibold shadow-lg rounded-full transition-all transform active:scale-95",children:"Create Recipe"})]})}),o.jsx(_t,{open:H,onOpenChange:B,children:o.jsxs(vt,{className:"max-w-[95vw] sm:max-w-4xl max-h-[90vh] p-0",children:[o.jsxs(Vt,{className:"p-4 pb-3 border-b",children:[o.jsxs(Dt,{className:"text-xl flex items-center gap-2",children:[o.jsx(nu,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),o.jsx("span",{className:"leading-tight",children:"Review Recipe"})]}),o.jsx(Nr,{className:"text-xs",children:"Review extracted details before adding"})]}),R&&o.jsx(Es,{className:"max-h-[calc(90vh-180px)]",children:o.jsxs("div",{className:"space-y-4 p-4",children:[R.imageUrl&&o.jsx("div",{className:"relative w-full max-w-xs mx-auto aspect-square rounded-lg overflow-hidden border-2 border-slate-200 bg-slate-100",children:o.jsx("img",{src:R.imageUrl,alt:R.title,className:"w-full h-full object-cover",onError:W=>{const le=W.target.parentElement;le&&(le.innerHTML=`
                              <div class="w-full h-full flex flex-col items-center justify-center text-slate-500 p-4">
                                <svg class="w-12 h-12 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                                <p class="text-xs">No image</p>
                              </div>
                            `)}})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1 leading-tight",children:R.title}),R.description&&o.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:R.description})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 border border-slate-200",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-0.5",children:[o.jsx(tn,{className:"w-3 h-3 text-slate-600"}),o.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Prep"})]}),o.jsxs("p",{className:"text-sm font-bold text-slate-900",children:[R.prepTime," min"]})]}),o.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 border border-slate-200",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-0.5",children:[o.jsx(tn,{className:"w-3 h-3 text-slate-600"}),o.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Cook"})]}),o.jsxs("p",{className:"text-sm font-bold text-slate-900",children:[R.cookTime," min"]})]}),o.jsxs("div",{className:"bg-slate-50 rounded-lg p-2 border border-slate-200",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-0.5",children:[o.jsx(Cs,{className:"w-3 h-3 text-slate-600"}),o.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Serves"})]}),o.jsx("p",{className:"text-sm font-bold text-slate-900",children:R.servings})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[o.jsx(Je,{variant:"secondary",className:"bg-blue-100 text-blue-700 text-xs",children:R.cuisineType}),o.jsx(Je,{variant:"secondary",className:"bg-emerald-100 text-emerald-700 text-xs",children:R.difficulty}),R.mealTypes.map(W=>o.jsx(Je,{variant:"outline",className:"text-xs",children:W},W)),R.dietaryTags.map(W=>o.jsx(Je,{variant:"outline",className:"bg-amber-50 text-amber-700 text-xs",children:W},W))]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-2 text-sm",children:"Ingredients"}),o.jsx("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:o.jsx("ul",{className:"space-y-1.5",children:R.ingredients.map((W,le)=>o.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[o.jsx("span",{className:"text-slate-400 mt-0.5 flex-shrink-0",children:""}),o.jsxs("span",{className:"text-slate-700 break-words",children:[o.jsxs("span",{className:"font-semibold",children:[W.quantity," ",W.unit]})," ",W.name]})]},le))})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-2 text-sm",children:"Instructions"}),o.jsx("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-200",children:o.jsx("ol",{className:"space-y-2",children:R.instructions.map((W,le)=>o.jsxs("li",{className:"flex gap-2 text-xs",children:[o.jsx("span",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-slate-900 text-white flex items-center justify-center text-xs font-bold",children:le+1}),o.jsx("span",{className:"text-slate-700 pt-0.5 break-words",children:W})]},le))})})]}),R.notes&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-1.5 text-sm",children:"Notes"}),o.jsx("div",{className:"bg-amber-50 rounded-lg p-3 border border-amber-200",children:o.jsx("p",{className:"text-xs text-slate-700 break-words",children:R.notes})})]})]})]})}),o.jsxs(rs,{className:"flex-row justify-center gap-2 p-4 border-t",children:[o.jsx(Y,{type:"button",variant:"outline",onClick:we,className:"flex-1 sm:flex-none",children:"Cancel"}),o.jsx(Y,{type:"button",onClick:he,className:"bg-blue-600 hover:bg-blue-700 text-white flex-1 sm:flex-none",children:"Use This Recipe"})]})]})}),o.jsx(_t,{open:A,onOpenChange:V,children:o.jsxs(vt,{className:"max-w-[95vw] sm:max-w-5xl max-h-[90vh] p-0",children:[o.jsxs(Vt,{className:"p-4 pb-3 border-b",children:[o.jsx(Dt,{className:"text-lg leading-tight",children:"Multiple Versions Found"}),o.jsx(Nr,{className:"text-xs",children:"Choose which version to use:"})]}),o.jsx(Es,{className:"h-[60vh] p-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(R==null?void 0:R.structuredVersion)&&o.jsxs(He,{className:"cursor-pointer hover:border-blue-500 transition-colors",onClick:()=>{R.structuredVersion&&(z(R.structuredVersion),V(!1),B(!0),D.success("Using recipe card version"))},children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-base",children:"Recipe Card"}),o.jsx(Ct,{className:"text-xs",children:"From structured data"})]}),o.jsxs(Xe,{className:"space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap gap-1.5 text-xs",children:[o.jsxs(Je,{variant:"secondary",children:[R.structuredVersion.servings," servings"]}),o.jsxs(Je,{variant:"secondary",children:[R.structuredVersion.prepTime,"min"]}),o.jsxs(Je,{variant:"secondary",children:[R.structuredVersion.cookTime,"min"]})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-xs mb-1.5",children:["Ingredients (",R.structuredVersion.ingredients.length,"):"]}),o.jsxs("ul",{className:"space-y-1 text-xs text-slate-600 max-h-32 overflow-y-auto",children:[R.structuredVersion.ingredients.slice(0,6).map((W,le)=>o.jsxs("li",{className:"break-words",children:[" ",W.quantity," ",W.unit," ",W.name]},le)),R.structuredVersion.ingredients.length>6&&o.jsxs("li",{className:"text-slate-400",children:["+ ",R.structuredVersion.ingredients.length-6," more..."]})]})]})]})]}),(R==null?void 0:R.aiVersion)&&o.jsxs(He,{className:"cursor-pointer hover:border-green-500 transition-colors",onClick:()=>{R.aiVersion&&(z(R.aiVersion),V(!1),B(!0),D.success("Using blog content version"))},children:[o.jsxs(wt,{className:"pb-3",children:[o.jsx(bt,{className:"text-base",children:"Blog Content"}),o.jsx(Ct,{className:"text-xs",children:"From blog post"})]}),o.jsxs(Xe,{className:"space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap gap-1.5 text-xs",children:[o.jsxs(Je,{variant:"secondary",children:[R.aiVersion.servings," servings"]}),o.jsxs(Je,{variant:"secondary",children:[R.aiVersion.prepTime,"min"]}),o.jsxs(Je,{variant:"secondary",children:[R.aiVersion.cookTime,"min"]})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-xs mb-1.5",children:["Ingredients (",R.aiVersion.ingredients.length,"):"]}),o.jsxs("ul",{className:"space-y-1 text-xs text-slate-600 max-h-32 overflow-y-auto",children:[R.aiVersion.ingredients.slice(0,6).map((W,le)=>o.jsxs("li",{className:"break-words",children:[" ",W.quantity," ",W.unit," ",W.name]},le)),R.aiVersion.ingredients.length>6&&o.jsxs("li",{className:"text-slate-400",children:["+ ",R.aiVersion.ingredients.length-6," more..."]})]})]})]})]})]})}),o.jsx(rs,{className:"p-4 border-t",children:o.jsx(Y,{variant:"outline",onClick:()=>V(!1),className:"w-full sm:w-auto",children:"Cancel"})})]})})]})]})}var fd="Collapsible",[eI,uN]=er(fd),[tI,Jm]=eI(fd),hN=u.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c,d]=Kr({prop:n,defaultProp:s??!1,onChange:i,caller:fd});return o.jsx(tI,{scope:r,disabled:a,contentId:Vr(),open:c,onOpenToggle:u.useCallback(()=>d(h=>!h),[d]),children:o.jsx(_e.div,{"data-state":Qm(c),"data-disabled":a?"":void 0,...l,ref:t})})});hN.displayName=fd;var fN="CollapsibleTrigger",mN=u.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Jm(fN,r);return o.jsx(_e.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Qm(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:de(e.onClick,s.onOpenToggle)})});mN.displayName=fN;var Xm="CollapsibleContent",pN=u.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Jm(Xm,e.__scopeCollapsible);return o.jsx(tr,{present:r||s.open,children:({present:a})=>o.jsx(rI,{...n,ref:t,present:a})})});pN.displayName=Xm;var rI=u.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,i=Jm(Xm,r),[l,c]=u.useState(n),d=u.useRef(null),h=Re(t,d),f=u.useRef(0),p=f.current,m=u.useRef(0),w=m.current,g=i.open||l,b=u.useRef(g),v=u.useRef(void 0);return u.useEffect(()=>{const x=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(x)},[]),St(()=>{const x=d.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const y=x.getBoundingClientRect();f.current=y.height,m.current=y.width,b.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),c(n)}},[i.open,n]),o.jsx(_e.div,{"data-state":Qm(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...a,ref:h,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:g&&s})});function Qm(e){return e?"open":"closed"}var nI=hN,sI=mN,oI=pN,Xr="Accordion",aI=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Zm,iI,lI]=ki(Xr),[md]=er(Xr,[lI,uN]),ep=uN(),gN=re.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,a=n;return o.jsx(Zm.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?o.jsx(hI,{...a,ref:t}):o.jsx(uI,{...s,ref:t})})});gN.displayName=Xr;var[xN,cI]=md(Xr),[vN,dI]=md(Xr,{collapsible:!1}),uI=re.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...i}=e,[l,c]=Kr({prop:r,defaultProp:n??"",onChange:s,caller:Xr});return o.jsx(xN,{scope:e.__scopeAccordion,value:re.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:re.useCallback(()=>a&&c(""),[a,c]),children:o.jsx(vN,{scope:e.__scopeAccordion,collapsible:a,children:o.jsx(yN,{...i,ref:t})})})}),hI=re.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[i,l]=Kr({prop:r,defaultProp:n??[],onChange:s,caller:Xr}),c=re.useCallback(h=>l((f=[])=>[...f,h]),[l]),d=re.useCallback(h=>l((f=[])=>f.filter(p=>p!==h)),[l]);return o.jsx(xN,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:d,children:o.jsx(vN,{scope:e.__scopeAccordion,collapsible:!0,children:o.jsx(yN,{...a,ref:t})})})}),[fI,pd]=md(Xr),yN=re.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...i}=e,l=re.useRef(null),c=Re(l,t),d=iI(r),f=Qo(s)==="ltr",p=de(e.onKeyDown,m=>{var T;if(!aI.includes(m.key))return;const w=m.target,g=d().filter(C=>{var E;return!((E=C.ref.current)!=null&&E.disabled)}),b=g.findIndex(C=>C.ref.current===w),v=g.length;if(b===-1)return;m.preventDefault();let x=b;const y=0,j=v-1,_=()=>{x=b+1,x>j&&(x=y)},S=()=>{x=b-1,x<y&&(x=j)};switch(m.key){case"Home":x=y;break;case"End":x=j;break;case"ArrowRight":a==="horizontal"&&(f?_():S());break;case"ArrowDown":a==="vertical"&&_();break;case"ArrowLeft":a==="horizontal"&&(f?S():_());break;case"ArrowUp":a==="vertical"&&S();break}const k=x%v;(T=g[k].ref.current)==null||T.focus()});return o.jsx(fI,{scope:r,disabled:n,direction:s,orientation:a,children:o.jsx(Zm.Slot,{scope:r,children:o.jsx(_e.div,{...i,"data-orientation":a,ref:c,onKeyDown:n?void 0:p})})})}),yc="AccordionItem",[mI,tp]=md(yc),wN=re.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,a=pd(yc,r),i=cI(yc,r),l=ep(r),c=Vr(),d=n&&i.value.includes(n)||!1,h=a.disabled||e.disabled;return o.jsx(mI,{scope:r,open:d,disabled:h,triggerId:c,children:o.jsx(nI,{"data-orientation":a.orientation,"data-state":kN(d),...l,...s,ref:t,disabled:h,open:d,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});wN.displayName=yc;var bN="AccordionHeader",jN=re.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=pd(Xr,r),a=tp(bN,r);return o.jsx(_e.h3,{"data-orientation":s.orientation,"data-state":kN(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});jN.displayName=bN;var Wh="AccordionTrigger",NN=re.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=pd(Xr,r),a=tp(Wh,r),i=dI(Wh,r),l=ep(r);return o.jsx(Zm.ItemSlot,{scope:r,children:o.jsx(sI,{"aria-disabled":a.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:t})})});NN.displayName=Wh;var _N="AccordionContent",SN=re.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=pd(Xr,r),a=tp(_N,r),i=ep(r);return o.jsx(oI,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});SN.displayName=_N;function kN(e){return e?"open":"closed"}var pI=gN,gI=wN,xI=jN,CN=NN,EN=SN;const Tx=pI,qh=u.forwardRef(({className:e,...t},r)=>o.jsx(gI,{ref:r,className:je("border-b",e),...t}));qh.displayName="AccordionItem";const Hh=u.forwardRef(({className:e,children:t,...r},n)=>o.jsx(xI,{className:"flex",children:o.jsxs(CN,{ref:n,className:je("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,o.jsx(nb,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));Hh.displayName=CN.displayName;const Kh=u.forwardRef(({className:e,children:t,...r},n)=>o.jsx(EN,{ref:n,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:o.jsx("div",{className:je("pb-4 pt-0",e),children:t})}));Kh.displayName=EN.displayName;function Er(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function os(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ja(e,t){const r=Er(e);return isNaN(t)?os(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const RN=6048e5,vI=864e5;let yI={};function gd(){return yI}function Us(e,t){var l,c,d,h;const r=gd(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=Er(e),a=s.getDay(),i=(a<n?7:0)+a-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function wc(e){return Us(e,{weekStartsOn:1})}function PN(e){const t=Er(e),r=t.getFullYear(),n=os(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=wc(n),a=os(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const i=wc(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function bc(e){const t=Er(e);return t.setHours(0,0,0,0),t}function Ax(e){const t=Er(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function wI(e,t){const r=bc(e),n=bc(t),s=+r-Ax(r),a=+n-Ax(n);return Math.round((s-a)/vI)}function bI(e){const t=PN(e),r=os(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),wc(r)}function TN(e,t){const r=t*7;return ja(e,r)}function ul(e,t){const r=bc(e),n=bc(t);return+r==+n}function jI(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function NI(e){if(!jI(e)&&typeof e!="number")return!1;const t=Er(e);return!isNaN(Number(t))}function _I(e){const t=Er(e),r=os(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const SI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kI=(e,t,r)=>{let n;const s=SI[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function pu(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const CI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PI={date:pu({formats:CI,defaultWidth:"full"}),time:pu({formats:EI,defaultWidth:"full"}),dateTime:pu({formats:RI,defaultWidth:"full"})},TI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},AI=(e,t,r,n)=>TI[e];function fa(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const OI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},II={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},DI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$I={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},LI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UI=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},FI={ordinalNumber:UI,era:fa({values:OI,defaultWidth:"wide"}),quarter:fa({values:II,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fa({values:MI,defaultWidth:"wide"}),day:fa({values:DI,defaultWidth:"wide"}),dayPeriod:fa({values:$I,defaultWidth:"wide",formattingValues:LI,defaultFormattingWidth:"wide"})};function ma(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?BI(l,f=>f.test(i)):zI(l,f=>f.test(i));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const h=t.slice(i.length);return{value:d,rest:h}}}function zI(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function BI(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function VI(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const WI=/^(\d+)(th|st|nd|rd)?/i,qI=/\d+/i,HI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KI={any:[/^b/i,/^(a|c)/i]},GI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YI={any:[/1/i,/2/i,/3/i,/4/i]},JI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},QI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rM={ordinalNumber:VI({matchPattern:WI,parsePattern:qI,valueCallback:e=>parseInt(e,10)}),era:ma({matchPatterns:HI,defaultMatchWidth:"wide",parsePatterns:KI,defaultParseWidth:"any"}),quarter:ma({matchPatterns:GI,defaultMatchWidth:"wide",parsePatterns:YI,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ma({matchPatterns:JI,defaultMatchWidth:"wide",parsePatterns:XI,defaultParseWidth:"any"}),day:ma({matchPatterns:QI,defaultMatchWidth:"wide",parsePatterns:ZI,defaultParseWidth:"any"}),dayPeriod:ma({matchPatterns:eM,defaultMatchWidth:"any",parsePatterns:tM,defaultParseWidth:"any"})},nM={code:"en-US",formatDistance:kI,formatLong:PI,formatRelative:AI,localize:FI,match:rM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sM(e){const t=Er(e);return wI(t,_I(t))+1}function oM(e){const t=Er(e),r=+wc(t)-+bI(t);return Math.round(r/RN)+1}function AN(e,t){var h,f,p,m;const r=Er(e),n=r.getFullYear(),s=gd(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=os(e,0);i.setFullYear(n+1,0,a),i.setHours(0,0,0,0);const l=Us(i,t),c=os(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=Us(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function aM(e,t){var l,c,d,h;const r=gd(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=AN(e,t),a=os(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Us(a,t)}function iM(e,t){const r=Er(e),n=+Us(r,t)-+aM(r,t);return Math.round(n/RN)+1}function Ve(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Mn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ve(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ve(r+1,2)},d(e,t){return Ve(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ve(e.getHours()%12||12,t.length)},H(e,t){return Ve(e.getHours(),t.length)},m(e,t){return Ve(e.getMinutes(),t.length)},s(e,t){return Ve(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ve(s,t.length)}},ro={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ox={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Mn.y(e,t)},Y:function(e,t,r,n){const s=AN(e,n),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return Ve(i,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ve(a,t.length)},R:function(e,t){const r=PN(e);return Ve(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ve(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ve(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ve(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Mn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ve(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=iM(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ve(s,t.length)},I:function(e,t,r){const n=oM(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ve(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Mn.d(e,t)},D:function(e,t,r){const n=sM(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ve(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ve(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ve(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Ve(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=ro.noon:n===0?s=ro.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=ro.evening:n>=12?s=ro.afternoon:n>=4?s=ro.morning:s=ro.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Mn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Mn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ve(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ve(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Mn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Mn.s(e,t)},S:function(e,t){return Mn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Mx(n);case"XXXX":case"XX":return vs(n);case"XXXXX":case"XXX":default:return vs(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Mx(n);case"xxxx":case"xx":return vs(n);case"xxxxx":case"xxx":default:return vs(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ix(n,":");case"OOOO":default:return"GMT"+vs(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ix(n,":");case"zzzz":default:return"GMT"+vs(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ve(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ve(n,t.length)}};function Ix(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+Ve(a,2)}function Mx(e,t){return e%60===0?(e>0?"-":"+")+Ve(Math.abs(e)/60,2):vs(e,t)}function vs(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Ve(Math.trunc(n/60),2),a=Ve(n%60,2);return r+s+t+a}const Dx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ON=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},lM=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Dx(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Dx(n,t)).replace("{{time}}",ON(s,t))},cM={p:ON,P:lM},dM=/^D+$/,uM=/^Y+$/,hM=["D","DD","YY","YYYY"];function fM(e){return dM.test(e)}function mM(e){return uM.test(e)}function pM(e,t,r){const n=gM(e,t,r);if(console.warn(n),hM.includes(e))throw new RangeError(n)}function gM(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yM=/^'([^]*?)'?$/,wM=/''/g,bM=/[a-zA-Z]/;function xr(e,t,r){var h,f,p,m;const n=gd(),s=n.locale??nM,a=n.firstWeekContainsDate??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,l=Er(e);if(!NI(l))throw new RangeError("Invalid time value");let c=t.match(vM).map(w=>{const g=w[0];if(g==="p"||g==="P"){const b=cM[g];return b(w,s.formatLong)}return w}).join("").match(xM).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const g=w[0];if(g==="'")return{isToken:!1,value:jM(w)};if(Ox[g])return{isToken:!0,value:w};if(g.match(bM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const g=w.value;(mM(g)||fM(g))&&pM(g,t,String(e));const b=Ox[g[0]];return b(l,g,s.localize,d)}).join("")}function jM(e){const t=e.match(yM);return t?t[1].replace(wM,"'"):e}function NM(e,t){return TN(e,-t)}const _M={cup:{type:"volume",toBase:240},cups:{type:"volume",toBase:240},c:{type:"volume",toBase:240},tablespoon:{type:"volume",toBase:15},tablespoons:{type:"volume",toBase:15},tbsp:{type:"volume",toBase:15},teaspoon:{type:"volume",toBase:5},teaspoons:{type:"volume",toBase:5},tsp:{type:"volume",toBase:5},milliliter:{type:"volume",toBase:1},milliliters:{type:"volume",toBase:1},ml:{type:"volume",toBase:1},liter:{type:"volume",toBase:1e3},liters:{type:"volume",toBase:1e3},l:{type:"volume",toBase:1e3},"fluid ounce":{type:"volume",toBase:30},"fluid ounces":{type:"volume",toBase:30},"fl oz":{type:"volume",toBase:30},pint:{type:"volume",toBase:480},pints:{type:"volume",toBase:480},pt:{type:"volume",toBase:480},quart:{type:"volume",toBase:960},quarts:{type:"volume",toBase:960},qt:{type:"volume",toBase:960},gallon:{type:"volume",toBase:3840},gallons:{type:"volume",toBase:3840},gal:{type:"volume",toBase:3840},gram:{type:"weight",toBase:1},grams:{type:"weight",toBase:1},g:{type:"weight",toBase:1},kilogram:{type:"weight",toBase:1e3},kilograms:{type:"weight",toBase:1e3},kg:{type:"weight",toBase:1e3},ounce:{type:"weight",toBase:28.35},ounces:{type:"weight",toBase:28.35},oz:{type:"weight",toBase:28.35},pound:{type:"weight",toBase:453.59},pounds:{type:"weight",toBase:453.59},lb:{type:"weight",toBase:453.59},lbs:{type:"weight",toBase:453.59},milligram:{type:"weight",toBase:.001},milligrams:{type:"weight",toBase:.001},mg:{type:"weight",toBase:.001},piece:{type:"count",toBase:1},pieces:{type:"count",toBase:1},whole:{type:"count",toBase:1},item:{type:"count",toBase:1},items:{type:"count",toBase:1},clove:{type:"count",toBase:1},cloves:{type:"count",toBase:1},slice:{type:"count",toBase:1},slices:{type:"count",toBase:1},"":{type:"count",toBase:1}};function IN(e){return e.toLowerCase().trim()}function jc(e){const t=IN(e);return _M[t]||null}function SM(e,t){const r=jc(e),n=jc(t);return!r||!n?!1:r.type===n.type}function $x(e,t){const r=jc(t);return r?e*r.toBase:null}function kM(e,t){return t==="volume"?e>=3840?{quantity:e/3840,unit:"gallon"}:e>=960?{quantity:e/960,unit:"quart"}:e>=240?{quantity:e/240,unit:"cup"}:e>=15?{quantity:e/15,unit:"tbsp"}:{quantity:e/5,unit:"tsp"}:t==="weight"?e>=1e3?{quantity:e/1e3,unit:"kg"}:e>=453.59?{quantity:e/453.59,unit:"lb"}:e>=28.35?{quantity:e/28.35,unit:"oz"}:{quantity:e,unit:"g"}:{quantity:e,unit:""}}function CM(e){if(e=e.trim(),e.includes("/")){const r=e.split(/\s+/);let n=0;for(const s of r)if(s.includes("/")){const[a,i]=s.split("/").map(l=>parseFloat(l));!isNaN(a)&&!isNaN(i)&&i!==0&&(n+=a/i)}else{const a=parseFloat(s);isNaN(a)||(n+=a)}return n}const t=parseFloat(e);return isNaN(t)?0:t}function EM(e){if(e===Math.floor(e))return e.toString();const t={"0.25":"1/4","0.33":"1/3","0.5":"1/2","0.66":"2/3","0.67":"2/3","0.75":"3/4"},r=Math.floor(e),n=e-r,s=n.toFixed(2);return t[s]?r>0?`${r} ${t[s]}`:t[s]:n<.01?r.toString():e.toFixed(2).replace(/\.?0+$/,"")}const RM=[{name:"Produce",sortOrder:0},{name:"Meat & Seafood",sortOrder:1},{name:"Dairy & Eggs",sortOrder:2},{name:"Bakery",sortOrder:3},{name:"Pantry",sortOrder:4},{name:"Frozen",sortOrder:5},{name:"Beverages",sortOrder:6},{name:"Other",sortOrder:7}],PM={tomato:"Produce",tomatoes:"Produce",onion:"Produce",onions:"Produce",garlic:"Produce",carrot:"Produce",carrots:"Produce",potato:"Produce",potatoes:"Produce",lettuce:"Produce",spinach:"Produce",broccoli:"Produce","bell pepper":"Produce",peppers:"Produce",mushroom:"Produce",mushrooms:"Produce",cucumber:"Produce",zucchini:"Produce",apple:"Produce",apples:"Produce",banana:"Produce",bananas:"Produce",lemon:"Produce",lemons:"Produce",lime:"Produce",limes:"Produce",avocado:"Produce",cilantro:"Produce",parsley:"Produce",basil:"Produce",chicken:"Meat & Seafood",beef:"Meat & Seafood",pork:"Meat & Seafood",turkey:"Meat & Seafood",salmon:"Meat & Seafood",shrimp:"Meat & Seafood",fish:"Meat & Seafood",bacon:"Meat & Seafood",sausage:"Meat & Seafood","ground beef":"Meat & Seafood",milk:"Dairy & Eggs",cheese:"Dairy & Eggs",butter:"Dairy & Eggs",eggs:"Dairy & Eggs",egg:"Dairy & Eggs",yogurt:"Dairy & Eggs",cream:"Dairy & Eggs","sour cream":"Dairy & Eggs",cheddar:"Dairy & Eggs",mozzarella:"Dairy & Eggs",parmesan:"Dairy & Eggs",bread:"Bakery",tortilla:"Bakery",tortillas:"Bakery",buns:"Bakery",rolls:"Bakery",bagels:"Bakery",croissant:"Bakery",rice:"Pantry",pasta:"Pantry",flour:"Pantry",sugar:"Pantry",salt:"Pantry",pepper:"Pantry",oil:"Pantry","olive oil":"Pantry","vegetable oil":"Pantry",vinegar:"Pantry","soy sauce":"Pantry",beans:"Pantry",chickpeas:"Pantry",lentils:"Pantry","tomato sauce":"Pantry","tomato paste":"Pantry",broth:"Pantry",stock:"Pantry",honey:"Pantry","peanut butter":"Pantry","canned tomatoes":"Pantry","ice cream":"Frozen","frozen vegetables":"Frozen","frozen peas":"Frozen","frozen corn":"Frozen",water:"Beverages",juice:"Beverages",coffee:"Beverages",tea:"Beverages",soda:"Beverages"};function MN(e){return e.toLowerCase().trim().replace(/\s+/g," ").replace(/[^a-z0-9\s]/g,"")}function TM(e,t){var s;const r=MN(e);for(const[a,i]of Object.entries(PM))if(r.includes(a)){const l=t.find(c=>c.name===i);if(l)return l.id}const n=t.find(a=>a.name==="Other");return(n==null?void 0:n.id)||((s=t[0])==null?void 0:s.id)||""}function DN(){return RM.map((e,t)=>({id:`cat-${t}`,name:e.name,sortOrder:e.sortOrder}))}function AM(e,t){const r=DN(),n=new Map;for(const s of e){const a=t.find(l=>l.id===s.recipeId);if(!a)continue;const i=s.servings/a.servings;for(const l of a.ingredients){const c=CM(l.quantity)*i,h=`${MN(l.name)}-${IN(l.unit)}`,f=n.get(h);if(f){if(SM(f.unit,l.unit)){const p=$x(f.quantity,f.unit)||0,m=$x(c,l.unit)||0,w=p+m,g=jc(f.unit);if(g){const b=kM(w,g.type);f.quantity=b.quantity,f.unit=b.unit}}else f.quantity+=c;f.sourceRecipeIds.includes(a.id)||f.sourceRecipeIds.push(a.id)}else{const p=TM(l.name,r),m={id:`item-${Date.now()}-${Math.random()}`,name:l.name,quantity:c,unit:l.unit,categoryId:p,checked:!1,sourceRecipeIds:[a.id]};n.set(h,m)}}}return Array.from(n.values())}function OM(e,t){const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${s}`}function IM(e){const[t,r,n]=e.split("-").map(Number);return new Date(t,r-1,n,0,0,0,0)}const gu=["Breakfast","Lunch","Dinner","Snack"];function MM({onNavigate:e}={}){const{state:t,dispatch:r}=Bs(),[n,s]=u.useState(Us(new Date,{weekStartsOn:0})),[a,i]=u.useState(1),[l,c]=u.useState([]),[d,h]=u.useState(!0),[f,p]=u.useState(""),[m,w]=u.useState(!1),[g,b]=u.useState(null),[v,x]=u.useState(""),[y,j]=u.useState(""),[_,S]=u.useState(!1),[k,T]=u.useState(null),[C,E]=u.useState(null),[I,M]=u.useState(null),[q,J]=u.useState(!1),[X,F]=u.useState(window.innerWidth<768),[$,O]=u.useState(new Date);u.useEffect(()=>{const K=()=>F(window.innerWidth<768);return window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[]),u.useEffect(()=>{const K=localStorage.getItem("userId");K?p(K):h(!1)},[]),u.useEffect(()=>{R()},[f,n,a,t.mealPlan,t.savedRecipes]);const N=u.useMemo(()=>{const K={};return t.savedRecipes.forEach(ae=>{const G=ae.cuisineType||"Other";K[G]||(K[G]=[]),K[G].push(ae)}),Object.entries(K).sort(([ae],[G])=>ae.localeCompare(G)).map(([ae,G])=>({cuisine:ae,recipes:G}))},[t.savedRecipes]),R=async()=>{h(!0);try{const K=t.mealPlan.map(ae=>{const G=t.savedRecipes.find(Se=>Se.id===ae.recipeId);return{...ae,recipe:G}});c(K)}catch(K){console.error("Error loading meal plans:",K),D.error("Failed to load meal plans")}finally{h(!1)}},z=async()=>{try{const K=t.mealPlan.map(G=>({recipeId:G.recipeId,servings:G.servings||2})),ae=AM(K,t.savedRecipes);r({type:"UPDATE_GROCERY_LIST",payload:ae}),D.success("Grocery list updated!")}catch(K){console.error("Error syncing grocery list:",K),D.error("Failed to update grocery list")}},H=(K,ae)=>l.find(G=>ul(IM(G.date),K)&&G.mealType===ae),B=K=>{(I==null?void 0:I.id)===K.id?(M(null),D.info("Recipe deselected")):(M(K),D.success("Recipe selected - now click a meal slot to assign"),X&&J(!1))},te=async(K,ae,G)=>{const Se=OM(K),ee=H(K,ae);try{r(ee?{type:"UPDATE_MEAL_PLAN",payload:{id:ee.id,recipeId:G.id,date:Se,mealType:ae,servings:G.servings}}:{type:"ADD_MEAL_PLAN",payload:{id:`meal-${Date.now()}`,recipeId:G.id,date:Se,mealType:ae,servings:G.servings}}),await R(),await z()}catch(he){throw console.error("Error adding meal:",he),he}},Z=async(K,ae)=>{const G=I;if(G)try{await te(K,ae,G),D.success("Meal assigned to calendar"),M(null)}catch{D.error("Failed to add meal")}},ie=async K=>{try{r({type:"REMOVE_MEAL_PLAN",payload:K}),D.success("Meal removed"),await R(),await z()}catch(ae){console.error("Error removing meal:",ae),D.error("Failed to remove meal")}},Q=()=>{s(K=>NM(K,a))},me=()=>{s(K=>TN(K,a))},U=K=>{b(K),w(!0)},A=async()=>{if(!g||!v||!y){D.error("Please select both date and meal type");return}const K=new Date(v);try{await te(K,y,g),D.success("Meal added to calendar"),w(!1),b(null),x(""),j("")}catch{D.error("Failed to add meal")}},V=(K,ae)=>{T(K),E(ae),S(!0)},se=async K=>{if(!k||!C)return;const ae=t.savedRecipes.find(G=>G.id===K);if(ae)try{await te(k,C,ae),D.success("Meal added to calendar"),S(!1),T(null),E(null)}catch{D.error("Failed to add meal")}},ge=()=>{const K=[],ae=a*7;for(let G=0;G<ae;G++)K.push(ja(n,G));return K},ke=()=>{const K=Us(new Date,{weekStartsOn:0});s(K),O(new Date)},Pe=K=>{i(K),O(n)},Te=()=>o.jsx("div",{className:`${X?"fixed inset-0 z-40 bg-black/50":""}`,onClick:()=>X&&J(!1),children:o.jsxs("div",{className:`${X?"fixed left-0 top-0 bottom-0 w-80 bg-white shadow-lg":"w-80 border-r border-slate-200 bg-white shadow-sm"} flex flex-col`,onClick:K=>K.stopPropagation(),children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 bg-gradient-to-br from-blue-50 to-cyan-50 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:o.jsx(Vg,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"My Recipes"}),o.jsx("p",{className:"text-xs text-slate-600",children:"Select & click slot"})]})]}),X&&o.jsx("button",{onClick:()=>J(!1),className:"p-1",children:o.jsx(Bt,{className:"w-6 h-6"})})]}),o.jsx(Es,{className:"flex-1",children:o.jsx("div",{className:"p-4",children:t.savedRecipes.length===0?o.jsxs("div",{className:"text-center py-8 px-4",children:[o.jsx(Vg,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),o.jsx("p",{className:"text-sm text-slate-500",children:"No saved recipes yet. Save recipes from the Discover page."})]}):o.jsx(Tx,{type:"multiple",defaultValue:N.map(K=>K.cuisine),className:"space-y-2",children:N.map(({cuisine:K,recipes:ae})=>o.jsxs(qh,{value:K,className:"border rounded-lg px-4 bg-slate-50",children:[o.jsx(Hh,{className:"hover:no-underline py-3",children:o.jsxs("div",{className:"flex items-center justify-between w-full pr-2",children:[o.jsx("span",{className:"font-semibold text-slate-900",children:K}),o.jsx(Je,{variant:"secondary",children:ae.length})]})}),o.jsx(Kh,{className:"pb-3",children:o.jsx("div",{className:"space-y-3 pt-2",children:ae.map(G=>{var Se,ee;return o.jsx("div",{className:"group",children:o.jsx(He,{className:`overflow-hidden hover:shadow-md transition-all duration-200 ${(I==null?void 0:I.id)===G.id?"border-2 border-orange-500 bg-orange-50":"border-slate-200 hover:border-blue-300 bg-white"}`,children:o.jsxs(Xe,{className:"p-0",children:[o.jsxs("div",{onClick:()=>B(G),className:"flex gap-3 p-3 cursor-pointer",children:[G.imageUrl&&o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden shrink-0 bg-slate-100",children:o.jsx("img",{src:(Se=G.imageUrl)!=null&&Se.includes("instagram.com")||(ee=G.imageUrl)!=null&&ee.includes("cdninstagram.com")?`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(G.imageUrl.replace(/&amp;/g,"&"))}`:G.imageUrl,alt:G.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[o.jsx("h3",{className:"font-semibold text-sm text-slate-900 line-clamp-2",children:G.title}),(I==null?void 0:I.id)===G.id&&o.jsx(sc,{className:"w-4 h-4 text-orange-600 shrink-0"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tn,{className:"w-3 h-3"}),o.jsxs("span",{children:[G.prepTime+G.cookTime,"m"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Cs,{className:"w-3 h-3"}),o.jsx("span",{children:G.servings})]})]}),G.mealType.length>0&&o.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:G.mealType.slice(0,2).map(he=>o.jsx(Je,{variant:"secondary",className:"text-xs",children:he},he))})]})]}),o.jsx("div",{className:"px-3 pb-3",children:o.jsxs(Y,{variant:"outline",size:"sm",className:"w-full",onClick:he=>{he.stopPropagation(),U(G)},children:[o.jsx(Br,{className:"w-4 h-4 mr-1"}),"Add to Plan"]})})]})})},G.id)})})})]},K))})})})]})});return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex flex-col md:flex-row",children:[!X&&o.jsx(Te,{}),X&&q&&o.jsx(Te,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx("div",{className:"border-b border-slate-200 bg-white shadow-sm",children:o.jsxs("div",{className:"p-4 md:p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-blue-600 to-cyan-600 flex items-center justify-center",children:o.jsx(Bo,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:"Meal Planner"}),o.jsx("p",{className:"text-xs md:text-sm text-slate-600",children:"Select recipe, click slot"})]})]}),X&&o.jsx("button",{onClick:()=>J(!q),className:"p-2 hover:bg-slate-100 rounded-lg",children:o.jsx(om,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-stretch sm:items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center",children:[o.jsxs(Y,{variant:"destructive",size:"sm",onClick:()=>{confirm("Clear all meal plans?")&&(r({type:"CLEAR_MEAL_PLAN"}),D.success("All meals cleared"))},className:"gap-2 text-xs md:text-sm",children:[o.jsx(Jt,{className:"w-4 h-4"}),"Clear"]}),!X&&o.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 rounded-lg p-1",children:[o.jsx(Y,{variant:a===1?"default":"ghost",size:"sm",onClick:()=>Pe(1),className:"h-8 text-xs",children:"1W"}),o.jsx(Y,{variant:a===4?"default":"ghost",size:"sm",onClick:()=>Pe(4),className:"h-8 text-xs",children:"4W"})]})]}),o.jsxs(Y,{onClick:()=>e==null?void 0:e("grocery-list"),className:"bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white font-medium shadow-lg text-xs md:text-sm",children:[o.jsx(Is,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"Grocery List"]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Y,{variant:"outline",size:"sm",onClick:Q,className:"h-8 w-8 p-0",children:o.jsx(Nh,{className:"w-4 h-4"})}),o.jsx(Y,{variant:"outline",size:"sm",onClick:ke,className:"h-8 text-xs px-2",children:"Today"}),o.jsx(Y,{variant:"outline",size:"sm",onClick:me,className:"h-8 w-8 p-0",children:o.jsx(_h,{className:"w-4 h-4"})})]}),o.jsxs("h2",{className:"text-sm md:text-lg font-semibold text-slate-700 whitespace-nowrap",children:[xr(n,"MMM d")," - ",xr(ja(n,a*7-1),"MMM d")]})]})]})}),o.jsx(Es,{className:"flex-1",children:o.jsx("div",{className:"p-4 md:p-6",children:d?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):X?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 -mx-4 px-4",children:[o.jsx(Y,{variant:"outline",size:"sm",onClick:Q,className:"h-8",children:o.jsx(Nh,{className:"w-4 h-4"})}),o.jsxs("span",{className:"text-sm font-medium text-slate-600 whitespace-nowrap",children:[xr(n,"MMM d")," - ",xr(ja(n,6),"MMM d")]}),o.jsx(Y,{variant:"outline",size:"sm",onClick:me,className:"h-8",children:o.jsx(_h,{className:"w-4 h-4"})})]}),o.jsx("div",{className:"overflow-x-auto -mx-4 px-4",children:o.jsx("div",{className:"flex gap-2 pb-2",children:Array.from({length:7}).map((K,ae)=>{const G=ja(n,ae);return o.jsxs("button",{onClick:()=>O(G),className:`flex-shrink-0 rounded-lg p-3 transition-all ${ul(G,$)?"bg-blue-600 text-white shadow-lg":ul(G,new Date)?"bg-blue-100 text-blue-600 border-2 border-blue-300":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[o.jsx("div",{className:"text-xs font-medium text-center",children:xr(G,"EEE")}),o.jsx("div",{className:"text-lg font-bold text-center",children:xr(G,"d")})]},G.toISOString())})})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:xr($,"EEEE, MMMM d")}),gu.map(K=>{var G,Se;const ae=H($,K);return o.jsx("div",{onClick:()=>{I&&!ae&&Z($,K)},className:`rounded-lg border-2 overflow-hidden transition-all ${ae?"bg-white border-slate-200 shadow-sm":I?"border-orange-400 bg-orange-50 border-dashed cursor-pointer active:bg-orange-100":"border-slate-200 bg-slate-50 border-dashed"}`,children:ae&&ae.recipe?o.jsxs("div",{className:"group",children:[ae.recipe.imageUrl&&o.jsxs("div",{className:"w-full h-48 overflow-hidden bg-slate-100 relative",children:[o.jsx("img",{src:(G=ae.recipe.imageUrl)!=null&&G.includes("instagram.com")||(Se=ae.recipe.imageUrl)!=null&&Se.includes("cdninstagram.com")?`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(ae.recipe.imageUrl.replace(/&amp;/g,"&"))}`:ae.recipe.imageUrl,alt:ae.recipe.title,className:"w-full h-full object-cover"}),o.jsx("button",{onClick:ee=>{ee.stopPropagation(),ie(ae.id)},className:"absolute top-2 right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Bt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"text-sm font-medium text-slate-500 mb-2",children:K}),o.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-2",children:ae.recipe.title}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tn,{className:"w-4 h-4"}),o.jsxs("span",{children:[ae.recipe.prepTime+ae.recipe.cookTime,"m"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Cs,{className:"w-4 h-4"}),o.jsxs("span",{children:[ae.recipe.servings," servings"]})]})]})]})]}):o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"text-sm font-medium text-slate-500 mb-2",children:K}),o.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"No meal planned"}),o.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>V($,K),className:"gap-2",children:[o.jsx(Br,{className:"w-4 h-4"}),"Add Meal"]})]})},K)})]})]}):o.jsx("div",{className:"grid gap-4 grid-cols-7",children:ge().map((K,ae)=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-center pb-2 border-b-2 border-slate-200",children:[o.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:xr(K,"EEE")}),o.jsx("div",{className:`text-lg font-bold ${ul(K,new Date)?"text-blue-600":"text-slate-900"}`,children:xr(K,"d")})]}),o.jsx("div",{className:"space-y-2",children:gu.map(G=>{var ee,he;const Se=H(K,G);return o.jsx("div",{onClick:()=>{I&&Z(K,G)},className:`
                              min-h-[100px] rounded-lg border-2 p-2
                              transition-all relative group
                              ${I&&!Se?"border-orange-400 bg-orange-50 cursor-pointer hover:bg-orange-100 hover:border-orange-500 border-dashed":"border-slate-200 bg-slate-50/50"}
                              ${Se?"border-solid bg-white hover:shadow-md":"border-dashed"}
                            `,children:Se&&Se.recipe?o.jsxs("div",{className:"relative h-full",children:[o.jsx("button",{onClick:we=>{we.stopPropagation(),ie(Se.id)},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-10 shadow-sm",children:o.jsx(Bt,{className:"w-3 h-3"})}),Se.recipe.imageUrl&&o.jsx("div",{className:"w-full h-16 rounded-md overflow-hidden mb-2 bg-slate-100",children:o.jsx("img",{src:(ee=Se.recipe.imageUrl)!=null&&ee.includes("instagram.com")||(he=Se.recipe.imageUrl)!=null&&he.includes("cdninstagram.com")?`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(Se.recipe.imageUrl.replace(/&amp;/g,"&"))}`:Se.recipe.imageUrl,alt:Se.recipe.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"text-xs",children:[o.jsx("div",{className:"font-medium text-slate-500 mb-1",children:G}),o.jsx("div",{className:"font-semibold text-slate-900 line-clamp-2 text-xs",children:Se.recipe.title}),o.jsxs("div",{className:"flex items-center gap-1 mt-1 text-slate-500 text-xs",children:[o.jsx(tn,{className:"w-3 h-3"}),o.jsxs("span",{children:[Se.recipe.prepTime+Se.recipe.cookTime,"m"]})]})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center gap-1",children:[o.jsx("div",{className:"text-xs font-medium text-slate-400",children:G}),o.jsxs(Y,{variant:"ghost",size:"sm",onClick:()=>V(K,G),className:"h-6 text-xs px-2 gap-1 hover:bg-blue-50 hover:text-blue-600 transition-colors",children:[o.jsx(Br,{className:"w-3 h-3"}),"Add"]})]})},`${ae}-${G}`)})})]},ae))})})})]}),o.jsx(_t,{open:m,onOpenChange:w,children:o.jsxs(vt,{className:"w-[95vw] max-w-sm",children:[o.jsxs(Vt,{children:[o.jsx(Dt,{children:"Add Meal to Plan"}),o.jsx(Nr,{children:g&&`Add "${g.title}" to your meal plan`})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Date"}),o.jsxs(an,{value:v,onValueChange:x,children:[o.jsx(Wr,{children:o.jsx(ln,{placeholder:"Select date"})}),o.jsx(qr,{children:ge().map(K=>o.jsx(ir,{value:xr(K,"yyyy-MM-dd"),children:xr(K,"EEE, MMM d")},K.toISOString()))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Meal Type"}),o.jsxs(an,{value:y,onValueChange:K=>j(K),children:[o.jsx(Wr,{children:o.jsx(ln,{placeholder:"Select meal type"})}),o.jsx(qr,{children:gu.map(K=>o.jsx(ir,{value:K,children:K},K))})]})]})]}),o.jsxs(rs,{className:"flex gap-2",children:[o.jsx(Y,{variant:"outline",onClick:()=>{w(!1),b(null),x(""),j("")},children:"Cancel"}),o.jsx(Y,{onClick:A,disabled:!v||!y,children:"Add"})]})]})}),o.jsx(_t,{open:_,onOpenChange:S,children:o.jsxs(vt,{className:"w-[95vw] max-w-2xl max-h-[80vh]",children:[o.jsxs(Vt,{children:[o.jsx(Dt,{children:"Select Recipe"}),o.jsx(Nr,{children:k&&C&&`Add a recipe for ${C} on ${xr(k,"EEE, MMM d")}`})]}),o.jsx(Es,{className:"max-h-[50vh]",children:o.jsx("div",{className:"space-y-4 py-4 pr-4",children:N.length===0?o.jsx("div",{className:"text-center py-8 text-slate-500",children:"No saved recipes. Save recipes from the Discover page first."}):o.jsx(Tx,{type:"multiple",defaultValue:N.map(K=>K.cuisine),children:N.map(({cuisine:K,recipes:ae})=>o.jsxs(qh,{value:K,children:[o.jsx(Hh,{children:o.jsxs("div",{className:"flex items-center justify-between w-full pr-2",children:[o.jsx("span",{className:"font-semibold",children:K}),o.jsx(Je,{variant:"secondary",children:ae.length})]})}),o.jsx(Kh,{children:o.jsx("div",{className:"space-y-2 pt-2",children:ae.map(G=>{var Se,ee;return o.jsx("button",{onClick:()=>se(G.id),className:"w-full text-left p-3 rounded-lg border border-slate-200 hover:border-blue-300 hover:bg-blue-50 transition-all",children:o.jsxs("div",{className:"flex gap-3",children:[G.imageUrl&&o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden shrink-0 bg-slate-100",children:o.jsx("img",{src:(Se=G.imageUrl)!=null&&Se.includes("instagram.com")||(ee=G.imageUrl)!=null&&ee.includes("cdninstagram.com")?`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(G.imageUrl.replace(/&amp;/g,"&"))}`:G.imageUrl,alt:G.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm text-slate-900 mb-1",children:G.title}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(tn,{className:"w-3 h-3"}),o.jsxs("span",{children:[G.prepTime+G.cookTime,"m"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Cs,{className:"w-3 h-3"}),o.jsx("span",{children:G.servings})]})]})]})]})},G.id)})})})]},K))})})}),o.jsx(rs,{children:o.jsx(Y,{variant:"outline",onClick:()=>{S(!1),T(null),E(null)},children:"Cancel"})})]})})]})}function DM({onNavigate:e}={}){const{state:t,dispatch:r}=Bs(),[n,s]=u.useState(DN()),[a,i]=u.useState(!1),[l,c]=u.useState(null),[d,h]=u.useState(null),[f,p]=u.useState(""),[m,w]=u.useState(""),[g,b]=u.useState(""),[v,x]=u.useState(""),[y,j]=u.useState(!1),[_,S]=u.useState(""),[k,T]=u.useState(new Date().toISOString().split("T")[0]),[C,E]=u.useState(new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0]),[I,M]=u.useState(!1),[q,J]=u.useState(null),[X,F]=u.useState(null),$=t.groceryList;u.useEffect(()=>{O()},[k,C]);function O(){const ee=new Date(k);ee.setHours(0,0,0,0);const he=new Date(C);he.setHours(23,59,59,999);const we=t.mealPlan.filter(le=>{const ve=new Date(le.date);return ve.setHours(0,0,0,0),ve>=ee&&ve<=he}),$e={};we.forEach(le=>{const ve=t.savedRecipes.find(Ae=>Ae.id===le.recipeId);ve&&ve.ingredients.forEach(Ae=>{const yt=`${Ae.name.toLowerCase()}-${Ae.unit}`;if($e[yt])$e[yt].quantity+=parseFloat(Ae.quantity)||0,$e[yt].sourceRecipeIds.includes(ve.id)||$e[yt].sourceRecipeIds.push(ve.id);else{const hn=N(Ae.name);$e[yt]={id:`item-${Date.now()}-${Math.random()}`,name:Ae.name,quantity:parseFloat(Ae.quantity)||1,unit:Ae.unit||"",categoryId:hn,checked:!1,sourceRecipeIds:[ve.id]}}})});const Tt=new Set($.map(le=>`${le.name.toLowerCase()}-${le.unit}`)),W=Object.values($e).filter(le=>!Tt.has(`${le.name.toLowerCase()}-${le.unit}`));W.length>0&&r({type:"UPDATE_GROCERY_LIST",payload:[...$,...W]})}function N(ee){const he=ee.toLowerCase();return he.includes("milk")||he.includes("cheese")||he.includes("yogurt")||he.includes("butter")||he.includes("cream")?"dairy":he.includes("chicken")||he.includes("beef")||he.includes("pork")||he.includes("fish")||he.includes("meat")?"meat":he.includes("apple")||he.includes("banana")||he.includes("orange")||he.includes("berry")||he.includes("fruit")||he.includes("lettuce")||he.includes("tomato")||he.includes("carrot")||he.includes("onion")||he.includes("vegetable")?"produce":he.includes("bread")||he.includes("pasta")||he.includes("rice")||he.includes("cereal")?"pantry":"other"}function R(ee){r({type:"TOGGLE_GROCERY_ITEM",payload:ee})}function z(ee){r({type:"REMOVE_GROCERY_ITEM",payload:ee}),F(null)}function H(){const ee=$.filter(he=>!he.checked);r({type:"UPDATE_GROCERY_LIST",payload:ee})}function B(){window.confirm("Are you sure you want to clear all items from your grocery list?")&&r({type:"UPDATE_GROCERY_LIST",payload:[]})}function te(){if(!f.trim()||!v)return;const ee={id:`item-${Date.now()}-${Math.random()}`,name:f.trim(),quantity:parseFloat(m)||1,unit:g||"",categoryId:v,checked:!1,sourceRecipeIds:[]};r({type:"ADD_GROCERY_ITEM",payload:ee}),i(!1),p(""),w(""),b(""),x("")}function Z(){if(!_)return;const ee=t.savedRecipes.find(we=>we.id===_);if(!ee){D.error("Recipe not found");return}const he=ee.ingredients.map((we,$e)=>{const Tt=N(we.name);return{id:`item-${Date.now()}-${$e}`,name:we.name,quantity:parseFloat(we.quantity)||1,unit:we.unit||"",categoryId:Tt,checked:!1,sourceRecipeIds:[ee.id]}});r({type:"UPDATE_GROCERY_LIST",payload:[...$,...he]}),D.success(`Added ${he.length} ingredients from ${ee.title}`),j(!1),S("")}function ie(ee,he){const we=$.map($e=>$e.id===ee?{...$e,categoryId:he}:$e);r({type:"UPDATE_GROCERY_LIST",payload:we})}function Q(ee){J(ee),M(!0)}function me(ee){c(ee)}function U(ee){ee.preventDefault()}function A(ee){l&&(ie(l,ee),c(null))}function V(ee){h(ee)}async function se(ee){if(!d||d===ee){h(null);return}const he=n.findIndex(le=>le.id===d),we=n.findIndex(le=>le.id===ee);if(he===-1||we===-1)return;const $e=[...n],[Tt]=$e.splice(he,1);$e.splice(we,0,Tt);const W=$e.map((le,ve)=>({...le,sortOrder:ve}));s(W),h(null)}async function ge(){try{const{data:ee}=await L.auth.getUser();if(!ee.user){D.error("Please sign in to add items to cart");return}if($.length===0){D.error("No items to send to cart");return}const he=$.map($e=>({user_id:ee.user.id,product_name:$e.name,quantity:`${$e.quantity} ${$e.unit}`.trim(),price:"0.00",image_url:null,affiliate_link:null})),{error:we}=await L.from("cart_items").insert(he);if(we)throw we;D.success(`Added ${$.length} items to cart!`),e&&setTimeout(()=>e("cart"),1e3)}catch(ee){console.error("Failed to send to cart:",ee),D.error("Failed to send items to cart")}}let ke=0,Pe=0;function Te(ee,he){ke=ee.targetTouches[0].clientX}function K(ee,he){Pe=ee.changedTouches[0].clientX;const we=ke-Pe;we>100?F(he):we<-50&&F(null)}const ae=n.reduce((ee,he)=>(ee[he.id]=$.filter(we=>we.categoryId===he.id),ee),{}),G=$.filter(ee=>ee.checked).length,Se=$.length;return o.jsxs("div",{className:"max-w-4xl mx-auto p-4 pb-24",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex flex-col gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Grocery List"}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[G," of ",Se," items checked"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs(Y,{onClick:()=>i(!0),className:"flex-1 min-w-[140px] h-12",children:[o.jsx(Br,{className:"w-4 h-4 mr-2"}),"Add Item"]}),o.jsxs(Y,{variant:"outline",onClick:()=>j(!0),className:"flex-1 min-w-[140px] h-12",children:[o.jsx(ts,{className:"w-4 h-4 mr-2"}),"Add Recipe"]})]}),(G>0||Se>0)&&o.jsxs("div",{className:"flex flex-wrap gap-2",children:[G>0&&o.jsxs(Y,{variant:"outline",onClick:H,className:"flex-1 h-12",children:[o.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Clear Checked"]}),Se>0&&o.jsxs(o.Fragment,{children:[o.jsxs(Y,{variant:"destructive",onClick:B,className:"flex-1 h-12",children:[o.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Clear All"]}),o.jsxs(Y,{onClick:ge,className:"w-full h-12 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",children:[o.jsx(Is,{className:"w-4 h-4 mr-2"}),"Send to Cart"]})]})]})]}),o.jsx(He,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:o.jsx(Xe,{className:"pt-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Bo,{className:"w-5 h-5 text-blue-600"}),o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Auto-populate from Meal Planner"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Fe,{className:"text-xs text-gray-600",children:"From:"}),o.jsx(nt,{type:"date",value:k,onChange:ee=>T(ee.target.value),className:"w-full h-12"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx(Fe,{className:"text-xs text-gray-600",children:"To:"}),o.jsx(nt,{type:"date",value:C,onChange:ee=>E(ee.target.value),className:"w-full h-12"})]}),o.jsx(Y,{onClick:O,className:"h-12 sm:self-end",children:"Refresh"})]})]})})})]}),Se===0?o.jsx(He,{children:o.jsxs(Xe,{className:"py-12 text-center",children:[o.jsx("p",{className:"text-gray-500 mb-4",children:"Your grocery list is empty. Add recipes to your meal plan to automatically generate a grocery list."}),o.jsxs(Y,{onClick:()=>e==null?void 0:e("meal-planner"),className:"h-12",children:[o.jsx(Bo,{className:"w-4 h-4 mr-2"}),"Go to Meal Planner"]})]})}):o.jsx("div",{className:"space-y-4",children:n.map(ee=>{const he=ae[ee.id]||[];return he.length===0?null:o.jsxs(He,{draggable:!0,onDragStart:()=>V(ee.id),onDragOver:U,onDrop:()=>se(ee.id),className:`transition-all ${d===ee.id?"opacity-50":""}`,children:[o.jsx(wt,{className:"pb-3 cursor-move",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ru,{className:"w-4 h-4 text-gray-400"}),o.jsx(bt,{className:"text-lg",children:ee.name}),o.jsx(Je,{variant:"secondary",children:he.length})]})})}),o.jsx(Xe,{onDragOver:U,onDrop:()=>A(ee.id),children:o.jsx("div",{className:"space-y-2",children:he.map(we=>o.jsxs("div",{draggable:!0,onDragStart:()=>me(we.id),onTouchStart:$e=>Te($e,we.id),onTouchEnd:$e=>K($e,we.id),className:`relative flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-all ${l===we.id?"opacity-50":""} ${we.checked?"opacity-60":""} ${X===we.id?"bg-red-50":""}`,children:[o.jsx(ru,{className:"w-4 h-4 text-gray-400 cursor-move hidden md:block"}),o.jsx("button",{onClick:()=>Q(we),className:"md:hidden p-2 -ml-2",children:o.jsx(ru,{className:"w-5 h-5 text-gray-400"})}),o.jsx(oi,{checked:we.checked,onCheckedChange:()=>R(we.id),className:"h-6 w-6"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:`font-medium text-base ${we.checked?"line-through text-gray-500":"text-gray-900"}`,children:we.name}),we.sourceRecipeIds.length>1&&o.jsxs(Je,{variant:"outline",className:"text-xs",children:[we.sourceRecipeIds.length," recipes"]})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[EM(we.quantity)," ",we.unit]})]}),o.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>z(we.id),className:"shrink-0 h-10 w-10",children:o.jsx(Jt,{className:"w-5 h-5 text-red-500"})})]},we.id))})})]},ee.id)})}),o.jsx(_t,{open:I,onOpenChange:M,children:o.jsxs(vt,{children:[o.jsxs(Vt,{children:[o.jsx(Dt,{children:"Move to Category"}),o.jsxs(Nr,{children:['Select a new category for "',q==null?void 0:q.name,'"']})]}),o.jsx("div",{className:"space-y-2 py-4",children:n.map(ee=>o.jsx(Y,{variant:"outline",className:"w-full h-14 justify-start text-left",onClick:()=>{q&&ie(q.id,ee.id),M(!1),J(null)},children:o.jsx("span",{className:"text-base font-medium",children:ee.name})},ee.id))})]})}),o.jsx(_t,{open:a,onOpenChange:i,children:o.jsxs(vt,{children:[o.jsxs(Vt,{children:[o.jsx(Dt,{children:"Add Item"}),o.jsx(Nr,{children:"Add a new item to your grocery list."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"itemName",children:"Item Name *"}),o.jsx(nt,{id:"itemName",value:f,onChange:ee=>p(ee.target.value),placeholder:"e.g., Milk, Eggs",className:"h-12"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"itemQuantity",children:"Quantity"}),o.jsx(nt,{id:"itemQuantity",type:"number",value:m,onChange:ee=>w(ee.target.value),placeholder:"1",className:"h-12"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"itemUnit",children:"Unit"}),o.jsx(nt,{id:"itemUnit",value:g,onChange:ee=>b(ee.target.value),placeholder:"e.g., cups, lbs",className:"h-12"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"itemCategory",children:"Category *"}),o.jsxs(an,{value:v,onValueChange:x,children:[o.jsx(Wr,{className:"h-12",children:o.jsx(ln,{placeholder:"Select category"})}),o.jsx(qr,{children:n.map(ee=>o.jsx(ir,{value:ee.id,children:ee.name},ee.id))})]})]})]}),o.jsxs(rs,{children:[o.jsx(Y,{variant:"outline",onClick:()=>i(!1),className:"h-12",children:"Cancel"}),o.jsx(Y,{onClick:te,disabled:!f.trim()||!v,className:"h-12",children:"Add Item"})]})]})}),o.jsx(_t,{open:y,onOpenChange:j,children:o.jsxs(vt,{children:[o.jsxs(Vt,{children:[o.jsx(Dt,{children:"Add Recipe to Grocery List"}),o.jsx(Nr,{children:"Select a recipe to add its ingredients to your grocery list."})]}),o.jsx("div",{className:"space-y-4 py-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"recipeSelect",children:"Recipe *"}),o.jsxs(an,{value:_,onValueChange:S,children:[o.jsx(Wr,{className:"h-12",children:o.jsx(ln,{placeholder:"Select a recipe"})}),o.jsx(qr,{children:t.savedRecipes.map(ee=>o.jsx(ir,{value:ee.id,children:ee.title},ee.id))})]})]})}),o.jsxs(rs,{children:[o.jsx(Y,{variant:"outline",onClick:()=>j(!1),className:"h-12",children:"Cancel"}),o.jsx(Y,{onClick:Z,disabled:!_,className:"h-12",children:"Add Ingredients"})]})]})})]})}function $M({onNavigate:e}={}){const[t,r]=u.useState([]),[n,s]=u.useState(!0),[a,i]=u.useState(null),[l,c]=u.useState(window.innerWidth<768);u.useEffect(()=>{const g=()=>c(window.innerWidth<768);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),u.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:g}=await L.auth.getUser();if(!g.user)return;i(g.user.id);const{data:b,error:v}=await L.from("cart_items").select("*").eq("user_id",g.user.id).order("created_at",{ascending:!1});if(v)throw v;r(b||[])}catch(g){console.error("Error loading cart:",g),D.error("Failed to load cart")}finally{s(!1)}},h=async(g,b)=>{try{const{error:v}=await L.from("cart_items").update({quantity:b}).eq("id",g);if(v)throw v;r(x=>x.map(y=>y.id===g?{...y,quantity:b}:y)),D.success("Quantity updated")}catch(v){console.error("Error updating quantity:",v),D.error("Failed to update quantity")}},f=async g=>{try{const{error:b}=await L.from("cart_items").delete().eq("id",g);if(b)throw b;r(v=>v.filter(x=>x.id!==g)),D.success("Item removed from cart")}catch(b){console.error("Error removing item:",b),D.error("Failed to remove item")}},p=async()=>{if(a&&confirm("Are you sure you want to clear your entire cart?"))try{const{error:g}=await L.from("cart_items").delete().eq("user_id",a);if(g)throw g;r([]),D.success("Cart cleared")}catch(g){console.error("Error clearing cart:",g),D.error("Failed to clear cart")}},m=()=>t.reduce((g,b)=>{const v=b.price||0,x=parseFloat(b.quantity)||1;return g+v*x},0),w=()=>{D.info("Stripe checkout coming soon!")};return n?o.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-slate-50 via-white to-orange-50",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-orange-50",children:[o.jsx("div",{className:"sticky top-0 z-30 bg-white border-b border-slate-200 shadow-sm",children:o.jsx("div",{className:"p-4 md:p-6",children:o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[o.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center",children:o.jsx(Is,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl md:text-3xl font-bold text-slate-900",children:"Your Cart"}),o.jsxs("p",{className:"text-xs md:text-sm text-slate-600",children:[t.length," ",t.length===1?"item":"items"]})]})]}),t.length>0&&o.jsx(Y,{variant:"ghost",size:"sm",onClick:p,className:"text-xs md:text-sm hover:bg-red-50 hover:text-red-600",children:"Clear"})]})})}),t.length===0?o.jsx("div",{className:"p-4 md:p-6 flex items-center justify-center min-h-[calc(100vh-200px)]",children:o.jsx(He,{className:"w-full max-w-sm",children:o.jsxs(Xe,{className:"flex flex-col items-center justify-center py-12 px-6",children:[o.jsx(Is,{className:"w-16 h-16 text-gray-300 mb-4"}),o.jsx("p",{className:"text-gray-500 text-center mb-4 text-sm md:text-base",children:"Your cart is empty. Soon you will be able to order your ingredients and get them delivered!"}),o.jsx(Y,{onClick:()=>e==null?void 0:e("meal-planner"),className:"bg-orange-600 hover:bg-orange-700 text-white",children:"Add Items from Meal Planner"})]})})}):o.jsxs("div",{className:"p-4 md:p-6 pb-32 md:pb-24",children:[o.jsx("div",{className:"space-y-3 md:space-y-4 mb-6 max-w-4xl mx-auto",children:t.map(g=>o.jsx(He,{className:"overflow-hidden hover:shadow-md transition-shadow",children:o.jsx(Xe,{className:"p-3 md:p-4",children:o.jsxs("div",{className:"flex gap-3 md:gap-4",children:[g.image_url&&o.jsx("div",{className:"shrink-0",children:o.jsx("img",{src:g.image_url,alt:g.amazon_product_name||g.ingredient_name,className:"w-20 h-20 md:w-24 md:h-24 object-cover rounded-lg bg-slate-100"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm md:text-lg text-slate-900 line-clamp-2 mb-1",children:g.amazon_product_name||g.ingredient_name}),g.ingredient_name!==g.amazon_product_name&&o.jsx("p",{className:"text-xs md:text-sm text-gray-600 italic mb-2 line-clamp-1",children:g.ingredient_name}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 rounded-lg w-fit p-1",children:[o.jsx(Y,{size:"sm",variant:"ghost",onClick:()=>{const b=parseFloat(g.quantity)||1;b>1&&h(g.id,(b-1).toString())},className:"h-7 w-7 p-0 hover:bg-slate-200",children:o.jsx(fw,{className:"w-3 h-3"})}),o.jsx(nt,{type:"text",value:g.quantity,onChange:b=>h(g.id,b.target.value),className:"w-12 md:w-16 text-center text-sm h-7 border-0 bg-transparent"}),o.jsx(Y,{size:"sm",variant:"ghost",onClick:()=>{const b=parseFloat(g.quantity)||1;h(g.id,(b+1).toString())},className:"h-7 w-7 p-0 hover:bg-slate-200",children:o.jsx(Br,{className:"w-3 h-3"})})]}),o.jsx("span",{className:"text-xs md:text-sm text-gray-600",children:g.unit})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2 justify-between",children:[g.price&&o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-sm md:text-lg font-semibold text-orange-600",children:["$",(g.price*(parseFloat(g.quantity)||1)).toFixed(2)]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["$",g.price.toFixed(2)," each"]})]}),o.jsxs("div",{className:"flex gap-1 flex-col",children:[g.amazon_product_url&&o.jsxs("a",{href:g.amazon_product_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-1 text-xs md:text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded px-2 py-1 transition-colors",children:[o.jsx(Bc,{className:"w-3 h-3"}),o.jsx("span",{className:"hidden sm:inline",children:"View"})]}),o.jsxs(Y,{size:"sm",variant:"ghost",onClick:()=>f(g.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 text-xs md:text-sm h-7 px-2",children:[o.jsx(Jt,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),o.jsx("span",{className:"hidden sm:inline",children:"Remove"})]})]})]})]})})},g.id))}),o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx(He,{className:"mb-4 bg-slate-50 border-slate-200",children:o.jsx(Xe,{className:"p-4 md:p-6",children:o.jsxs("div",{className:"space-y-2 text-sm md:text-base",children:[o.jsxs("div",{className:"flex justify-between text-slate-700",children:[o.jsxs("span",{children:["Subtotal (",t.length," items)"]}),o.jsxs("span",{className:"font-medium",children:["$",m().toFixed(2)]})]}),o.jsx("div",{className:"flex justify-between text-slate-600 text-xs md:text-sm",children:o.jsx("span",{children:"Shipping & taxes calculated at checkout"})})]})})}),o.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 md:relative md:p-0 bg-white md:bg-transparent border-t md:border-t-0 border-slate-200",children:[o.jsxs(Y,{className:"w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-medium text-sm md:text-base h-12 md:h-14",size:"lg",onClick:w,children:[o.jsx(yE,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"Proceed to Checkout"]}),o.jsx("p",{className:"text-xs text-center text-gray-500 mt-2",children:"Stripe checkout integration coming soon"})]})]})]})]})}var $N=["PageUp","PageDown"],LN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],UN={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ra="Slider",[Gh,LM,UM]=ki(ra),[FN]=er(ra,[UM]),[FM,xd]=FN(ra),zN=u.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:h,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:m=!1,form:w,...g}=e,b=u.useRef(new Set),v=u.useRef(0),y=i==="horizontal"?zM:BM,[j=[],_]=Kr({prop:h,defaultProp:d,onChange:I=>{var q;(q=[...b.current][v.current])==null||q.focus(),f(I)}}),S=u.useRef(j);function k(I){const M=KM(j,I);E(I,M)}function T(I){E(I,v.current)}function C(){const I=S.current[v.current];j[v.current]!==I&&p(j)}function E(I,M,{commit:q}={commit:!1}){const J=XM(a),X=QM(Math.round((I-n)/a)*a+n,J),F=ai(X,[n,s]);_(($=[])=>{const O=qM($,F,M);if(JM(O,c*a)){v.current=O.indexOf(F);const N=String(O)!==String($);return N&&q&&p(O),N?O:$}else return $})}return o.jsx(FM,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:v,thumbs:b.current,values:j,orientation:i,form:w,children:o.jsx(Gh.Provider,{scope:e.__scopeSlider,children:o.jsx(Gh.Slot,{scope:e.__scopeSlider,children:o.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:de(g.onPointerDown,()=>{l||(S.current=j)}),min:n,max:s,inverted:m,onSlideStart:l?void 0:k,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&E(n,0,{commit:!0}),onEndKeyDown:()=>!l&&E(s,j.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:M})=>{if(!l){const X=$N.includes(I.key)||I.shiftKey&&LN.includes(I.key)?10:1,F=v.current,$=j[F],O=a*X*M;E($+O,F,{commit:!0})}}})})})})});zN.displayName=ra;var[BN,VN]=FN(ra,{startEdge:"left",endEdge:"right",size:"width",direction:1}),zM=u.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...h}=e,[f,p]=u.useState(null),m=Re(t,y=>p(y)),w=u.useRef(void 0),g=Qo(s),b=g==="ltr",v=b&&!a||!b&&a;function x(y){const j=w.current||f.getBoundingClientRect(),_=[0,j.width],k=rp(_,v?[r,n]:[n,r]);return w.current=j,k(y-j.left)}return o.jsx(BN,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:o.jsx(WN,{dir:g,"data-orientation":"horizontal",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const j=x(y.clientX);i==null||i(j)},onSlideMove:y=>{const j=x(y.clientX);l==null||l(j)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:y=>{const _=UN[v?"from-left":"from-right"].includes(y.key);d==null||d({event:y,direction:_?-1:1})}})})}),BM=u.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...d}=e,h=u.useRef(null),f=Re(t,h),p=u.useRef(void 0),m=!s;function w(g){const b=p.current||h.current.getBoundingClientRect(),v=[0,b.height],y=rp(v,m?[n,r]:[r,n]);return p.current=b,y(g-b.top)}return o.jsx(BN,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:o.jsx(WN,{"data-orientation":"vertical",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const b=w(g.clientY);a==null||a(b)},onSlideMove:g=>{const b=w(g.clientY);i==null||i(b)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:g=>{const v=UN[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:v?-1:1})}})})}),WN=u.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...d}=e,h=xd(ra,r);return o.jsx(_e.span,{...d,ref:t,onKeyDown:de(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):$N.concat(LN).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:de(e.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(p)?p.focus():n(f)}),onPointerMove:de(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:de(e.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),a(f))})})}),qN="SliderTrack",HN=u.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=xd(qN,r);return o.jsx(_e.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});HN.displayName=qN;var Yh="SliderRange",KN=u.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=xd(Yh,r),a=VN(Yh,r),i=u.useRef(null),l=Re(t,i),c=s.values.length,d=s.values.map(p=>JN(p,s.min,s.max)),h=c>1?Math.min(...d):0,f=100-Math.max(...d);return o.jsx(_e.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:h+"%",[a.endEdge]:f+"%"}})});KN.displayName=Yh;var Jh="SliderThumb",GN=u.forwardRef((e,t)=>{const r=LM(e.__scopeSlider),[n,s]=u.useState(null),a=Re(t,l=>s(l)),i=u.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return o.jsx(VM,{...e,ref:a,index:i})}),VM=u.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...a}=e,i=xd(Jh,r),l=VN(Jh,r),[c,d]=u.useState(null),h=Re(t,x=>d(x)),f=c?i.form||!!c.closest("form"):!0,p=Xc(c),m=i.values[n],w=m===void 0?0:JN(m,i.min,i.max),g=HM(n,i.values.length),b=p==null?void 0:p[l.size],v=b?GM(b,w,l.direction):0;return u.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${v}px)`},children:[o.jsx(Gh.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(_e.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":i.min,"aria-valuenow":m,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:h,style:m===void 0?{display:"none"}:e.style,onFocus:de(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&o.jsx(YN,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:m},n)]})});GN.displayName=Jh;var WM="RadioBubbleInput",YN=u.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=u.useRef(null),a=Re(s,n),i=Jc(t);return u.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(_e.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});YN.displayName=WM;function qM(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,a)=>s-a)}function JN(e,t,r){const a=100/(r-t)*(e-t);return ai(a,[0,100])}function HM(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function KM(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function GM(e,t,r){const n=e/2,a=rp([0,50],[0,n]);return(n-a(t)*r)*r}function YM(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function JM(e,t){if(t>0){const r=YM(e);return Math.min(...r)>=t}return!0}function rp(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function XM(e){return(String(e).split(".")[1]||"").length}function QM(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var XN=zN,ZM=HN,e6=KN,t6=GN;const QN=u.forwardRef(({className:e,...t},r)=>o.jsxs(XN,{ref:r,className:je("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(ZM,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:o.jsx(e6,{className:"absolute h-full bg-primary"})}),o.jsx(t6,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));QN.displayName=XN.displayName;var vd="Switch",[r6]=er(vd),[n6,s6]=r6(vd),ZN=u.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:d,form:h,...f}=e,[p,m]=u.useState(null),w=Re(t,y=>m(y)),g=u.useRef(!1),b=p?h||!!p.closest("form"):!0,[v,x]=Kr({prop:s,defaultProp:a??!1,onChange:d,caller:vd});return o.jsxs(n6,{scope:r,checked:v,disabled:l,children:[o.jsx(_e.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":n_(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:de(e.onClick,y=>{x(j=>!j),b&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),b&&o.jsx(r_,{control:p,bubbles:!g.current,name:n,value:c,checked:v,required:i,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});ZN.displayName=vd;var e_="SwitchThumb",t_=u.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=s6(e_,r);return o.jsx(_e.span,{"data-state":n_(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});t_.displayName=e_;var o6="SwitchBubbleInput",r_=u.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const i=u.useRef(null),l=Re(i,a),c=Jc(r),d=Xc(t);return u.useEffect(()=>{const h=i.current;if(!h)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const w=new Event("click",{bubbles:n});m.call(h,r),h.dispatchEvent(w)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});r_.displayName=o6;function n_(e){return e?"checked":"unchecked"}var s_=ZN,a6=t_;const o_=u.forwardRef(({className:e,...t},r)=>o.jsx(s_,{className:je("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(a6,{className:je("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));o_.displayName=s_.displayName;const i6=[{label:"Eastern Time (ET)",value:"America/New_York"},{label:"Central Time (CT)",value:"America/Chicago"},{label:"Mountain Time (MT)",value:"America/Denver"},{label:"Pacific Time (PT)",value:"America/Los_Angeles"}];function l6({onNavigate:e}){const[t,r]=u.useState("user-demo123@mealscrape.app"),[n,s]=u.useState(!1),[a,i]=u.useState(!1),[l,c]=u.useState(!1),[d,h]=u.useState(""),[f,p]=u.useState(!1),[m,w]=u.useState({speechRate:1,voiceIndex:0,autoRead:!0}),[g,b]=u.useState([]),[v,x]=u.useState(!1),[y,j]=u.useState("America/New_York"),[_,S]=u.useState(!1),[k,T]=u.useState(!1),[C,E]=u.useState(""),[I,M]=u.useState(""),[q,J]=u.useState(!1);u.useEffect(()=>{if("speechSynthesis"in window){const $=window.speechSynthesis.getVoices();b($)}},[]);const X=async()=>{try{await navigator.clipboard.writeText(t),i(!0),setTimeout(()=>i(!1),2e3)}catch{console.error("Failed to copy")}},F=()=>{if("speechSynthesis"in window){x(!0),window.speechSynthesis.cancel();const $=new SpeechSynthesisUtterance("This is how I will read your recipe steps. Next, preheat the oven to 350 degrees Fahrenheit.");$.rate=m.speechRate,g.length>0&&m.voiceIndex<g.length&&($.voice=g[m.voiceIndex]),$.onend=()=>x(!1),$.onerror=()=>x(!1),window.speechSynthesis.speak($)}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50",children:[o.jsxs("div",{className:"w-full max-w-5xl mx-auto px-4 py-4 pb-20 sm:px-6 sm:py-6 md:px-8 md:py-8",children:[o.jsxs("div",{className:"mb-4 sm:mb-6 md:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-slate-900 mb-1 sm:mb-2",children:"Settings"}),o.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your account and preferences"})]}),o.jsxs("div",{className:"space-y-4 sm:space-y-5 md:space-y-6",children:[o.jsx(He,{className:"border-slate-200 shadow-sm overflow-hidden",children:o.jsx(wt,{className:"bg-gradient-to-br from-orange-50 to-red-50 border-b border-orange-100 p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-orange-600 flex items-center justify-center shrink-0",children:o.jsx(ac,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(bt,{className:"text-lg sm:text-xl md:text-2xl text-slate-900 truncate",children:"Account"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600 truncate",children:"user@example.com"})]}),o.jsxs(Y,{onClick:()=>console.log("Logout"),variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-50 shrink-0 text-xs sm:text-sm",children:[o.jsx(CE,{className:"w-3 h-3 sm:w-4 sm:h-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Log Out"})]})]})})}),o.jsxs(He,{className:"border-slate-200 shadow-sm overflow-hidden",children:[o.jsx(wt,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-b border-emerald-100 p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-emerald-600 flex items-center justify-center shrink-0",children:o.jsx(uw,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx(bt,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"Timezone"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600",children:"Set your timezone for accurate meal planning"})]})]})}),o.jsx(Xe,{className:"p-4 sm:p-6",children:o.jsx("div",{className:"space-y-3 sm:space-y-4",children:o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"timezone-select",className:"text-xs sm:text-sm font-medium text-slate-700 mb-2 block",children:"Select Timezone"}),o.jsxs(an,{value:y,onValueChange:j,disabled:_,children:[o.jsx(Wr,{id:"timezone-select",className:"w-full h-10 sm:h-11 text-sm sm:text-base",children:o.jsx(ln,{placeholder:"Select your timezone"})}),o.jsx(qr,{children:i6.map($=>o.jsx(ir,{value:$.value,className:"text-sm sm:text-base",children:$.label},$.value))})]}),o.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 mt-2",children:["Current: ",o.jsx("span",{className:"font-medium text-slate-700",children:y})]})]})})})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm overflow-hidden",children:[o.jsx(wt,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-b border-purple-100 p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-purple-600 flex items-center justify-center shrink-0",children:o.jsx(oc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx(bt,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"Change Password"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600",children:"Update your account password"})]})]})}),o.jsx(Xe,{className:"p-4 sm:p-6",children:o.jsxs(Y,{onClick:()=>T(!0),className:"w-full bg-purple-600 hover:bg-purple-700 h-10 sm:h-11 text-sm sm:text-base",children:[o.jsx(oc,{className:"w-4 h-4 mr-2"}),"Change Password"]})})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm overflow-hidden",children:[o.jsx(wt,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-b border-blue-100 p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-600 flex items-center justify-center shrink-0",children:o.jsx(ac,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx(bt,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"Your Forwarding Email"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600",children:"Coming soon... Email recipes to your personal inbox"})]})]})}),o.jsxs(Xe,{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 sm:p-4 border-2 border-slate-200",children:[o.jsx(Fe,{className:"text-xs font-medium text-slate-600 uppercase tracking-wide mb-2 block",children:"Your Unique Email Address"}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("code",{className:"flex-1 text-xs sm:text-sm md:text-base font-mono font-semibold text-slate-900 bg-white px-3 py-2 sm:px-4 sm:py-3 rounded-md border border-slate-200 overflow-x-auto",children:t}),o.jsx(Y,{onClick:X,variant:"outline",size:"icon",className:"h-10 w-10 sm:h-12 sm:w-12 shrink-0",children:a?o.jsx(sc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"}):o.jsx(Sh,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),o.jsxs("div",{className:"mt-4 sm:mt-6 space-y-3",children:[o.jsx("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-100",children:o.jsxs("p",{className:"text-xs sm:text-sm text-slate-700",children:[o.jsx("span",{className:"font-semibold",children:"How it works:"})," Forward any recipe to this email, and it will automatically be saved to your collection."]})}),o.jsxs(Y,{onClick:()=>c(!0),variant:"outline",className:"w-full border-blue-200 hover:bg-blue-50 h-10 sm:h-11 text-sm sm:text-base",children:[o.jsx(qg,{className:"w-4 h-4 mr-2"}),"Test Email Import"]})]})]})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsxs(wt,{className:"p-4 sm:p-6",children:[o.jsx(bt,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"How to Save Recipes"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600",children:"Multiple ways to add recipes automatically"})]}),o.jsxs(Xe,{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"space-y-4 md:grid md:grid-cols-2 md:gap-6 md:space-y-0",children:[o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-pink-500 to-purple-600 flex items-center justify-center shrink-0",children:o.jsx(_E,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),o.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-slate-900",children:"From Instagram DMs - Feature Coming Soon..."})]}),o.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 sm:p-4 border border-slate-200",children:[o.jsx("div",{className:"aspect-video bg-gradient-to-br from-pink-100 to-purple-100 rounded-md flex items-center justify-center mb-3",children:o.jsx(EE,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-purple-600"})}),o.jsxs("ol",{className:"space-y-2 text-xs sm:text-sm text-slate-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"1."}),o.jsx("span",{children:"Long-press on recipe post"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"2."}),o.jsx("span",{children:'Tap "Forward"  "Email"'})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"3."}),o.jsx("span",{children:"Paste forwarding email"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"4."}),o.jsx("span",{children:"Send and auto-save!"})]})]})]})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-blue-500 to-cyan-600 flex items-center justify-center shrink-0",children:o.jsx(Co,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),o.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-slate-900",children:"From Photos - Feature Coming Soon..."})]}),o.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 sm:p-4 border border-slate-200",children:[o.jsx("div",{className:"aspect-video bg-gradient-to-br from-blue-100 to-cyan-100 rounded-md flex items-center justify-center mb-3",children:o.jsx(Co,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-cyan-600"})}),o.jsxs("ol",{className:"space-y-2 text-xs sm:text-sm text-slate-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"1."}),o.jsx("span",{children:"Screenshot recipe"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"2."}),o.jsx("span",{children:"Open photos, select screenshot"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"3."}),o.jsx("span",{children:'Share  "Mail"'})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"4."}),o.jsx("span",{children:"Send to forwarding email"})]})]})]})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4 md:col-span-2",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shrink-0",children:o.jsx(Sh,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),o.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-slate-900",children:"Copy & Paste Link"})]}),o.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 sm:p-4 border border-slate-200",children:[o.jsxs("ol",{className:"space-y-2 text-xs sm:text-sm text-slate-700 mb-3",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"1."}),o.jsx("span",{children:"Copy recipe URL from any website"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"2."}),o.jsx("span",{children:"Click button below to go to Add Recipe"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-semibold text-blue-600 shrink-0",children:"3."}),o.jsx("span",{children:"Paste link and let AI extract!"})]})]}),o.jsxs(Y,{onClick:()=>e("add-recipe"),className:"w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 font-semibold shadow-lg h-12 text-base",children:[o.jsx(Co,{className:"w-5 h-5 mr-3"}),"Go to Add Recipe"]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 rounded-lg p-3 sm:p-4 md:p-5 border-2 border-blue-200",children:o.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-blue-600 flex items-center justify-center shrink-0",children:o.jsx(lw,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-1 sm:mb-2 text-sm sm:text-base",children:"Pro Tip"}),o.jsx("p",{className:"text-xs sm:text-sm text-slate-700 leading-relaxed",children:"Save your forwarding email as a contact for quick access. Set up auto-forwarding rules to automatically send recipes."})]})]})})]})]}),o.jsxs(He,{className:"border-slate-200 shadow-sm",children:[o.jsx(wt,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-emerald-600 flex items-center justify-center shrink-0",children:o.jsx(hw,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx(bt,{className:"text-lg sm:text-xl md:text-2xl text-slate-900",children:"Voice Control"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600",children:"Customize voice commands in Cook Mode"})]})]})}),o.jsx(Xe,{className:"p-4 sm:p-6",children:"speechSynthesis"in window?o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-gradient-to-br from-emerald-50 to-teal-50 rounded-lg border border-emerald-200",children:[o.jsxs("div",{className:"flex-1 min-w-0 mr-3",children:[o.jsx(Fe,{htmlFor:"auto-read",className:"text-sm sm:text-base font-semibold text-slate-900 cursor-pointer",children:"Auto-Read Steps"}),o.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mt-1",children:"Auto-read each step aloud"})]}),o.jsx(o_,{id:"auto-read",checked:m.autoRead,onCheckedChange:$=>w(O=>({...O,autoRead:$}))})]}),o.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[o.jsxs(Fe,{className:"text-sm sm:text-base font-semibold text-slate-900",children:["Speech Rate: ",m.speechRate.toFixed(1),"x"]}),o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsx("span",{className:"text-xs sm:text-sm text-slate-600 w-10 sm:w-12",children:"Slow"}),o.jsx(QN,{value:[m.speechRate],onValueChange:$=>w(O=>({...O,speechRate:$[0]})),min:.5,max:2,step:.1,className:"flex-1"}),o.jsx("span",{className:"text-xs sm:text-sm text-slate-600 w-10 sm:w-12 text-right",children:"Fast"})]})]}),g.length>0&&o.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[o.jsx(Fe,{className:"text-sm sm:text-base font-semibold text-slate-900",children:"Voice Selection"}),o.jsxs(an,{value:m.voiceIndex.toString(),onValueChange:$=>w(O=>({...O,voiceIndex:parseInt($)})),children:[o.jsx(Wr,{className:"w-full h-10 sm:h-11 text-sm sm:text-base",children:o.jsx(ln,{})}),o.jsx(qr,{children:g.map(($,O)=>o.jsxs(ir,{value:O.toString(),className:"text-sm sm:text-base",children:[$.name," (",$.lang,")"]},O))})]})]}),o.jsxs(Y,{onClick:F,disabled:v,variant:"outline",className:"w-full border-emerald-300 hover:bg-emerald-50 h-10 sm:h-11 text-sm sm:text-base",children:[o.jsx(xw,{className:"w-4 h-4 mr-2"}),v?"Playing...":"Test Voice Settings"]}),o.jsx("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-200",children:o.jsxs("p",{className:"text-xs sm:text-sm text-slate-700",children:[o.jsx("span",{className:"font-semibold",children:"Voice commands in Cook Mode:"}),o.jsx("br",{}),'"Next", "Previous", "Repeat", "Read ingredients", and more.']})})]}):o.jsx("div",{className:"p-3 sm:p-4 bg-amber-50 rounded-lg border border-amber-300",children:o.jsx("p",{className:"text-xs sm:text-sm text-amber-900",children:"Voice control not supported in your browser. Try Chrome, Edge, or Safari."})})})]})]})]}),o.jsx(_t,{open:l,onOpenChange:c,children:o.jsxs(vt,{className:"w-[95vw] max-w-2xl max-h-[85vh] overflow-y-auto mx-auto",children:[o.jsxs(Vt,{children:[o.jsxs(Dt,{className:"text-lg sm:text-xl md:text-2xl flex items-center gap-2",children:[o.jsx(qg,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"}),"Test Email Import"]}),o.jsx(Nr,{className:"text-xs sm:text-sm",children:"Paste recipe text to simulate email import"})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4 mt-4",children:[o.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 sm:p-4 border border-slate-200",children:[o.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-2",children:o.jsx("span",{className:"font-semibold",children:"Example format:"})}),o.jsx("pre",{className:"text-[10px] sm:text-xs text-slate-700 bg-white p-2 sm:p-3 rounded border border-slate-200 overflow-x-auto",children:`Chocolate Chip Cookies

Ingredients:
2 cups flour
1 tsp baking soda
1 cup butter
2 eggs
2 cups chocolate chips

Instructions:
1. Preheat oven to 375F
2. Mix dry ingredients
3. Cream butter and sugar
4. Fold in chips
5. Bake 10-12 minutes`})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"recipe-text",className:"text-sm sm:text-base font-semibold mb-2 block",children:"Paste Recipe Text"}),o.jsx(Sn,{id:"recipe-text",placeholder:"Paste your recipe here...",value:d,onChange:$=>h($.target.value),className:"min-h-[200px] sm:min-h-[300px] font-mono text-xs sm:text-sm"})]}),o.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[o.jsx(Y,{onClick:()=>{p(!0),setTimeout(()=>{p(!1),c(!1),h("")},1e3)},disabled:f||!d.trim(),className:"flex-1 bg-blue-600 hover:bg-blue-700 h-10 sm:h-11 text-sm sm:text-base",children:f?o.jsxs(o.Fragment,{children:[o.jsx(ni,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):"Import Recipe"}),o.jsx(Y,{onClick:()=>{c(!1),h("")},variant:"outline",disabled:f,className:"h-10 sm:h-11 text-sm sm:text-base",children:"Cancel"})]})]})]})}),o.jsx(_t,{open:k,onOpenChange:T,children:o.jsxs(vt,{className:"w-[95vw] max-w-md mx-auto",children:[o.jsxs(Vt,{children:[o.jsx(Dt,{className:"text-lg sm:text-xl",children:"Change Password"}),o.jsx(Nr,{className:"text-xs sm:text-sm",children:"Enter your new password. Must be at least 6 characters."})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"new-password",className:"text-sm sm:text-base",children:"New Password"}),o.jsx("input",{id:"new-password",type:"password",value:C,onChange:$=>E($.target.value),className:"w-full px-3 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter new password"})]}),o.jsxs("div",{children:[o.jsx(Fe,{htmlFor:"confirm-password",className:"text-sm sm:text-base",children:"Confirm Password"}),o.jsx("input",{id:"confirm-password",type:"password",value:I,onChange:$=>M($.target.value),className:"w-full px-3 py-2 sm:py-2.5 text-sm sm:text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Confirm new password"})]}),o.jsxs("div",{className:"flex gap-2 sm:gap-3 pt-2",children:[o.jsx(Y,{onClick:()=>{if(C!==I){alert("Passwords do not match");return}if(C.length<6){alert("Password must be at least 6 characters");return}J(!0),setTimeout(()=>{J(!1),T(!1),E(""),M("")},1e3)},disabled:q||!C||!I,className:"flex-1 bg-purple-600 hover:bg-purple-700 h-10 sm:h-11 text-sm sm:text-base",children:q?o.jsxs(o.Fragment,{children:[o.jsx(ni,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update Password"}),o.jsx(Y,{onClick:()=>{T(!1),E(""),M("")},variant:"outline",disabled:q,className:"h-10 sm:h-11 text-sm sm:text-base",children:"Cancel"})]})]})]})})]})}function c6({onNavigate:e}){var te;const[t,r]=u.useState(null),[n,s]=u.useState(null),[a,i]=u.useState(null),[l,c]=u.useState("post"),[d,h]=u.useState(""),[f,p]=u.useState(""),[m,w]=u.useState(""),[g,b]=u.useState([]),[v,x]=u.useState(!1),[y,j]=u.useState(0),[_,S]=u.useState(!1),[k,T]=u.useState(""),[C,E]=u.useState([]),[I,M]=u.useState(null),[q,J]=u.useState(!1),[X,F]=u.useState(!1),$=re.useRef(null);u.useEffect(()=>{O()},[]);const O=async()=>{try{const{data:Z}=await L.auth.getUser();if(!Z.user)return;const{data:ie,error:Q}=await L.from("public_recipes").select("id, title, image_url").eq("user_id",Z.user.id).order("created_at",{ascending:!1});if(Q)throw Q;b(ie||[])}catch(Z){console.error("Error loading recipes:",Z)}},N=Z=>{var Q;const ie=(Q=Z.target.files)==null?void 0:Q[0];if(ie)if(ie.type.startsWith("image/")){if(ie.size>10*1024*1024){D.error("Image size must be less than 10MB");return}i("image"),r(ie),s(URL.createObjectURL(ie))}else if(ie.type.startsWith("video/")){const me=document.createElement("video");me.preload="metadata",me.onloadedmetadata=()=>{window.URL.revokeObjectURL(me.src);const U=Math.floor(me.duration);if(j(U),l==="daily"&&U>30){D.error("Daily videos must be 30 seconds or less");return}i("video"),r(ie),s(URL.createObjectURL(ie))},me.src=URL.createObjectURL(ie)}else D.error("Please select an image or video file")},R=()=>{r(null),i(null),n&&(URL.revokeObjectURL(n),s(null))},z=()=>{$.current&&(X?$.current.pause():$.current.play(),F(!X))},H=async Z=>{if(!Z.trim()){E([]);return}J(!0);try{const me=((await(await fetch(`https://itunes.apple.com/search?term=${encodeURIComponent(Z)}&media=music&entity=song&limit=20`)).json()).results||[]).map(U=>{var A;return{id:U.trackId.toString(),name:U.trackName||"Unknown Song",artists:[{name:U.artistName||"Unknown Artist"}],album:{images:[{url:((A=U.artworkUrl100)==null?void 0:A.replace("100x100","300x300"))||"https://via.placeholder.com/300"}]},preview_url:U.previewUrl||null}});E(me)}catch(ie){console.error("Music search failed:",ie),D.error("Search failed  try again"),E([])}finally{J(!1)}},B=async()=>{var Z,ie,Q,me,U,A;if(!t){D.error("Please select an image or video");return}if(l==="post"&&!d.trim()){D.error("Please enter a title");return}if(l==="daily"&&a==="video"&&y>30){D.error("Daily videos must be 30 seconds or less");return}x(!0);try{const{data:V}=await L.auth.getUser();if(!V.user)throw new Error("Not authenticated");const{data:se}=await L.from("profiles").select("id").eq("id",V.user.id).maybeSingle();se||await L.from("profiles").insert({id:V.user.id,username:((Z=V.user.email)==null?void 0:Z.split("@")[0])||"user",avatar_url:null});const ge=t.name.split(".").pop(),ke=`${V.user.id}/${Date.now()}.${ge}`,{error:Pe}=await L.storage.from("posts").upload(ke,t,{cacheControl:"3600",upsert:!1});if(Pe)throw Pe;const{data:Te}=L.storage.from("posts").getPublicUrl(ke),K={spotify_track_id:(I==null?void 0:I.id)||null,spotify_track_name:(I==null?void 0:I.name)||null,spotify_artist_name:((Q=(ie=I==null?void 0:I.artists)==null?void 0:ie[0])==null?void 0:Q.name)||null,spotify_album_art:((A=(U=(me=I==null?void 0:I.album)==null?void 0:me.images)==null?void 0:U[0])==null?void 0:A.url)||null,spotify_preview_url:(I==null?void 0:I.preview_url)||null};if(l==="daily"){const ae={user_id:V.user.id,media_url:Te.publicUrl,media_type:a==="image"?"photo":"video",caption:f.trim()||null,duration:a==="video"?y:null,...K},{error:G}=await L.from("dailies").insert(ae);if(G)throw G;await L.from("posts").insert({user_id:V.user.id,title:"Daily",caption:f.trim()||null,[a==="image"?"image_url":"video_url"]:Te.publicUrl,...K}),D.success("Daily posted successfully!")}else{let ae=m?`${window.location.origin}/#recipe/${m}`:null;const G={user_id:V.user.id,title:d.trim(),caption:f.trim()||null,recipe_url:ae,[a==="image"?"image_url":"video_url"]:Te.publicUrl,...K},{data:Se,error:ee}=await L.from("posts").insert(G).select().single();if(ee)throw ee;const he=D4(f);if(he.length>0&&Se)for(const we of he){const{data:$e}=await L.from("hashtags").select("id, usage_count").eq("tag",we).maybeSingle();let Tt;if($e)Tt=$e.id,await L.from("hashtags").update({usage_count:$e.usage_count+1}).eq("id",$e.id);else{const{data:W}=await L.from("hashtags").insert({tag:we,usage_count:1}).select().single();Tt=W.id}await L.from("post_hashtags").insert({post_id:Se.id,hashtag_id:Tt})}D.success("Post uploaded successfully!")}R(),h(""),p(""),w(""),M(null),e("discover")}catch(V){console.error("Upload error:",V),D.error(V.message||"Failed to upload")}finally{x(!1)}};return o.jsxs("div",{className:"min-h-screen bg-gray-50 pb-40 overflow-x-hidden",style:{paddingBottom:"max(10rem, env(safe-area-inset-bottom))"},children:[o.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-40",style:{paddingTop:"env(safe-area-inset-top)"},children:o.jsxs("div",{className:"max-w-lg mx-auto px-4 h-14 flex items-center justify-between",children:[o.jsx("button",{onClick:()=>e("discover"),className:"text-gray-600 hover:text-gray-900 font-medium",children:"Cancel"}),o.jsxs("h1",{className:"text-lg font-semibold",children:["New ",l==="daily"?"Daily":"Post"]}),o.jsx("div",{className:"w-16"})]})}),o.jsxs("div",{className:"max-w-lg mx-auto p-4 space-y-4",children:[o.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Post Type"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>c("post"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${l==="post"?"bg-gradient-to-r from-orange-600 to-red-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Post"}),o.jsx("button",{onClick:()=>c("daily"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${l==="daily"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Daily"})]}),l==="daily"&&o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Dailies expire after 24 hours. Videos must be 30 seconds or less."})]}),n?o.jsxs("div",{className:"relative",children:[a==="image"?o.jsx("img",{src:n,alt:"Preview",className:"w-full aspect-square object-cover rounded-xl"}):o.jsx("video",{src:n,controls:!0,className:"w-full aspect-square object-cover rounded-xl"}),o.jsx("button",{onClick:R,className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white rounded-full p-2",children:o.jsx(Bt,{className:"w-5 h-5"})})]}):o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 sm:p-12 text-center hover:border-orange-500 transition-colors cursor-pointer",children:o.jsxs("label",{className:"cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*,video/*",onChange:N,className:"hidden"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-3 sm:gap-4 justify-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl shadow-lg",children:o.jsx(kh,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl shadow-lg",children:o.jsx(LE,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-1",children:"Upload a photo or video"}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Click to select a file from your device"})]})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Add Music (optional)"}),o.jsxs("button",{onClick:()=>S(!0),className:"text-sm font-medium text-orange-600 hover:text-orange-700 flex items-center gap-1.5",children:[o.jsx(PE,{className:"w-5 h-5"}),I?"Change Music":"Add Music"]})]}),I&&o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("img",{src:(te=I.album.images[0])==null?void 0:te.url,alt:"album",className:"w-12 h-12 rounded object-cover"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-sm truncate",children:I.name}),o.jsx("p",{className:"text-xs text-gray-600 truncate",children:I.artists[0].name})]}),o.jsx("button",{onClick:z,className:"bg-green-600 hover:bg-green-700 text-white rounded-full p-2 transition-colors",children:X?o.jsx(im,{className:"w-4 h-4"}):o.jsx(lm,{className:"w-4 h-4 ml-0.5"})}),o.jsx("button",{onClick:()=>M(null),className:"text-red-600",children:o.jsx(Bt,{className:"w-5 h-5"})}),o.jsx("audio",{ref:$,src:I.preview_url,onEnded:()=>F(!1),onPlay:()=>F(!0),onPause:()=>F(!1)})]})]}),o.jsxs("div",{className:"space-y-4 bg-white rounded-xl p-4 shadow-sm",children:[l==="post"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:d,onChange:Z=>h(Z.target.value),placeholder:"Enter a title for your post",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",maxLength:200}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[d.length,"/200"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caption"}),o.jsx(Sn,{value:f,onChange:Z=>p(Z.target.value),placeholder:"Write a caption...",className:"min-h-24 resize-none",maxLength:2200}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[f.length,"/2200"]})]}),l==="post"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link to Recipe (optional)"}),o.jsxs(an,{value:m,onValueChange:w,children:[o.jsx(Wr,{children:o.jsx(ln,{placeholder:"Select a recipe from your collection"})}),o.jsx(qr,{children:g.length===0?o.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"No recipes yet. Add some recipes first!"}):g.map(Z=>o.jsx(ir,{value:Z.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[Z.image_url&&o.jsx("img",{src:Z.image_url,alt:Z.title,className:"w-8 h-8 rounded object-cover"}),o.jsx("span",{children:Z.title})]})},Z.id))})]})]})]}),t&&o.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(cm,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Ready to post"}),o.jsx("p",{className:"text-xs text-orange-700 mt-1 truncate",children:t.name})]})]})})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 px-4 pb-6 bg-gradient-to-t from-white via-white to-transparent z-40",style:{paddingBottom:"max(1.5rem, env(safe-area-inset-bottom))"},children:o.jsx("div",{className:"max-w-lg mx-auto flex justify-center",children:o.jsx(Y,{onClick:B,disabled:!t||l==="post"&&!d.trim()||v,className:"px-12 sm:px-16 py-5 sm:py-6 text-base sm:text-lg font-semibold bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 shadow-lg rounded-full",children:v?"Submitting...":"Submit"})})}),_&&o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-end md:items-center justify-center",children:o.jsxs("div",{className:"bg-white w-full md:max-w-lg md:rounded-2xl flex flex-col",style:{maxHeight:"85vh",paddingBottom:"env(safe-area-inset-bottom)"},children:[o.jsxs("div",{className:"p-4 border-b flex items-center justify-between flex-shrink-0",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Choose Music"}),o.jsx("button",{onClick:()=>S(!1),children:o.jsx(Bt,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"p-4 flex-shrink-0",children:o.jsx("input",{type:"text",value:k,onChange:Z=>{T(Z.target.value),H(Z.target.value)},placeholder:"Search any song...",className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-500",autoFocus:!0})}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-4 pb-4 space-y-2",children:[q&&o.jsx("p",{className:"text-center text-gray-500 py-8",children:"Searching..."}),C.map(Z=>{var ie;return o.jsxs("button",{onClick:()=>{M(Z),S(!1),D.success("Music added!")},className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 transition text-left",children:[o.jsx("img",{src:((ie=Z.album.images[0])==null?void 0:ie.url)||"/placeholder.png",alt:"album",className:"w-12 h-12 rounded flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-sm truncate",children:Z.name}),o.jsx("p",{className:"text-xs text-gray-600 truncate",children:Z.artists.map(Q=>Q.name).join(", ")})]}),o.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded flex-shrink-0",children:"30s Preview"})]},Z.id)}),k&&C.length===0&&!q&&o.jsx("p",{className:"text-center text-gray-500 py-8",children:"No tracks found"})]})]})})]})}const d6=e=>{const t=e.trim();return t.length===0?"Username required":t.length>10?"Max 10 characters":t.includes(" ")?"No spaces allowed":/^[a-zA-Z0-9._]+$/.test(t)?/^[._]/.test(t)||/[._]$/.test(t)?"Cannot start or end with _ or .":null:"Only letters, numbers, _ . allowed"},Lx=(e,t,r,n=.85)=>new Promise(s=>{const a=new Image,i=document.createElement("canvas"),l=i.getContext("2d");a.onload=()=>{let c=a.width,d=a.height;c>d?c>t&&(d=Math.round(d*t/c),c=t):d>r&&(c=Math.round(c*r/d),d=r),i.width=c,i.height=d,l.drawImage(a,0,0,c,d),i.toBlob(h=>{if(!h)return s(e);const f=new File([h],e.name,{type:e.type||"image/jpeg",lastModified:Date.now()});s(f)},e.type||"image/jpeg",n)},a.onerror=()=>s(e),a.src=URL.createObjectURL(e)});function Ux({username:e}){var U;const[t,r]=u.useState([]),[n,s]=u.useState(null),[a,i]=u.useState(!0),[l,c]=u.useState(!1),[d,h]=u.useState(null),[f,p]=u.useState(null),[m,w]=u.useState(!1),[g,b]=u.useState(!1),[v,x]=u.useState(""),[y,j]=u.useState(""),[_,S]=u.useState(""),[k,T]=u.useState(null),[C,E]=u.useState(!1),[I,M]=u.useState(!1),[q,J]=u.useState(null),[X,F]=u.useState(null),[$,O]=u.useState(!1),[N,R]=u.useState(null);u.useEffect(()=>{let A=!0;return(async()=>{var se;if(A)try{const{data:{user:ge}}=await L.auth.getUser();if(!ge){D.error("Please log in"),window.history.pushState({},"","/");return}h(ge.id);let ke=null,Pe=null;if(e){const{data:G,error:Se}=await L.from("profiles").select("id, username, avatar_url, banner_url, bio, link").ilike("username",e).single();if(!A)return;if(Se||!G){A&&D.error("User not found"),A&&window.history.pushState({},"","/discover"),A&&i(!1);return}ke=G,Pe=G.id}else{const{data:G}=await L.from("profiles").select("id, username, avatar_url, banner_url, bio, link").eq("id",ge.id).single();if(G)ke=G;else{const Se=((se=ge.email)==null?void 0:se.split("@")[0])||"user";await L.from("profiles").insert({id:ge.id,username:Se}),ke={id:ge.id,username:Se,avatar_url:null}}Pe=ge.id}if(!A)return;p(Pe),w(ge.id===Pe);const{count:Te}=await L.from("follows").select("*",{count:"exact",head:!0}).eq("following_id",Pe),{count:K}=await L.from("follows").select("*",{count:"exact",head:!0}).eq("follower_id",Pe);if(ge.id!==Pe){const{data:G}=await L.from("follows").select("id").eq("follower_id",ge.id).eq("following_id",Pe).maybeSingle();A&&M(!!G)}A&&s({...ke,followers_count:Te||0,following_count:K||0});const{data:ae}=await L.from("posts").select("id, user_id, title, image_url, video_url, caption, recipe_url, recipe_id, created_at").eq("user_id",Pe).order("created_at",{ascending:!1});A&&r(ae||[]),!e&&(ke!=null&&ke.username)&&window.history.replaceState({},"",`/profile/${ke.username}`),A&&E(await nc())}catch{A&&D.error("Failed to load profile")}finally{A&&i(!1)}})(),()=>{A=!1}},[e]),u.useEffect(()=>{const V=new URLSearchParams(window.location.search).get("post");V&&(T(V),window.history.replaceState({},"",window.location.pathname))},[]);const z=async A=>{var se;const V=(se=A.target.files)==null?void 0:se[0];if(!(!V||!d)){if(!V.type.startsWith("image/")){D.error("Please select an image");return}c(!0),D.loading("Resizing & uploading avatar...",{duration:0});try{const ge=await Lx(V,1080,1080,.9),ke=ge.name.split(".").pop()||"jpg",Pe=`${d}/avatar.${ke}`,{error:Te}=await L.storage.from("avatars").upload(Pe,ge,{upsert:!0});if(Te)throw Te;const{data:{publicUrl:K}}=L.storage.from("avatars").getPublicUrl(Pe),{error:ae}=await L.from("profiles").update({avatar_url:K+"?t="+Date.now()}).eq("id",d);if(ae)throw ae;s(G=>G?{...G,avatar_url:K+"?t="+Date.now()}:null),D.dismiss(),D.success("Avatar updated instantly!")}catch(ge){D.dismiss(),D.error("Upload failed: "+ge.message)}finally{c(!1)}}},H=async A=>{var se;const V=(se=A.target.files)==null?void 0:se[0];if(!(!V||!d)){if(!V.type.startsWith("image/")){D.error("Please select an image");return}c(!0),D.loading("Resizing & uploading banner...",{duration:0});try{const ge=await Lx(V,1920,600,.9),ke=ge.name.split(".").pop()||"jpg",Pe=`${d}/banner.${ke}`,{error:Te}=await L.storage.from("banners").upload(Pe,ge,{upsert:!0});if(Te)throw Te;const{data:{publicUrl:K}}=L.storage.from("banners").getPublicUrl(Pe),{error:ae}=await L.from("profiles").update({banner_url:K+"?t="+Date.now()}).eq("id",d);if(ae)throw ae;s(G=>G?{...G,banner_url:K+"?t="+Date.now()}:null),D.dismiss(),D.success("Banner updated instantly!")}catch(ge){D.dismiss(),D.error("Upload failed: "+ge.message)}finally{c(!1)}}},B=async()=>{d&&(await L.from("profiles").update({avatar_url:null}).eq("id",d),s(A=>A?{...A,avatar_url:null}:null),D.success("Avatar removed"))},te=async()=>{d&&(await L.from("profiles").update({banner_url:null}).eq("id",d),s(A=>A?{...A,banner_url:null}:null),D.success("Banner removed"))},Z=async()=>{if(!d)return;const A=d6(v);if(A){J(A),D.error(A);return}J(null);const V=y.trim().split(`
`);if(V.length>3){D.error("Maximum 3 lines allowed");return}if(V.some(ke=>ke.length>40)){D.error("Maximum 40 characters per line");return}const se={},ge=v.trim();if(ge!==(n==null?void 0:n.username)&&(se.username=ge),y.trim()!==((n==null?void 0:n.bio)||"").trim()&&(se.bio=y.trim()||null),_.trim()!==((n==null?void 0:n.link)||"").trim()&&(se.link=_.trim()||null),Object.keys(se).length>0){const{error:ke}=await L.from("profiles").update(se).eq("id",d);if(ke){ke.message.includes("profiles_username_key")?D.error("Username already taken"):D.error("Failed to update profile");return}s(Pe=>Pe?{...Pe,...se}:null),D.success("Profile updated!"),se.username&&window.history.replaceState({},"",`/profile/${se.username}`)}b(!1)},ie=async A=>{var se;const V=(se=A.target.files)==null?void 0:se[0];if(!(!V||!X)){O(!0);try{const ge=V.name.split(".").pop(),ke=`${Math.random()}.${ge}`,Pe=`${d}/${ke}`,{error:Te}=await L.storage.from("posts").upload(Pe,V);if(Te)throw Te;const{data:{publicUrl:K}}=L.storage.from("posts").getPublicUrl(Pe);F(ae=>ae?{...ae,photoUrl:K}:null),D.success("Photo uploaded!")}catch(ge){console.error("Upload error:",ge),D.error("Failed to upload photo")}finally{O(!1)}}},Q=async()=>{if(X)try{const{error:A}=await L.from("posts").update({caption:X.caption.trim()||null,recipe_url:X.recipeUrl.trim()||null,image_url:X.photoUrl.trim()||null}).eq("id",X.id);if(A)throw A;r(V=>V.map(se=>se.id===X.id?{...se,caption:X.caption.trim()||null,image_url:X.photoUrl.trim()||null,recipe_url:X.recipeUrl.trim()||null}:se)),D.success("Post updated!"),F(null)}catch(A){console.error("Edit error:",A),D.error("Failed to update post")}},me=async()=>{if(N)try{const{error:A}=await L.from("posts").delete().eq("id",N);if(A)throw A;r(V=>V.filter(se=>se.id!==N)),D.success("Post deleted!"),R(null)}catch(A){console.error("Delete error:",A),D.error("Failed to delete post")}};return a?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pb-32",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})}):n?o.jsxs("div",{className:"min-h-screen bg-gray-50 pb-32 overflow-x-hidden",style:{paddingBottom:"max(8rem, env(safe-area-inset-bottom))"},children:[o.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-30",style:{paddingTop:"env(safe-area-inset-top)"},children:o.jsxs("div",{className:"max-w-lg mx-auto px-4 h-14 flex items-center gap-3",children:[o.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(zo,{className:"w-6 h-6"})}),o.jsxs("h1",{className:"text-lg font-semibold",children:["@",n.username]})]})}),")",o.jsxs("div",{className:"max-w-lg mx-auto w-full",children:[o.jsxs("div",{className:"bg-white border-b border-gray-200",children:[o.jsxs("div",{className:"relative h-28 sm:h-32",children:[n.banner_url?o.jsx("img",{src:n.banner_url,alt:"Banner",className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-orange-100 to-amber-100"}),m&&o.jsxs("label",{className:"absolute top-2 right-2 bg-white rounded-full p-2 shadow-lg cursor-pointer hover:bg-gray-50",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:H,disabled:l,className:"hidden"}),o.jsx(Co,{className:"w-4 h-4 text-gray-600"})]})]}),o.jsxs("div",{className:"relative px-4 pb-3",children:[o.jsxs("div",{className:"flex items-start gap-3 -mt-10",children:[o.jsxs("div",{className:"flex-shrink-0",children:[o.jsxs("div",{className:"relative z-10 w-16 h-16 sm:w-20 sm:h-20",children:[n.avatar_url?o.jsx("img",{src:n.avatar_url,alt:n.username,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover border-4 border-white shadow-lg"}):o.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center text-white text-xl sm:text-2xl font-bold border-4 border-white shadow-lg",children:n.username[0].toUpperCase()}),m&&o.jsxs("label",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-1.5 shadow-md cursor-pointer hover:bg-gray-50 z-20",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:z,disabled:l,className:"hidden"}),o.jsx(Co,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-700"})]})]}),o.jsx("div",{className:"mt-1",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:n.username}),C&&o.jsx(Da,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-500 fill-yellow-500"})]})})]}),o.jsxs("div",{className:"flex-1 pt-8 sm:pt-11 text-center min-w-0 max-w-[60%]",children:[n.bio?o.jsx("div",{className:"space-y-1 sm:space-y-2 mt-2",children:n.bio.split(`
`).slice(0,3).map((A,V)=>o.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-800 italic tracking-wide leading-snug",style:{wordBreak:"break-word"},children:A.slice(0,40)},V))}):o.jsx("p",{className:"text-xs sm:text-sm text-gray-400 italic font-light mt-3",children:m?"Tap Edit Profile to add a bio":"No bio yet"}),n.link&&o.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 mt-2 block underline break-all",children:n.link})]})]}),m&&o.jsx("div",{className:"mt-4 flex justify-center px-2",children:o.jsxs("button",{onClick:()=>{x(n.username||""),j(n.bio||""),S(n.link||""),b(!0)},className:"inline-flex items-center gap-2 px-4 sm:px-6 py-2 sm:py-2.5 bg-orange-600 text-white text-sm sm:text-base font-medium rounded-full hover:bg-orange-700 shadow-md",children:[o.jsx(TE,{className:"w-4 h-4"}),"Edit Profile"]})})]}),!m&&o.jsx("div",{className:"px-4 py-3 border-t border-gray-200",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Y,{onClick:async()=>{if(!(!d||!f))try{I?(await L.from("follows").delete().eq("follower_id",d).eq("following_id",f),M(!1),s(A=>A?{...A,followers_count:(A.followers_count||0)-1}:null),D.success("Unsupported")):(await L.from("follows").insert({follower_id:d,following_id:f}),M(!0),s(A=>A?{...A,followers_count:(A.followers_count||0)+1}:null),D.success("Supporting!"))}catch{D.error("Failed to update")}},className:`flex-1 h-10 text-sm ${I?"bg-gray-200 text-gray-900 hover:bg-gray-300":"bg-gradient-to-r from-orange-500 to-red-500 text-white hover:from-orange-600 hover:to-red-600"}`,children:I?"Supporting":"Support"}),o.jsx(Y,{onClick:handleSendMessage,className:"flex-1 h-10 text-sm bg-white border-2 border-gray-300 text-gray-900 hover:bg-gray-50",children:"Message"})]})}),o.jsx("div",{className:"px-4 py-3 sm:py-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-center gap-8 sm:gap-10",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg sm:text-xl font-bold",children:t.length}),o.jsx("div",{className:"text-xs text-gray-500",children:"posts"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg sm:text-xl font-bold",children:n.followers_count||0}),o.jsx("div",{className:"text-xs text-gray-500",children:"supporters"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg sm:text-xl font-bold",children:n.following_count||0}),o.jsx("div",{className:"text-xs text-gray-500",children:"supporting"})]})]})})]}),o.jsx("div",{className:"border-b border-gray-200 bg-white",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 py-3",children:[o.jsx(bE,{className:"w-5 h-5 text-gray-900"}),o.jsx("span",{className:"text-sm font-semibold uppercase tracking-wider",children:"Posts"})]})}),t.length===0?o.jsxs("div",{className:"text-center py-12 sm:py-16 px-4",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl shadow-lg mb-4",children:o.jsx(cm,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),o.jsx("p",{className:"text-gray-900 font-semibold text-base sm:text-lg mb-2",children:"No posts yet"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Share your first recipe!"})]}):o.jsx("div",{className:"grid grid-cols-3 gap-0.5 sm:gap-1",children:t.map(A=>{let V=A.image_url;return V&&!V.includes("image-proxy")&&(V.includes("instagram.com")||V.includes("cdninstagram.com")||V.includes("fbcdn.net"))&&(V=`https://vohvdarghgqskzqjclux.supabase.co/functions/v1/image-proxy?url=${encodeURIComponent(V)}`),o.jsxs("div",{className:"aspect-square bg-gray-100 overflow-hidden relative group",children:[o.jsxs("div",{onClick:()=>T(A.id),className:"cursor-pointer hover:opacity-90 w-full h-full",children:[V?o.jsx("img",{src:V,alt:A.title||"Post",className:"w-full h-full object-cover",onError:se=>{console.error("[Profile] Image failed to load:",V),se.target.src="https://via.placeholder.com/400?text=No+Image"}}):A.video_url?o.jsx("video",{src:A.video_url,className:"w-full h-full object-cover"}):null,A.title&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2",children:o.jsx("p",{className:"text-white text-xs font-semibold truncate",children:A.title})})]}),(m||C)&&o.jsx("div",{className:"absolute top-2 right-2 z-10",onClick:se=>se.stopPropagation(),children:o.jsxs(rj,{children:[o.jsx(nj,{asChild:!0,children:o.jsx("button",{className:"p-1.5 bg-black/50 hover:bg-black/70 rounded-full backdrop-blur-sm",children:o.jsx(dw,{className:"w-4 h-4 text-white"})})}),o.jsxs(Gm,{align:"end",children:[o.jsxs(ui,{onClick:()=>{F({id:A.id,title:A.title||"",caption:A.caption||"",recipeUrl:A.recipe_url||"",photoUrl:A.image_url||A.video_url||""})},className:"cursor-pointer",children:[o.jsx(Ch,{className:"w-4 h-4 mr-2"}),"Edit post"]}),o.jsxs(ui,{onClick:()=>R(A.id),className:"cursor-pointer text-red-600",children:[o.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Delete post"]})]})]})})]},A.id)})})]}),o.jsx(_t,{open:g,onOpenChange:b,children:o.jsxs(vt,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[o.jsxs(Vt,{children:[o.jsx(Dt,{children:"Edit Profile"}),o.jsx(Nr,{children:"Max 40 characters per line  Max 3 lines"})]}),o.jsxs("div",{className:"space-y-4 sm:space-y-5 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"username",children:"Username"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(nt,{id:"username",value:v,onChange:A=>{x(A.target.value),J(null)},placeholder:"max 20 chars, no spaces",maxLength:20,className:q?"border-red-500":""}),q&&o.jsx("p",{className:"text-xs text-red-600 font-medium",children:q}),o.jsxs("p",{className:"text-xs text-gray-500",children:[v.length,"/20  letters, numbers, _ ."]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Fe,{htmlFor:"bio",children:"Bio"}),o.jsxs("span",{className:`text-xs font-medium ${y.length>120||y.split(`
`).length>3?"text-red-600":"text-gray-500"}`,children:[y.length,"/120  ",y.split(`
`).length,"/3 lines"]})]}),o.jsx(Sn,{id:"bio",value:y,onChange:A=>{let V=A.target.value;const se=V.split(`
`);se.length>3&&(V=se.slice(0,3).join(`
`)),V=V.split(`
`).map(ge=>ge.slice(0,40)).join(`
`),j(V)},placeholder:"i love peegi love peegi love peegi\\ni love peegi love peegi love peegi\\ni love peegi love peegi snguyen7",className:"min-h-[110px] resize-none text-center font-medium",rows:3}),o.jsx("p",{className:"text-xs text-gray-500 text-center -mt-2",children:"Press Enter for new line"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"link",children:"Link"}),o.jsx(nt,{id:"link",value:_,onChange:A=>S(A.target.value),placeholder:"https://example.com",type:"url"})]}),o.jsxs("div",{className:"flex gap-2",children:[n.avatar_url&&o.jsxs(Y,{variant:"outline",onClick:B,disabled:l,className:"flex-1 text-red-600",children:[o.jsx(Jt,{className:"w-4 h-4 mr-2"})," Remove Avatar"]}),n.banner_url&&o.jsxs(Y,{variant:"outline",onClick:te,disabled:l,className:"flex-1 text-red-600",children:[o.jsx(Jt,{className:"w-4 h-4 mr-2"})," Remove Banner"]})]})]}),o.jsxs(rs,{children:[o.jsx(Y,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),o.jsx(Y,{onClick:Z,children:"Save Changes"})]})]})}),k&&o.jsx(_t,{open:!!k,onOpenChange:()=>T(null),children:o.jsxs(vt,{className:"max-w-lg p-0 overflow-hidden bg-black relative max-h-[90vh]",children:[o.jsx(td,{postId:k,isOpen:!0,onClose:()=>T(null)}),o.jsxs("div",{className:"absolute inset-x-0 top-0 z-[100] flex items-center justify-between px-4 pt-4 pb-6 pointer-events-none",children:[o.jsx("button",{onClick:()=>T(null),className:"pointer-events-auto p-2 sm:p-3 bg-black/50 backdrop-blur-md hover:bg-black/70 rounded-full transition-all shadow-lg",children:o.jsx(zo,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(m||C)&&d===((U=t.find(A=>A.id===k))==null?void 0:U.user_id)&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{const A=t.find(V=>V.id===k);A&&F({id:A.id,title:A.title||"",caption:A.caption||"",recipeUrl:A.recipe_url||"",photoUrl:A.image_url||A.video_url||""}),T(null)},className:"pointer-events-auto p-2 sm:p-3 bg-black/50 backdrop-blur-md hover:bg-orange-600/70 rounded-full transition-all shadow-lg",title:"Edit post",children:o.jsx(Ch,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),o.jsx("button",{onClick:()=>{R(k),T(null)},className:"pointer-events-auto p-2 sm:p-3 bg-black/50 backdrop-blur-md hover:bg-red-600/70 rounded-full transition-all shadow-lg",title:"Delete post",children:o.jsx(Jt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]})]})]})}),o.jsx(xc,{open:!!X,onOpenChange:A=>!A&&F(null),children:o.jsxs(hi,{className:"max-h-[85vh] overflow-y-auto",children:[o.jsxs(fi,{children:[o.jsx(pi,{children:"Edit post"}),o.jsx(gi,{children:"Update your caption and recipe link."})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Caption"}),o.jsx(Sn,{value:(X==null?void 0:X.caption)||"",onChange:A=>F(V=>V?{...V,caption:A.target.value}:null),placeholder:"Write a caption...",className:"resize-none",rows:3})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Recipe URL"}),o.jsx("input",{type:"url",value:(X==null?void 0:X.recipeUrl)||"",onChange:A=>F(V=>V?{...V,recipeUrl:A.target.value}:null),placeholder:"https://...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Change Photo/Video (Upload from device)"}),o.jsx("input",{type:"file",accept:"image/*,video/*",onChange:ie,disabled:$,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"}),$&&o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Uploading..."}),(X==null?void 0:X.photoUrl)&&o.jsx("img",{src:X.photoUrl,alt:"Preview",className:"mt-2 w-32 h-32 object-cover rounded-lg",onError:A=>{A.currentTarget.style.display="none"}})]})]}),o.jsxs(mi,{children:[o.jsx(vi,{children:"Cancel"}),o.jsx(xi,{onClick:Q,className:"bg-orange-600 hover:bg-orange-700",children:"Save changes"})]})]})}),o.jsx(xc,{open:!!N,onOpenChange:A=>!A&&R(null),children:o.jsxs(hi,{children:[o.jsxs(fi,{children:[o.jsx(pi,{children:"Delete post"}),o.jsx(gi,{children:"Are you sure you want to delete this post? This action cannot be undone."})]}),o.jsxs(mi,{children:[o.jsx(vi,{children:"Cancel"}),o.jsx(xi,{onClick:me,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]}):o.jsx("div",{className:"text-center py-20 text-gray-500",children:"Profile not found"})}function u6(){const[e,t]=u.useState(!1),[r,n]=u.useState(null),[s,a]=u.useState(null),{user:i}=zc(),l=async()=>{if(i!=null&&i.email){t(!0),a(null),n(null);try{const{error:c}=await L.auth.resend({type:"signup",email:i.email});if(c)throw c;n("Verification email sent! Check your inbox.")}catch(c){a(c.message||"Failed to resend verification email")}finally{t(!1)}}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-amber-50 flex items-center justify-center px-4 overflow-hidden",style:{paddingTop:"max(1rem, env(safe-area-inset-top))",paddingBottom:"max(1rem, env(safe-area-inset-bottom))"},children:[o.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-bl from-red-200/30 to-transparent rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-orange-200/30 to-transparent rounded-full blur-3xl"}),o.jsx("div",{className:"relative z-10 w-full max-w-md",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 sm:p-8 border border-red-100",children:[o.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-lg mb-4",children:o.jsx(ac,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Verify Your Email"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Check your email and click the link to verify."})]}),o.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(cw,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-orange-800 min-w-0",children:[o.jsx("p",{className:"font-medium mb-1",children:"Email sent to:"}),o.jsx("p",{className:"font-mono text-xs sm:text-sm text-orange-900 break-all",children:i==null?void 0:i.email})]})]})}),o.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-4 sm:mb-6",children:[o.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-700",children:[o.jsx(_l,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{children:"Check your inbox and spam folder"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-700",children:[o.jsx(_l,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{children:"Click the verification link in the email"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-700",children:[o.jsx(_l,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{children:"Return to this page after verifying"})]})]}),s&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm mb-4",children:s}),r&&o.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm mb-4",children:r}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Y,{onClick:l,disabled:e,className:"w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-semibold h-11 sm:h-12 text-sm sm:text-base shadow-lg",children:e?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Eh,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Eh,{className:"w-4 h-4"}),"Resend Verification Email"]})}),o.jsx(Y,{onClick:()=>window.location.reload(),variant:"outline",className:"w-full border-orange-300 text-orange-700 hover:bg-orange-50 h-11 sm:h-12 text-sm sm:text-base",children:"I've Verified - Refresh Page"})]}),o.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:o.jsx("button",{onClick:async()=>{await L.auth.signOut(),window.location.reload()},className:"text-xs sm:text-sm text-gray-600 hover:text-gray-700",children:"Sign out"})})]})})]})}function h6({recipientUserId:e,recipientUsername:t,onBack:r}){const[n,s]=u.useState(null),[a,i]=u.useState([]),[l,c]=u.useState(null),[d,h]=u.useState([]),[f,p]=u.useState(""),[m,w]=u.useState(!0),g=u.useRef(null);u.useEffect(()=>{(async()=>{const{data:E}=await L.auth.getUser();E.user&&(s(E.user.id),await b(E.user.id),e&&t?await x(e,t,E.user.id):await v(E.user.id)),w(!1)})()},[e]);const b=async C=>{try{await L.from("notifications").update({read:!0}).eq("user_id",C).eq("type","message").eq("read",!1)}catch(E){console.error("Error marking notifications as read:",E)}};u.useEffect(()=>{if(!l||!n)return;const C=L.channel(`messages:${l.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages",filter:`conversation_id=eq.${l.id}`},async E=>{const I=E.new;h(M=>M.find(J=>J.id===I.id)?M:[...M,I]),I.sender_id!==n&&await L.from("direct_messages").update({read:!0}).eq("id",I.id)}).subscribe();return()=>{L.removeChannel(C)}},[l,n]),u.useEffect(()=>{l&&(y(l.id),j(l.id))},[l]),u.useEffect(()=>{var C;(C=g.current)==null||C.scrollIntoView({behavior:"smooth"})},[d]);const v=async C=>{const{data:E,error:I}=await L.from("conversations").select("*").or(`user1_id.eq.${C},user2_id.eq.${C}`).order("last_message_at",{ascending:!1});if(I){console.error("Error loading conversations:",I);return}const M=await Promise.all((E||[]).map(async q=>{const J=q.user1_id===C?q.user2_id:q.user1_id,{data:X}=await L.from("profiles").select("id, username, avatar_url").eq("id",J).maybeSingle(),{data:F}=await L.from("direct_messages").select("content, created_at").eq("conversation_id",q.id).order("created_at",{ascending:!1}).limit(1).maybeSingle(),{count:$}=await L.from("direct_messages").select("*",{count:"exact",head:!0}).eq("conversation_id",q.id).eq("read",!1).neq("sender_id",C);return{...q,other_user:X||{id:J,username:"Unknown",avatar_url:null},last_message:F,unread_count:$||0}}));i(M)},x=async(C,E,I)=>{const M=I||n;if(!M)return;const[q,J]=M<C?[M,C]:[C,M];let{data:X}=await L.from("conversations").select("*").eq("user1_id",q).eq("user2_id",J).maybeSingle();if(!X){const{data:$,error:O}=await L.from("conversations").insert({user1_id:q,user2_id:J}).select().single();if(O){console.error("Error creating conversation:",O),D.error("Failed to start conversation");return}X=$}const{data:F}=await L.from("profiles").select("id, username, avatar_url").eq("id",C).maybeSingle();c({...X,other_user:F||{id:C,username:E,avatar_url:null},unread_count:0})},y=async C=>{const{data:E,error:I}=await L.from("direct_messages").select("*").eq("conversation_id",C).order("created_at",{ascending:!0});if(I){console.error("Error loading messages:",I);return}h(E||[])},j=async C=>{n&&await L.from("direct_messages").update({read:!0}).eq("conversation_id",C).neq("sender_id",n).eq("read",!1)},_=async()=>{if(!f.trim()||!l||!n)return;const C=f.trim();p("");const{error:E,data:I}=await L.from("direct_messages").insert({conversation_id:l.id,sender_id:n,content:C}).select();if(E){console.error("Error sending message:",E),D.error("Failed to send message"),p(C);return}I&&I[0]&&h(q=>[...q,I[0]]),await L.from("conversations").update({last_message_at:new Date().toISOString()}).eq("id",l.id);const M=l.user1_id===n?l.user2_id:l.user1_id;M!==n&&await L.from("notifications").insert({user_id:M,actor_id:n,type:"message",conversation_id:l.id})},S=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),_())},k=C=>{const E=/(https?:\/\/[^\s]+)/g;return C.split(E).map((M,q)=>M.match(E)?o.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",onClick:J=>J.stopPropagation(),children:M},q):o.jsx("span",{children:M},q))},T=async C=>{if(!n)return;h(I=>I.filter(M=>M.id!==C));const{error:E}=await L.from("direct_messages").delete().eq("id",C).eq("sender_id",n);E?(console.error("Failed to delete message:",E),D.error("Could not delete message"),l&&y(l.id)):D.success("Message deleted")};return m?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pb-20",children:o.jsx("div",{className:"text-gray-600",children:"Loading messages..."})}):l?o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[o.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>{c(null),h([]),r&&e?r():n&&v(n)},className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(zo,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-red-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:l.other_user.avatar_url?o.jsx("img",{src:l.other_user.avatar_url,alt:l.other_user.username,className:"w-full h-full object-cover"}):l.other_user.username.charAt(0).toUpperCase()}),o.jsx("span",{className:"font-semibold",children:l.other_user.username})]})]})}),o.jsx("div",{className:"pt-16 flex-1 overflow-y-auto px-4 pb-[88px]",children:o.jsxs("div",{className:"space-y-4 py-4",children:[d.map(C=>o.jsx("div",{className:"flex justify-end",children:o.jsxs("div",{className:"relative group max-w-[75%]",onTouchStart:E=>{if(C.sender_id!==n)return;const I=setTimeout(()=>{var J;(J=E.target.closest(".group"))==null||J.classList.add("show-delete")},400),M=()=>{clearTimeout(I),document.removeEventListener("touchend",M)};document.addEventListener("touchend",M)},children:[o.jsxs("div",{className:`rounded-2xl px-4 py-2.5 text-sm leading-tight break-words shadow-sm ${C.sender_id===n?"bg-gray-200 text-gray-900":"bg-orange-500 text-white"}`,children:[o.jsx("p",{className:"whitespace-pre-wrap",children:k(C.content)}),o.jsx("span",{className:"text-xs opacity-70 mt-1 block text-right",children:new Date(C.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),C.sender_id===n&&o.jsx("button",{onClick:E=>{E.stopPropagation(),T(C.id)},className:`
                absolute -top-3 -right-3 
                w-9 h-9 rounded-full 
                bg-red-500 text-white 
                flex items-center justify-center 
                shadow-lg text-lg
                opacity-0 
                group-hover:opacity-100 
                group-[.show-delete]:opacity-100 
                transition-all duration-200 
                hover:bg-red-600 active:scale-95
                z-10
              `,children:""})]})},C.id)),o.jsx("div",{ref:g})]})}),o.jsx("div",{className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 w-80 bg-white border-t border-gray-200 px-4 py-3 z-50",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:f,onChange:C=>p(C.target.value),onKeyPress:S,placeholder:"Type a message...",className:"w-[80%] px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500"}),o.jsx(Y,{onClick:_,disabled:!f.trim(),className:"rounded-full bg-orange-500 hover:bg-orange-600 text-white px-6",children:o.jsx(Eo,{className:"w-5 h-5"})})]})})]}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[r&&o.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(zo,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:r?"Social Feed":"Messages"})]})}),o.jsx("div",{className:"pt-16 pb-20 px-4",children:a.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-500 mb-4",children:"No conversations yet"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Start a conversation from a user's profile"})]}):o.jsx("div",{className:"space-y-2",children:a.map(C=>o.jsxs("button",{onClick:()=>c(C),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-400 to-red-400 flex items-center justify-center text-white font-semibold overflow-hidden",children:C.other_user.avatar_url?o.jsx("img",{src:C.other_user.avatar_url,alt:C.other_user.username,className:"w-full h-full object-cover"}):C.other_user.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1 text-left min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-semibold truncate",children:C.other_user.username}),C.last_message&&o.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:new Date(C.last_message.created_at).toLocaleDateString()})]}),C.last_message&&o.jsx("p",{className:"text-sm text-gray-600 truncate",children:C.last_message.content}),C.unread_count>0&&o.jsx("span",{className:"inline-block mt-1 bg-orange-500 text-white text-xs px-2 py-0.5 rounded-full",children:C.unread_count})]})]},C.id))})})]})}var Fx=["light","dark"],f6="(prefers-color-scheme: dark)",m6=u.createContext(void 0),p6={setTheme:e=>{},themes:[]},g6=()=>{var e;return(e=u.useContext(m6))!=null?e:p6};u.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:l,nonce:c})=>{let d=a==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Fx.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(w,g=!1,b=!0)=>{let v=i?i[w]:w,x=g?w+"|| ''":`'${v}'`,y="";return s&&b&&!g&&Fx.includes(w)&&(y+=`d.style.colorScheme = '${w}';`),r==="class"?g||v?y+=`c.add(${x})`:y+="null":v&&(y+=`d[s](n,${x})`),y},m=e?`!function(){${h}${p(e)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${f6}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${d?"":"else{"+p(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(a,!1,!1)};}${f}}catch(t){}}();`;return u.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});const x6=({...e})=>{const{theme:t="system"}=g6();return o.jsx(v4,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},v6=Vc("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),a_=u.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:je(v6({variant:t}),e),...r}));a_.displayName="Alert";const y6=u.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:je("mb-1 font-medium leading-none tracking-tight",e),...t}));y6.displayName="AlertTitle";const i_=u.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:je("text-sm [&_p]:leading-relaxed",e),...t}));i_.displayName="AlertDescription";function w6(){const[e,t]=u.useState(!0),[r,n]=u.useState(!1),[s,a]=u.useState(""),[i,l]=u.useState({email:"",password:"",confirmPassword:"",name:""}),c=()=>{if(a(""),!i.email||!i.password){a("Please fill in all required fields");return}if(!e){if(!i.name){a("Please enter your name");return}if(i.password!==i.confirmPassword){a("Passwords do not match");return}if(i.password.length<6){a("Password must be at least 6 characters");return}}n(!0),setTimeout(()=>{n(!1),console.log(e?"Login":"Sign up",i)},1500)},d=(p,m)=>{l(w=>({...w,[p]:m})),a("")},h=()=>{t(!e),a(""),l({email:"",password:"",confirmPassword:"",name:""})},f=p=>{p.key==="Enter"&&c()};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-pink-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gradient-to-br from-orange-500 to-red-600 shadow-lg mb-3 sm:mb-4",children:o.jsx(ts,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-slate-900 mb-1 sm:mb-2",children:"Meal Scrape"}),o.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Your AI-powered recipe companion"})]}),o.jsxs(He,{className:"border-slate-200 shadow-xl overflow-hidden",children:[o.jsxs(wt,{className:"bg-gradient-to-br from-orange-50 to-red-50 border-b border-orange-100 p-4 sm:p-6",children:[o.jsx(bt,{className:"text-xl sm:text-2xl text-slate-900 text-center",children:e?"Welcome Back":"Create Account"}),o.jsx(Ct,{className:"text-xs sm:text-sm text-slate-600 text-center",children:e?"Sign in to access your recipes":"Join to start saving and organizing recipes"})]}),o.jsx(Xe,{className:"p-4 sm:p-6",children:o.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[s&&o.jsxs(a_,{variant:"destructive",className:"bg-red-50 border-red-200",children:[o.jsx(cw,{className:"h-4 w-4"}),o.jsx(i_,{className:"text-xs sm:text-sm",children:s})]}),!e&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"name",className:"text-sm sm:text-base font-medium text-slate-700",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(gw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-slate-400"}),o.jsx(nt,{id:"name",type:"text",placeholder:"John Doe",value:i.name,onChange:p=>d("name",p.target.value),onKeyPress:f,className:"pl-10 sm:pl-11 h-11 sm:h-12 text-sm sm:text-base",disabled:r})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"email",className:"text-sm sm:text-base font-medium text-slate-700",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-slate-400"}),o.jsx(nt,{id:"email",type:"email",placeholder:"you@example.com",value:i.email,onChange:p=>d("email",p.target.value),onKeyPress:f,className:"pl-10 sm:pl-11 h-11 sm:h-12 text-sm sm:text-base",disabled:r,autoComplete:"email"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"password",className:"text-sm sm:text-base font-medium text-slate-700",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-slate-400"}),o.jsx(nt,{id:"password",type:"password",placeholder:e?"Enter password":"Min. 6 characters",value:i.password,onChange:p=>d("password",p.target.value),onKeyPress:f,className:"pl-10 sm:pl-11 h-11 sm:h-12 text-sm sm:text-base",disabled:r,autoComplete:e?"current-password":"new-password"})]})]}),!e&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Fe,{htmlFor:"confirmPassword",className:"text-sm sm:text-base font-medium text-slate-700",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(oc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-slate-400"}),o.jsx(nt,{id:"confirmPassword",type:"password",placeholder:"Re-enter password",value:i.confirmPassword,onChange:p=>d("confirmPassword",p.target.value),onKeyPress:f,className:"pl-10 sm:pl-11 h-11 sm:h-12 text-sm sm:text-base",disabled:r,autoComplete:"new-password"})]})]}),e&&o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",className:"text-xs sm:text-sm text-orange-600 hover:text-orange-700 font-medium",onClick:()=>console.log("Forgot password"),children:"Forgot password?"})}),o.jsx(Y,{onClick:c,disabled:r,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 h-11 sm:h-12 text-sm sm:text-base font-semibold shadow-lg",children:r?o.jsxs(o.Fragment,{children:[o.jsx(ni,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 animate-spin"}),e?"Signing in...":"Creating account..."]}):o.jsxs(o.Fragment,{children:[e?"Sign In":"Create Account",o.jsx(lw,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2"})]})}),o.jsxs("div",{className:"relative my-4 sm:my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-slate-200"})}),o.jsx("div",{className:"relative flex justify-center text-xs sm:text-sm",children:o.jsx("span",{className:"px-2 bg-white text-slate-500",children:"OR"})})]}),o.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[o.jsxs(Y,{variant:"outline",className:"w-full h-11 sm:h-12 text-sm sm:text-base border-slate-300 hover:bg-slate-50",onClick:()=>console.log("Google login"),disabled:r,children:[o.jsxs("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),o.jsxs(Y,{variant:"outline",className:"w-full h-11 sm:h-12 text-sm sm:text-base border-slate-300 hover:bg-slate-50",onClick:()=>console.log("Apple login"),disabled:r,children:[o.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),"Continue with Apple"]})]})]})}),o.jsx("div",{className:"bg-slate-50 px-4 py-4 sm:px-6 sm:py-5 border-t border-slate-200",children:o.jsxs("p",{className:"text-xs sm:text-sm text-center text-slate-600",children:[e?"Don't have an account? ":"Already have an account? ",o.jsx("button",{onClick:h,disabled:r,className:"font-semibold text-orange-600 hover:text-orange-700 disabled:opacity-50",children:e?"Sign up":"Sign in"})]})})]}),!e&&o.jsxs("p",{className:"text-[10px] sm:text-xs text-center text-slate-500 mt-4 sm:mt-6 px-4",children:["By creating an account, you agree to our"," ",o.jsx("button",{className:"underline hover:text-slate-700",children:"Terms of Service"})," ","and"," ",o.jsx("button",{className:"underline hover:text-slate-700",children:"Privacy Policy"})]}),o.jsx("div",{className:"mt-4 sm:mt-6",children:o.jsx(Y,{variant:"ghost",className:"w-full text-xs sm:text-sm text-slate-600 hover:text-slate-900 hover:bg-white/50",onClick:()=>console.log("Continue as guest"),children:"Continue as Guest "})})]})})}function b6({onNavigate:e}){return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-orange-25 to-amber-50 overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-bl from-orange-200/30 to-transparent rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-amber-200/30 to-transparent rounded-full blur-3xl"}),o.jsx("div",{className:"relative z-10 h-screen flex flex-col items-center justify-center px-4 sm:px-6 pb-safe overflow-y-auto",style:{paddingTop:"max(2rem, env(safe-area-inset-top))",paddingBottom:"max(2rem, env(safe-area-inset-bottom))"},children:o.jsxs("div",{className:"text-center max-w-4xl mx-auto w-full",children:[o.jsxs("div",{className:"mb-8 sm:mb-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 sm:w-44 sm:h-44 bg-gradient-to-br from-orange-500 to-amber-500 rounded-2xl shadow-lg mb-4 sm:mb-6 p-0",children:o.jsx("img",{src:"/favicon.ico.jpg",alt:"Meal Scrape Logo",className:"w-48 h-48 sm:w-64 sm:h-64 object-contain"})}),o.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-gray-900 mb-3 px-4",children:"Meal Scrape"}),o.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-700 max-w-2xl mx-auto leading-relaxed px-4",children:["Automate your ",o.jsx("span",{className:"font-semibold text-orange-700",children:"Recipe"}),","," ",o.jsx("span",{className:"font-semibold text-amber-700",children:"Grocery List"}),", and"," ",o.jsx("span",{className:"font-semibold text-orange-600",children:"Cooking"})," all in one place."]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center mb-12 sm:mb-16 px-4",children:[o.jsxs(Y,{onClick:()=>e("discover"),size:"lg",className:"w-full sm:w-auto min-w-48 h-14 sm:h-16 text-base font-semibold bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 gap-3",children:[o.jsx(vo,{className:"w-5 h-5"}),o.jsx("span",{children:"Social Feed"})]}),o.jsxs(Y,{onClick:()=>e("my-recipes"),size:"lg",className:"w-full sm:w-auto min-w-48 h-14 sm:h-16 text-base font-semibold bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 gap-3",children:[o.jsx(fE,{className:"w-5 h-5"}),o.jsx("span",{children:"My Recipes"})]}),o.jsxs(Y,{onClick:()=>e("add-recipe"),size:"lg",className:"w-full sm:w-auto min-w-48 h-14 sm:h-16 text-base font-semibold bg-gradient-to-r from-orange-600 to-amber-500 hover:from-orange-700 hover:to-amber-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 gap-3",children:[o.jsx(Br,{className:"w-5 h-5"}),o.jsx("span",{children:"Add Recipe"})]})]}),o.jsxs("div",{className:"mt-6 sm:mt-8 pt-6 sm:pt-8 border-t border-orange-200/50 px-4",children:[o.jsxs("p",{className:"text-sm sm:text-base md:text-lg text-gray-600 max-w-3xl mx-auto leading-relaxed",children:["See a recipe online? ",o.jsx("span",{className:"font-bold text-red-600",children:'"I want that!"'}),o.jsx("br",{}),"Just ",o.jsx("span",{className:"font-semibold text-orange-600",children:"paste the link"})," in ",o.jsx("span",{className:"font-bold text-red-600",children:'"Add Recipe"'}),"  done.",o.jsx("br",{}),"Then plan, shop, and ",o.jsx("span",{className:"font-bold text-red-600",children:"COOK!"})]}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4 sm:gap-6 text-xs sm:text-sm text-gray-600 mt-4 sm:mt-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),o.jsx("span",{children:"Meal Planning"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),o.jsx("span",{children:"Smart Grocery Lists"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-600"}),o.jsx("span",{children:"Hands-Free Cooking"})]})]})]})]})})]})}const j6=({children:e})=>o.jsx("div",{className:"min-h-screen pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)] bg-gradient-to-br from-orange-50 to-amber-50",children:e});function N6(){const{user:e,loading:t,isEmailVerified:r}=zc(),[n,s]=u.useState(()=>{const l=window.location.pathname;if(l.match(/^\/post\/[a-f0-9]{36}$/))return"discover";if(l==="/"||l==="/discover-recipes")return"discover-recipes";if(l==="/discover")return"discover";if(l==="/recipes"||l==="/my-recipes")return"my-recipes";if(l==="/add-recipe")return"add-recipe";if(l==="/meal-planner")return"meal-planner";if(l==="/grocery-list")return"grocery-list";if(l==="/cart")return"cart";if(l==="/upload")return"upload";if(l==="/profile")return"profile";if(l==="/messages")return"messages";if(l==="/settings")return"settings";if(l==="/onboarding")return"onboarding";if(l.startsWith("/profile/")&&l!=="/profile"){const c=l.split("/profile/")[1];if(c)return`profile:${c}`}if(l!=="/"&&l.length>1&&!l.includes(".")){const c=l.substring(1);if(c&&!c.includes("/"))return`profile:${c}`}return"discover-recipes"});u.useEffect(()=>{const c=window.location.pathname.match(/^\/post\/([a-f0-9]{36})$/);if(c){const d=c[1];s("discover"),window.dispatchEvent(new CustomEvent("open-shared-post",{detail:d})),window.history.replaceState({},"","/discover")}},[]),u.useEffect(()=>{const l=()=>{const c=window.location.pathname;if(c==="/"||c==="/discover-recipes")s("discover-recipes");else if(c==="/discover")s("discover");else if(c==="/recipes"||c==="/my-recipes")s("my-recipes");else if(c==="/profile")s("profile");else if(c.startsWith("/profile/")&&c!=="/profile"){const d=c.split("/profile/")[1];d&&s(`profile:${d}`)}else if(c!=="/"&&c.length>1&&!c.includes(".")){const d=c.substring(1);d&&!d.includes("/")&&s(`profile:${d}`)}};return window.addEventListener("popstate",l),()=>window.removeEventListener("popstate",l)},[]);const a=l=>{const c={"discover-recipes":"/",discover:"/discover","my-recipes":"/recipes","add-recipe":"/add-recipe","meal-planner":"/meal-planner","grocery-list":"/grocery-list",cart:"/cart",upload:"/upload",profile:"/profile",messages:"/messages",settings:"/settings",onboarding:"/onboarding"};if(l.startsWith("profile:")){const h=l.split("profile:")[1];window.history.pushState({},"",`/${h}`),s(l);return}const d=c[l]||"/";window.history.pushState({},"",d),s(l)},i=()=>{if(n.startsWith("profile:")){const l=n.split("profile:")[1];return o.jsx(Ux,{username:l})}switch(n){case"discover-recipes":return o.jsx(M4,{onNavigate:a});case"discover":return o.jsx(rO,{onNavigate:a});case"my-recipes":return o.jsx(nO,{});case"add-recipe":return o.jsx(ZO,{onNavigate:a});case"meal-planner":return o.jsx(MM,{onNavigate:a});case"grocery-list":return o.jsx(DM,{onNavigate:a});case"cart":return o.jsx($M,{onNavigate:a});case"upload":return o.jsx(c6,{onNavigate:a});case"profile":return o.jsx(Ux,{});case"messages":return o.jsx(h6,{onBack:()=>a("discover")});case"settings":return o.jsx(l6,{onNavigate:a});default:return o.jsx(b6,{onNavigate:a})}};return t||e&&r===void 0?o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-orange-50 to-amber-50 flex items-center justify-center",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"relative w-20 h-28",children:[o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-16 h-12 border-8 border-orange-300 rounded-t-full"}),o.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-16 h-12 border-8 border-orange-300 rounded-b-full"}),o.jsx("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 w-1 bg-orange-600 origin-top animate-sand"})]}),o.jsx("p",{className:"mt-8 text-lg font-medium text-orange-800",children:"Preparing your kitchen"})]}),o.jsx("style",{children:`
          @keyframes sand {
            0%, 100% { height: 0; opacity: 1; }
            50% { height: 40px; opacity: 1; }
          }
          .animate-sand { animation: sand 2.4s infinite ease-in-out; }
        `})]}):e?r?o.jsx(j6,{children:o.jsxs(ER,{currentPage:n,onNavigate:a,children:[i(),o.jsx(x6,{})]})}):o.jsx(u6,{}):o.jsx(w6,{})}function _6(){return o.jsx(lE,{children:o.jsx(B2,{children:o.jsx(N6,{})})})}class S6 extends u.Component{constructor(r){super(r);yd(this,"handleReload",()=>{window.location.reload()});yd(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return console.error("ErrorBoundary caught error:",r),{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary componentDidCatch:",r,n),this.setState({errorInfo:n})}render(){var r;if(this.state.hasError){const n=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-pink-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-2xl",children:o.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden border-2 border-red-200",children:[o.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-orange-600 p-4 sm:p-6",children:[o.jsx("div",{className:"flex items-center justify-center mb-3",children:o.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center",children:o.jsx(ME,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white",strokeWidth:2.5})})}),o.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white text-center mb-2",children:"Oops! Something Went Wrong"}),o.jsx("p",{className:"text-sm sm:text-base text-white/90 text-center",children:"Don't worry, we're here to help you get back on track"})]}),o.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[o.jsx("div",{className:"bg-orange-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-orange-200",children:o.jsx("p",{className:"text-xs sm:text-sm text-gray-700 leading-relaxed",children:"We encountered an unexpected error. This has been logged and we'll look into it. In the meantime, try refreshing the page or returning to the home screen."})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[o.jsxs("button",{onClick:this.handleReload,className:"flex items-center justify-center gap-2 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white font-semibold rounded-lg sm:rounded-xl px-4 py-3 sm:py-4 transition-all hover:scale-105 active:scale-95 shadow-lg",children:[o.jsx(Eh,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"text-sm sm:text-base",children:"Reload Page"})]}),o.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center justify-center gap-2 bg-white hover:bg-gray-50 text-gray-700 font-semibold rounded-lg sm:rounded-xl px-4 py-3 sm:py-4 transition-all hover:scale-105 active:scale-95 shadow-md border-2 border-gray-200",children:[o.jsx(NE,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"text-sm sm:text-base",children:"Go Home"})]})]}),n&&this.state.error&&o.jsxs("details",{className:"bg-gray-50 rounded-lg sm:rounded-xl border border-gray-200",children:[o.jsxs("summary",{className:"px-3 py-2 sm:px-4 sm:py-3 cursor-pointer hover:bg-gray-100 rounded-lg sm:rounded-xl transition-colors flex items-center gap-2 text-xs sm:text-sm font-medium text-gray-700",children:[o.jsx(pE,{className:"w-4 h-4"}),o.jsx("span",{children:"Developer Info (Click to expand)"})]}),o.jsxs("div",{className:"p-3 sm:p-4 border-t border-gray-200 space-y-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-semibold text-gray-700 mb-1 uppercase tracking-wide",children:"Error Message"}),o.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 sm:p-3",children:o.jsx("code",{className:"text-[10px] sm:text-xs text-red-800 break-words",children:this.state.error.toString()})})]}),this.state.error.stack&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-semibold text-gray-700 mb-1 uppercase tracking-wide",children:"Stack Trace"}),o.jsx("div",{className:"bg-gray-900 rounded p-2 sm:p-3 overflow-x-auto max-h-48 sm:max-h-64",children:o.jsx("pre",{className:"text-[9px] sm:text-[10px] text-green-400 font-mono whitespace-pre-wrap break-words",children:this.state.error.stack})})]}),((r=this.state.errorInfo)==null?void 0:r.componentStack)&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs font-semibold text-gray-700 mb-1 uppercase tracking-wide",children:"Component Stack"}),o.jsx("div",{className:"bg-gray-900 rounded p-2 sm:p-3 overflow-x-auto max-h-48 sm:max-h-64",children:o.jsx("pre",{className:"text-[9px] sm:text-[10px] text-blue-400 font-mono whitespace-pre-wrap break-words",children:this.state.errorInfo.componentStack})})]})]})]}),!n&&o.jsxs("div",{className:"bg-blue-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-blue-200",children:[o.jsxs("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Need Help?"})]}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:"If this problem persists, please contact our support team."}),o.jsx("button",{onClick:()=>window.location.href="mailto:support@mealscrape.app",className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 font-semibold underline",children:"Contact Support "})]}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-purple-200",children:[o.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900 mb-2",children:" Quick Fixes"}),o.jsxs("ul",{className:"text-xs sm:text-sm text-gray-600 space-y-1.5 sm:space-y-2",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 shrink-0",children:""}),o.jsx("span",{children:"Try refreshing the page"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 shrink-0",children:""}),o.jsx("span",{children:"Clear your browser cache and cookies"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 shrink-0",children:""}),o.jsx("span",{children:"Check your internet connection"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 shrink-0",children:""}),o.jsx("span",{children:"Update your browser to the latest version"})]})]})]})]}),o.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:py-4 border-t border-gray-200",children:o.jsxs("p",{className:"text-[10px] sm:text-xs text-center text-gray-500",children:["Error ID: ",Date.now(),"  Meal Scrape v1.0"]})})]})})})}return this.props.children}}const l_=document.getElementById("root");if(!l_)throw new Error("Root element not found");ry(l_).render(o.jsx(u.StrictMode,{children:o.jsx(S6,{children:o.jsx(_6,{})})}));
